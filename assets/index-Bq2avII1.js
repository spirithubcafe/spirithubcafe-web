import{r as _,j as e,S as Gv,R as xw,T as vw,P as yw,C as bw,I as jw,a as Jm,M as eh,b as th,L as _w,D as id,c as nd,d as $s,e as Vs,f as Ca,g as kh,h as Ah,i as Eh,k as ld,X as St,l as Th,m as Dh,O as Oh,n as ri,o as Rh,p as Ba,q as Mh,H as ii,U as Ds,s as ah,t as Yv,u as Fc,F as Fx,v as Hx,w as sh,x as Wv,y as gs,z as na,A as Qv,Z as Gl,B as ht,E as Kv,G as Ih,J as uo,K as ww,N as ni,Q as od,V as Nw,W as pa,Y as Sw,_ as Ct,$ as Os,a0 as Cw,a1 as Xv,a2 as Zv,a3 as kw,a4 as Aw,a5 as Ew,a6 as Tw,a7 as Dw,a8 as Ow,a9 as Rw,aa as Mw,ab as rh,ac as Iw,ad as Pw,ae as zw,af as Lw,ag as Uw,ah as Bw,ai as Jv,aj as ih,ak as ey,al as Fw,am as so,an as $t,ao as cd,ap as ty,aq as ay,ar as sy,as as Hs,at as ro,au as Hw,av as _r,aw as qw,ax as $w,ay as ry,az as ua,aA as zn,aB as Gc,aC as Zt,aD as ti,aE as Ph,aF as jr,aG as ai,aH as Vw,aI as Gw,aJ as qs,aK as qx,aL as iy,aM as Yw,aN as Mn,aO as Fi,aP as Gs,aQ as Bn,aR as Yc,aS as Em,aT as Ww,aU as go,aV as Wc,aW as Bi,aX as Qw,aY as mo,aZ as $x,a_ as Kw,a$ as hs,b0 as Ys,b1 as Xw,b2 as Zw,b3 as Jw,b4 as In,b5 as ny,b6 as eN,b7 as tN,b8 as aN,b9 as sN,ba as ly,bb as oy,bc as us,bd as cy,be as Tm,bf as Vx,bg as dy,bh as rN,bi as iN,bj as uy,bk as Gx,bl as nN,bm as lN,bn as my,bo as oN,bp as to,bq as Qc,br as cN,bs as Hi,bt as Dm,bu as Yx,bv as dN,bw as uN,bx as mN,by as Wx,bz as Qx,bA as hN,bB as fN,bC as gN,bD as pN,bE as xN}from"./ui-DaqnjCu2.js";import{r as hy,a as vN}from"./vendor-gH-7aFTg.js";import{i as yN,B as bN,a as jN,u as Me}from"./i18n-BOmaDH76.js";import{r as Fn,_ as ho,C as fo,a as po,E as fy,o as _N,F as gy,L as wN,g as dd,i as NN,b as SN,v as CN,c as Kx,d as py,e as kN,f as AN,h as EN,j as TN,k as DN,p as ON,u as RN,l as MN,m as IN,n as PN,q as zN,s as Ie,t as qt,w as Qt,x as ut,y as Xe,z as mt,A as At,B as Es,D as Ts,G as rt,H as br,I as zi,J as Xx,K as Zx,M as LN,N as Jx,O as UN,P as BN,Q as FN,R as si,S as Hc,T as HN,U as xy,V as vy}from"./firebase-D5CpxhIx.js";import{u as li,a as qn,L as Ge,N as ev,b as zh,c as Lh,B as qN,R as $N,d as It}from"./routing-D1Evz6zv.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();var Om={exports:{}},Yl={},Rm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function VN(){return tv||(tv=1,function(i){function s(k,B){var F=k.length;k.push(B);e:for(;0<F;){var ue=F-1>>>1,X=k[ue];if(0<u(X,B))k[ue]=B,k[F]=X,F=ue;else break e}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var B=k[0],F=k.pop();if(F!==B){k[0]=F;e:for(var ue=0,X=k.length,Y=X>>>1;ue<Y;){var oe=2*(ue+1)-1,ce=k[oe],V=oe+1,K=k[V];if(0>u(ce,F))V<X&&0>u(K,ce)?(k[ue]=K,k[V]=F,ue=V):(k[ue]=ce,k[oe]=F,ue=oe);else if(V<X&&0>u(K,F))k[ue]=K,k[V]=F,ue=V;else break e}}return B}function u(k,B){var F=k.sortIndex-B.sortIndex;return F!==0?F:k.id-B.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var x=[],j=[],y=1,w=null,A=3,h=!1,p=!1,E=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var B=n(j);B!==null;){if(B.callback===null)o(j);else if(B.startTime<=k)o(j),B.sortIndex=B.expirationTime,s(x,B);else break;B=n(j)}}function S(k){if(E=!1,R(k),!p)if(n(x)!==null)p=!0,N||(N=!0,H());else{var B=n(j);B!==null&&ee(S,B.startTime-k)}}var N=!1,z=-1,L=5,T=-1;function O(){return b?!0:!(i.unstable_now()-T<L)}function I(){if(b=!1,N){var k=i.unstable_now();T=k;var B=!0;try{e:{p=!1,E&&(E=!1,U(z),z=-1),h=!0;var F=A;try{t:{for(R(k),w=n(x);w!==null&&!(w.expirationTime>k&&O());){var ue=w.callback;if(typeof ue=="function"){w.callback=null,A=w.priorityLevel;var X=ue(w.expirationTime<=k);if(k=i.unstable_now(),typeof X=="function"){w.callback=X,R(k),B=!0;break t}w===n(x)&&o(x),R(k)}else o(x);w=n(x)}if(w!==null)B=!0;else{var Y=n(j);Y!==null&&ee(S,Y.startTime-k),B=!1}}break e}finally{w=null,A=F,h=!1}B=void 0}}finally{B?H():N=!1}}}var H;if(typeof C=="function")H=function(){C(I)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=I,H=function(){he.postMessage(null)}}else H=function(){v(I,0)};function ee(k,B){z=v(function(){k(i.unstable_now())},B)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(k){switch(A){case 1:case 2:case 3:var B=3;break;default:B=A}var F=A;A=B;try{return k()}finally{A=F}},i.unstable_requestPaint=function(){b=!0},i.unstable_runWithPriority=function(k,B){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=A;A=k;try{return B()}finally{A=F}},i.unstable_scheduleCallback=function(k,B,F){var ue=i.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ue+F:ue):F=ue,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=F+X,k={id:y++,callback:B,priorityLevel:k,startTime:F,expirationTime:X,sortIndex:-1},F>ue?(k.sortIndex=F,s(j,k),n(x)===null&&k===n(j)&&(E?(U(z),z=-1):E=!0,ee(S,F-ue))):(k.sortIndex=X,s(x,k),p||h||(p=!0,N||(N=!0,H()))),k},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(k){var B=A;return function(){var F=A;A=B;try{return k.apply(this,arguments)}finally{A=F}}}}(Mm)),Mm}var av;function GN(){return av||(av=1,Rm.exports=VN()),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function YN(){if(sv)return Yl;sv=1;var i=GN(),s=hy(),n=vN();function o(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,r=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(r=a.return),t=a.return;while(t)}return a.tag===3?r:null}function m(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(o(188))}function x(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(o(188));return a!==t?null:t}for(var r=t,l=a;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return g(d),t;if(f===l)return g(d),a;f=f.sibling}throw Error(o(188))}if(r.return!==l.return)r=d,l=f;else{for(var D=!1,P=d.child;P;){if(P===r){D=!0,r=d,l=f;break}if(P===l){D=!0,l=d,r=f;break}P=P.sibling}if(!D){for(P=f.child;P;){if(P===r){D=!0,r=f,l=d;break}if(P===l){D=!0,l=f,r=d;break}P=P.sibling}if(!D)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:a}function j(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=j(t),a!==null)return a;t=t.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function he(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case b:return"Profiler";case E:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case T:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case h:return"Portal";case C:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case R:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return a=t.displayName||null,a!==null?a:he(t.type)||"Memo";case L:a=t._payload,t=t._init;try{return he(t(a))}catch{}}return null}var ee=Array.isArray,k=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ue=[],X=-1;function Y(t){return{current:t}}function oe(t){0>X||(t.current=ue[X],ue[X]=null,X--)}function ce(t,a){X++,ue[X]=t.current,t.current=a}var V=Y(null),K=Y(null),ye=Y(null),me=Y(null);function De(t,a){switch(ce(ye,a),ce(K,t),ce(V,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?gx(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=gx(a),t=px(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(V),ce(V,t)}function Ye(){oe(V),oe(K),oe(ye)}function Ke(t){t.memoizedState!==null&&ce(me,t);var a=V.current,r=px(a,t.type);a!==r&&(ce(K,t),ce(V,r))}function Qe(t){K.current===t&&(oe(V),oe(K)),me.current===t&&(oe(me),Fl._currentValue=F)}var $e=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Et=i.unstable_cancelCallback,Ha=i.unstable_shouldYield,vs=i.unstable_requestPaint,Tt=i.unstable_now,Yi=i.unstable_getCurrentPriorityLevel,hi=i.unstable_ImmediatePriority,Yn=i.unstable_UserBlockingPriority,fi=i.unstable_NormalPriority,jd=i.unstable_LowPriority,Wi=i.unstable_IdlePriority,gi=i.log,Sr=i.unstable_setDisableYieldValue,ts=null,xa=null;function ys(t){if(typeof gi=="function"&&Sr(t),xa&&typeof xa.setStrictMode=="function")try{xa.setStrictMode(ts,t)}catch{}}var va=Math.clz32?Math.clz32:Qi,Wn=Math.log,wo=Math.LN2;function Qi(t){return t>>>=0,t===0?32:31-(Wn(t)/wo|0)|0}var Qs=256,Ea=4194304;function Ta(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cr(t,a,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,D=t.pingedLanes;t=t.warmLanes;var P=l&134217727;return P!==0?(l=P&~f,l!==0?d=Ta(l):(D&=P,D!==0?d=Ta(D):r||(r=P&~t,r!==0&&(d=Ta(r))))):(P=l&~f,P!==0?d=Ta(P):D!==0?d=Ta(D):r||(r=l&~t,r!==0&&(d=Ta(r)))),d===0?0:a!==0&&a!==d&&(a&f)===0&&(f=d&-d,r=a&-a,f>=r||f===32&&(r&4194048)!==0)?a:d}function Ks(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function _d(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(){var t=Qs;return Qs<<=1,(Qs&4194048)===0&&(Qs=256),t}function xi(){var t=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),t}function Qn(t){for(var a=[],r=0;31>r;r++)a.push(t);return a}function bs(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wd(t,a,r,l,d,f){var D=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var P=t.entanglements,G=t.expirationTimes,re=t.hiddenUpdates;for(r=D&~r;0<r;){var fe=31-va(r),be=1<<fe;P[fe]=0,G[fe]=-1;var le=re[fe];if(le!==null)for(re[fe]=null,fe=0;fe<le.length;fe++){var de=le[fe];de!==null&&(de.lane&=-536870913)}r&=~be}l!==0&&No(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(D&~a))}function No(t,a,r){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-va(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Lt(t,a){var r=t.entangledLanes|=a;for(t=t.entanglements;r;){var l=31-va(r),d=1<<l;d&a|t[l]&a&&(t[l]|=a),r&=~d}}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xn(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:Ix(t.type))}function Zn(t,a){var r=B.p;try{return B.p=t,a()}finally{B.p=r}}var js=Math.random().toString(36).slice(2),ta="__reactFiber$"+js,ya="__reactProps$"+js,ma="__reactContainer$"+js,_s="__reactEvents$"+js,So="__reactListeners$"+js,Co="__reactHandles$"+js,Ki="__reactResources$"+js,kr="__reactMarker$"+js;function qa(t){delete t[ta],delete t[ya],delete t[_s],delete t[So],delete t[Co]}function Xs(t){var a=t[ta];if(a)return a;for(var r=t.parentNode;r;){if(a=r[ma]||r[ta]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(t=bx(t);t!==null;){if(r=t[ta])return r;t=bx(t)}return a}t=r,r=t.parentNode}return null}function Zs(t){if(t=t[ta]||t[ma]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Ar(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(o(33))}function Js(t){var a=t[Ki];return a||(a=t[Ki]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Vt(t){t[kr]=!0}var Oe=new Set,J={};function Ne(t,a){ke(t,a),ke(t+"Capture",a)}function ke(t,a){for(J[t]=a,t=0;t<a.length;t++)Oe.add(a[t])}var _t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aa={},Dt={};function ba(t){return $e.call(Dt,t)?!0:$e.call(aa,t)?!1:_t.test(t)?Dt[t]=!0:(aa[t]=!0,!1)}function Da(t,a,r){if(ba(a))if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+r)}}function ws(t,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+r)}}function $a(t,a,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(a,r,""+l)}}var Ut,Jn;function er(t){if(Ut===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);Ut=a&&a[1]||"",Jn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+t+Jn}var Nd=!1;function Sd(t,a){if(!t||Nd)return"";Nd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(de){var le=de}Reflect.construct(t,[],be)}else{try{be.call()}catch(de){le=de}t.call(be.prototype)}}else{try{throw Error()}catch(de){le=de}(be=t())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),D=f[0],P=f[1];if(D&&P){var G=D.split(`
`),re=P.split(`
`);for(d=l=0;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;for(;d<re.length&&!re[d].includes("DetermineComponentFrameRoot");)d++;if(l===G.length||d===re.length)for(l=G.length-1,d=re.length-1;1<=l&&0<=d&&G[l]!==re[d];)d--;for(;1<=l&&0<=d;l--,d--)if(G[l]!==re[d]){if(l!==1||d!==1)do if(l--,d--,0>d||G[l]!==re[d]){var fe=`
`+G[l].replace(" at new "," at ");return t.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",t.displayName)),fe}while(1<=l&&0<=d);break}}}finally{Nd=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?er(r):""}function u_(t){switch(t.tag){case 26:case 27:case 5:return er(t.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Sd(t.type,!1);case 11:return Sd(t.type.render,!1);case 1:return Sd(t.type,!0);case 31:return er("Activity");default:return""}}function cf(t){try{var a="";do a+=u_(t),t=t.return;while(t);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function as(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function df(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function m_(t){var a=df(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),l=""+t[a];if(!t.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,f=r.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(D){l=""+D,f.call(this,D)}}),Object.defineProperty(t,a,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(D){l=""+D},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ko(t){t._valueTracker||(t._valueTracker=m_(t))}function uf(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var r=a.getValue(),l="";return t&&(l=df(t)?t.checked?"true":"false":t.value),t=l,t!==r?(a.setValue(t),!0):!1}function Ao(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var h_=/[\n"\\]/g;function ss(t){return t.replace(h_,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cd(t,a,r,l,d,f,D,P){t.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.type=D:t.removeAttribute("type"),a!=null?D==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+as(a)):t.value!==""+as(a)&&(t.value=""+as(a)):D!=="submit"&&D!=="reset"||t.removeAttribute("value"),a!=null?kd(t,D,as(a)):r!=null?kd(t,D,as(r)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?t.name=""+as(P):t.removeAttribute("name")}function mf(t,a,r,l,d,f,D,P){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||a!=null))return;r=r!=null?""+as(r):"",a=a!=null?""+as(a):r,P||a===t.value||(t.value=a),t.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=P?t.checked:!!l,t.defaultChecked=!!l,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(t.name=D)}function kd(t,a,r){a==="number"&&Ao(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Xi(t,a,r,l){if(t=t.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=a.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),a=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function hf(t,a,r){if(a!=null&&(a=""+as(a),a!==t.value&&(t.value=a),r==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=r!=null?""+as(r):""}function ff(t,a,r,l){if(a==null){if(l!=null){if(r!=null)throw Error(o(92));if(ee(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),a=r}r=as(a),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Zi(t,a){if(a){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=a;return}}t.textContent=a}var f_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gf(t,a,r){var l=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,r):typeof r!="number"||r===0||f_.has(a)?a==="float"?t.cssFloat=r:t[a]=(""+r).trim():t[a]=r+"px"}function pf(t,a,r){if(a!=null&&typeof a!="object")throw Error(o(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&r[d]!==l&&gf(t,d,l)}else for(var f in a)a.hasOwnProperty(f)&&gf(t,f,a[f])}function Ad(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),p_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(t){return p_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ed=null;function Td(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,en=null;function xf(t){var a=Zs(t);if(a&&(t=a.stateNode)){var r=t[ya]||null;e:switch(t=a.stateNode,a.type){case"input":if(Cd(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ss(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var l=r[a];if(l!==t&&l.form===t.form){var d=l[ya]||null;if(!d)throw Error(o(90));Cd(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)l=r[a],l.form===t.form&&uf(l)}break e;case"textarea":hf(t,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Xi(t,!!r.multiple,a,!1)}}}var Dd=!1;function vf(t,a,r){if(Dd)return t(a,r);Dd=!0;try{var l=t(a);return l}finally{if(Dd=!1,(Ji!==null||en!==null)&&(fc(),Ji&&(a=Ji,t=en,en=Ji=null,xf(a),t)))for(a=0;a<t.length;a++)xf(t[a])}}function el(t,a){var r=t.stateNode;if(r===null)return null;var l=r[ya]||null;if(l===null)return null;r=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,a,typeof r));return r}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=!1;if(tr)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Od=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Od=!1}var Er=null,Rd=null,To=null;function yf(){if(To)return To;var t,a=Rd,r=a.length,l,d="value"in Er?Er.value:Er.textContent,f=d.length;for(t=0;t<r&&a[t]===d[t];t++);var D=r-t;for(l=1;l<=D&&a[r-l]===d[f-l];l++);return To=d.slice(t,1<l?1-l:void 0)}function Do(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function bf(){return!1}function Oa(t){function a(r,l,d,f,D){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=D,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(r=t[P],this[P]=r?r(f):f[P]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oo:bf,this.isPropagationStopped=bf,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),a}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Oa(vi),al=y({},vi,{view:0,detail:0}),x_=Oa(al),Md,Id,sl,Mo=y({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sl&&(sl&&t.type==="mousemove"?(Md=t.screenX-sl.screenX,Id=t.screenY-sl.screenY):Id=Md=0,sl=t),Md)},movementY:function(t){return"movementY"in t?t.movementY:Id}}),jf=Oa(Mo),v_=y({},Mo,{dataTransfer:0}),y_=Oa(v_),b_=y({},al,{relatedTarget:0}),Pd=Oa(b_),j_=y({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),__=Oa(j_),w_=y({},vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),N_=Oa(w_),S_=y({},vi,{data:0}),_f=Oa(S_),C_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=A_[t])?!!a[t]:!1}function zd(){return E_}var T_=y({},al,{key:function(t){if(t.key){var a=C_[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Do(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(t){return t.type==="keypress"?Do(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Do(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D_=Oa(T_),O_=y({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wf=Oa(O_),R_=y({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),M_=Oa(R_),I_=y({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P_=Oa(I_),z_=y({},Mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L_=Oa(z_),U_=y({},vi,{newState:0,oldState:0}),B_=Oa(U_),F_=[9,13,27,32],Ld=tr&&"CompositionEvent"in window,rl=null;tr&&"documentMode"in document&&(rl=document.documentMode);var H_=tr&&"TextEvent"in window&&!rl,Nf=tr&&(!Ld||rl&&8<rl&&11>=rl),Sf=" ",Cf=!1;function kf(t,a){switch(t){case"keyup":return F_.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tn=!1;function q_(t,a){switch(t){case"compositionend":return Af(a);case"keypress":return a.which!==32?null:(Cf=!0,Sf);case"textInput":return t=a.data,t===Sf&&Cf?null:t;default:return null}}function $_(t,a){if(tn)return t==="compositionend"||!Ld&&kf(t,a)?(t=yf(),To=Rd=Er=null,tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nf&&a.locale!=="ko"?null:a.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!V_[t.type]:a==="textarea"}function Tf(t,a,r,l){Ji?en?en.push(l):en=[l]:Ji=l,a=bc(a,"onChange"),0<a.length&&(r=new Ro("onChange","change",null,r,l),t.push({event:r,listeners:a}))}var il=null,nl=null;function G_(t){dx(t,0)}function Io(t){var a=Ar(t);if(uf(a))return t}function Df(t,a){if(t==="change")return a}var Of=!1;if(tr){var Ud;if(tr){var Bd="oninput"in document;if(!Bd){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),Bd=typeof Rf.oninput=="function"}Ud=Bd}else Ud=!1;Of=Ud&&(!document.documentMode||9<document.documentMode)}function Mf(){il&&(il.detachEvent("onpropertychange",If),nl=il=null)}function If(t){if(t.propertyName==="value"&&Io(nl)){var a=[];Tf(a,nl,t,Td(t)),vf(G_,a)}}function Y_(t,a,r){t==="focusin"?(Mf(),il=a,nl=r,il.attachEvent("onpropertychange",If)):t==="focusout"&&Mf()}function W_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(nl)}function Q_(t,a){if(t==="click")return Io(a)}function K_(t,a){if(t==="input"||t==="change")return Io(a)}function X_(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Va=typeof Object.is=="function"?Object.is:X_;function ll(t,a){if(Va(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var r=Object.keys(t),l=Object.keys(a);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!$e.call(a,d)||!Va(t[d],a[d]))return!1}return!0}function Pf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zf(t,a){var r=Pf(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=a&&l>=a)return{node:r,offset:a-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pf(r)}}function Lf(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Lf(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Uf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ao(t.document);a instanceof t.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)t=a.contentWindow;else break;a=Ao(t.document)}return a}function Fd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Z_=tr&&"documentMode"in document&&11>=document.documentMode,an=null,Hd=null,ol=null,qd=!1;function Bf(t,a,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qd||an==null||an!==Ao(l)||(l=an,"selectionStart"in l&&Fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=bc(Hd,"onSelect"),0<l.length&&(a=new Ro("onSelect","select",null,a,r),t.push({event:a,listeners:l}),a.target=an)))}function yi(t,a){var r={};return r[t.toLowerCase()]=a.toLowerCase(),r["Webkit"+t]="webkit"+a,r["Moz"+t]="moz"+a,r}var sn={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},$d={},Ff={};tr&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete sn.animationend.animation,delete sn.animationiteration.animation,delete sn.animationstart.animation),"TransitionEvent"in window||delete sn.transitionend.transition);function bi(t){if($d[t])return $d[t];if(!sn[t])return t;var a=sn[t],r;for(r in a)if(a.hasOwnProperty(r)&&r in Ff)return $d[t]=a[r];return t}var Hf=bi("animationend"),qf=bi("animationiteration"),$f=bi("animationstart"),J_=bi("transitionrun"),e0=bi("transitionstart"),t0=bi("transitioncancel"),Vf=bi("transitionend"),Gf=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function Ns(t,a){Gf.set(t,a),Ne(a,[t])}var Yf=new WeakMap;function rs(t,a){if(typeof t=="object"&&t!==null){var r=Yf.get(t);return r!==void 0?r:(a={value:t,source:a,stack:cf(a)},Yf.set(t,a),a)}return{value:t,source:a,stack:cf(a)}}var is=[],rn=0,Gd=0;function Po(){for(var t=rn,a=Gd=rn=0;a<t;){var r=is[a];is[a++]=null;var l=is[a];is[a++]=null;var d=is[a];is[a++]=null;var f=is[a];if(is[a++]=null,l!==null&&d!==null){var D=l.pending;D===null?d.next=d:(d.next=D.next,D.next=d),l.pending=d}f!==0&&Wf(r,d,f)}}function zo(t,a,r,l){is[rn++]=t,is[rn++]=a,is[rn++]=r,is[rn++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yd(t,a,r,l){return zo(t,a,r,l),Lo(t)}function nn(t,a){return zo(t,null,null,a),Lo(t)}function Wf(t,a,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&a!==null&&(d=31-va(r),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[a]:l.push(a),a.lane=r|536870912),f):null}function Lo(t){if(50<Rl)throw Rl=0,Ju=null,Error(o(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var ln={};function a0(t,a,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(t,a,r,l){return new a0(t,a,r,l)}function Wd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,a){var r=t.alternate;return r===null?(r=Ga(t.tag,a,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=a,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,a=t.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Qf(t,a){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,a=r.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Uo(t,a,r,l,d,f){var D=0;if(l=t,typeof t=="function")Wd(t)&&(D=1);else if(typeof t=="string")D=rw(t,r,V.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case T:return t=Ga(31,r,a,d),t.elementType=T,t.lanes=f,t;case p:return ji(r.children,d,f,a);case E:D=8,d|=24;break;case b:return t=Ga(12,r,a,d|2),t.elementType=b,t.lanes=f,t;case S:return t=Ga(13,r,a,d),t.elementType=S,t.lanes=f,t;case N:return t=Ga(19,r,a,d),t.elementType=N,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case C:D=10;break e;case U:D=9;break e;case R:D=11;break e;case z:D=14;break e;case L:D=16,l=null;break e}D=29,r=Error(o(130,t===null?"null":typeof t,"")),l=null}return a=Ga(D,r,a,d),a.elementType=t,a.type=l,a.lanes=f,a}function ji(t,a,r,l){return t=Ga(7,t,l,a),t.lanes=r,t}function Qd(t,a,r){return t=Ga(6,t,null,a),t.lanes=r,t}function Kd(t,a,r){return a=Ga(4,t.children!==null?t.children:[],t.key,a),a.lanes=r,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var on=[],cn=0,Bo=null,Fo=0,ns=[],ls=0,_i=null,sr=1,rr="";function wi(t,a){on[cn++]=Fo,on[cn++]=Bo,Bo=t,Fo=a}function Kf(t,a,r){ns[ls++]=sr,ns[ls++]=rr,ns[ls++]=_i,_i=t;var l=sr;t=rr;var d=32-va(l)-1;l&=~(1<<d),r+=1;var f=32-va(a)+d;if(30<f){var D=d-d%5;f=(l&(1<<D)-1).toString(32),l>>=D,d-=D,sr=1<<32-va(a)+d|r<<d|l,rr=f+t}else sr=1<<f|r<<d|l,rr=t}function Xd(t){t.return!==null&&(wi(t,1),Kf(t,1,0))}function Zd(t){for(;t===Bo;)Bo=on[--cn],on[cn]=null,Fo=on[--cn],on[cn]=null;for(;t===_i;)_i=ns[--ls],ns[ls]=null,rr=ns[--ls],ns[ls]=null,sr=ns[--ls],ns[ls]=null}var _a=null,Rt=null,dt=!1,Ni=null,Is=!1,Jd=Error(o(519));function Si(t){var a=Error(o(418,""));throw ul(rs(a,t)),Jd}function Xf(t){var a=t.stateNode,r=t.type,l=t.memoizedProps;switch(a[ta]=t,a[ya]=l,r){case"dialog":at("cancel",a),at("close",a);break;case"iframe":case"object":case"embed":at("load",a);break;case"video":case"audio":for(r=0;r<Il.length;r++)at(Il[r],a);break;case"source":at("error",a);break;case"img":case"image":case"link":at("error",a),at("load",a);break;case"details":at("toggle",a);break;case"input":at("invalid",a),mf(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ko(a);break;case"select":at("invalid",a);break;case"textarea":at("invalid",a),ff(a,l.value,l.defaultValue,l.children),ko(a)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||l.suppressHydrationWarning===!0||fx(a.textContent,r)?(l.popover!=null&&(at("beforetoggle",a),at("toggle",a)),l.onScroll!=null&&at("scroll",a),l.onScrollEnd!=null&&at("scrollend",a),l.onClick!=null&&(a.onclick=jc),a=!0):a=!1,a||Si(t)}function Zf(t){for(_a=t.return;_a;)switch(_a.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:_a=_a.return}}function cl(t){if(t!==_a)return!1;if(!dt)return Zf(t),dt=!0,!1;var a=t.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||gm(t.type,t.memoizedProps)),r=!r),r&&Rt&&Si(t),Zf(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(a===0){Rt=Cs(t.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;t=t.nextSibling}Rt=null}}else a===27?(a=Rt,Vr(t.type)?(t=ym,ym=null,Rt=t):Rt=a):Rt=_a?Cs(t.stateNode.nextSibling):null;return!0}function dl(){Rt=_a=null,dt=!1}function Jf(){var t=Ni;return t!==null&&(Ia===null?Ia=t:Ia.push.apply(Ia,t),Ni=null),t}function ul(t){Ni===null?Ni=[t]:Ni.push(t)}var eu=Y(null),Ci=null,ir=null;function Tr(t,a,r){ce(eu,a._currentValue),a._currentValue=r}function nr(t){t._currentValue=eu.current,oe(eu)}function tu(t,a,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===r)break;t=t.return}}function au(t,a,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var D=d.child;f=f.firstContext;e:for(;f!==null;){var P=f;f=d;for(var G=0;G<a.length;G++)if(P.context===a[G]){f.lanes|=r,P=f.alternate,P!==null&&(P.lanes|=r),tu(f.return,r,t),l||(D=null);break e}f=P.next}}else if(d.tag===18){if(D=d.return,D===null)throw Error(o(341));D.lanes|=r,f=D.alternate,f!==null&&(f.lanes|=r),tu(D,r,t),D=null}else D=d.child;if(D!==null)D.return=d;else for(D=d;D!==null;){if(D===t){D=null;break}if(d=D.sibling,d!==null){d.return=D.return,D=d;break}D=D.return}d=D}}function ml(t,a,r,l){t=null;for(var d=a,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var D=d.alternate;if(D===null)throw Error(o(387));if(D=D.memoizedProps,D!==null){var P=d.type;Va(d.pendingProps.value,D.value)||(t!==null?t.push(P):t=[P])}}else if(d===me.current){if(D=d.alternate,D===null)throw Error(o(387));D.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}d=d.return}t!==null&&au(a,t,r,l),a.flags|=262144}function Ho(t){for(t=t.firstContext;t!==null;){if(!Va(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ki(t){Ci=t,ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ja(t){return eg(Ci,t)}function qo(t,a){return Ci===null&&ki(t),eg(t,a)}function eg(t,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},ir===null){if(t===null)throw Error(o(308));ir=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ir=ir.next=a;return r}var s0=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(r){return r()})}},r0=i.unstable_scheduleCallback,i0=i.unstable_NormalPriority,sa={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new s0,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&r0(i0,function(){t.controller.abort()})}var fl=null,ru=0,dn=0,un=null;function n0(t,a){if(fl===null){var r=fl=[];ru=0,dn=nm(),un={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ru++,a.then(tg,tg),a}function tg(){if(--ru===0&&fl!==null){un!==null&&(un.status="fulfilled");var t=fl;fl=null,dn=0,un=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function l0(t,a){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var ag=k.S;k.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&n0(t,a),ag!==null&&ag(t,a)};var Ai=Y(null);function iu(){var t=Ai.current;return t!==null?t:wt.pooledCache}function $o(t,a){a===null?ce(Ai,Ai.current):ce(Ai,a.pool)}function sg(){var t=iu();return t===null?null:{parent:sa._currentValue,pool:t}}var gl=Error(o(460)),rg=Error(o(474)),Vo=Error(o(542)),nu={then:function(){}};function ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Go(){}function ng(t,a,r){switch(r=t[r],r===void 0?t.push(a):r!==a&&(a.then(Go,Go),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,og(t),t;default:if(typeof a.status=="string")a.then(Go,Go);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,og(t),t}throw pl=a,gl}}var pl=null;function lg(){if(pl===null)throw Error(o(459));var t=pl;return pl=null,t}function og(t){if(t===gl||t===Vo)throw Error(o(483))}var Dr=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ou(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,a,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ft&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=Lo(t),Wf(t,null,r),a}return zo(t,l,a,r),Lo(t)}function xl(t,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,r|=l,a.lanes=r,Lt(t,r)}}function cu(t,a){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var D={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=D:f=f.next=D,r=r.next}while(r!==null);f===null?d=f=a:f=f.next=a}else d=f=a;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=a:t.next=a,r.lastBaseUpdate=a}var du=!1;function vl(){if(du){var t=un;if(t!==null)throw t}}function yl(t,a,r,l){du=!1;var d=t.updateQueue;Dr=!1;var f=d.firstBaseUpdate,D=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var G=P,re=G.next;G.next=null,D===null?f=re:D.next=re,D=G;var fe=t.alternate;fe!==null&&(fe=fe.updateQueue,P=fe.lastBaseUpdate,P!==D&&(P===null?fe.firstBaseUpdate=re:P.next=re,fe.lastBaseUpdate=G))}if(f!==null){var be=d.baseState;D=0,fe=re=G=null,P=f;do{var le=P.lane&-536870913,de=le!==P.lane;if(de?(nt&le)===le:(l&le)===le){le!==0&&le===dn&&(du=!0),fe!==null&&(fe=fe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ve=t,Le=P;le=a;var vt=r;switch(Le.tag){case 1:if(Ve=Le.payload,typeof Ve=="function"){be=Ve.call(vt,be,le);break e}be=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Le.payload,le=typeof Ve=="function"?Ve.call(vt,be,le):Ve,le==null)break e;be=y({},be,le);break e;case 2:Dr=!0}}le=P.callback,le!==null&&(t.flags|=64,de&&(t.flags|=8192),de=d.callbacks,de===null?d.callbacks=[le]:de.push(le))}else de={lane:le,tag:P.tag,payload:P.payload,callback:P.callback,next:null},fe===null?(re=fe=de,G=be):fe=fe.next=de,D|=le;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;de=P,P=de.next,de.next=null,d.lastBaseUpdate=de,d.shared.pending=null}}while(!0);fe===null&&(G=be),d.baseState=G,d.firstBaseUpdate=re,d.lastBaseUpdate=fe,f===null&&(d.shared.lanes=0),Fr|=D,t.lanes=D,t.memoizedState=be}}function cg(t,a){if(typeof t!="function")throw Error(o(191,t));t.call(a)}function dg(t,a){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],a)}var mn=Y(null),Yo=Y(0);function ug(t,a){t=hr,ce(Yo,t),ce(mn,a),hr=t|a.baseLanes}function uu(){ce(Yo,hr),ce(mn,mn.current)}function mu(){hr=Yo.current,oe(mn),oe(Yo)}var Mr=0,Ze=null,pt=null,Gt=null,Wo=!1,hn=!1,Ei=!1,Qo=0,bl=0,fn=null,o0=0;function Bt(){throw Error(o(321))}function hu(t,a){if(a===null)return!1;for(var r=0;r<a.length&&r<t.length;r++)if(!Va(t[r],a[r]))return!1;return!0}function fu(t,a,r,l,d,f){return Mr=f,Ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=t===null||t.memoizedState===null?Wg:Qg,Ei=!1,f=r(l,d),Ei=!1,hn&&(f=hg(a,r,l,d)),mg(t),f}function mg(t){k.H=tc;var a=pt!==null&&pt.next!==null;if(Mr=0,Gt=pt=Ze=null,Wo=!1,bl=0,fn=null,a)throw Error(o(300));t===null||la||(t=t.dependencies,t!==null&&Ho(t)&&(la=!0))}function hg(t,a,r,l){Ze=t;var d=0;do{if(hn&&(fn=null),bl=0,hn=!1,25<=d)throw Error(o(301));if(d+=1,Gt=pt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=g0,f=a(r,l)}while(hn);return f}function c0(){var t=k.H,a=t.useState()[0];return a=typeof a.then=="function"?jl(a):a,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Ze.flags|=1024),a}function gu(){var t=Qo!==0;return Qo=0,t}function pu(t,a,r){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~r}function xu(t){if(Wo){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Wo=!1}Mr=0,Gt=pt=Ze=null,hn=!1,bl=Qo=0,fn=null}function Ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ze.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Yt(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var a=Gt===null?Ze.memoizedState:Gt.next;if(a!==null)Gt=a,pt=t;else{if(t===null)throw Ze.alternate===null?Error(o(467)):Error(o(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?Ze.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var a=bl;return bl+=1,fn===null&&(fn=[]),t=ng(fn,t,a),a=Ze,(Gt===null?a.memoizedState:Gt.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?Wg:Qg),t}function Ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===C)return ja(t)}throw Error(o(438,String(t)))}function yu(t){var a=null,r=Ze.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var l=Ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=vu(),Ze.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(t),l=0;l<t;l++)r[l]=O;return a.index++,r}function lr(t,a){return typeof a=="function"?a(t):a}function Xo(t){var a=Yt();return bu(a,pt,t)}function bu(t,a,r){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var D=d.next;d.next=f.next,f.next=D}a.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{a=d.next;var P=D=null,G=null,re=a,fe=!1;do{var be=re.lane&-536870913;if(be!==re.lane?(nt&be)===be:(Mr&be)===be){var le=re.revertLane;if(le===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),be===dn&&(fe=!0);else if((Mr&le)===le){re=re.next,le===dn&&(fe=!0);continue}else be={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(P=G=be,D=f):G=G.next=be,Ze.lanes|=le,Fr|=le;be=re.action,Ei&&r(f,be),f=re.hasEagerState?re.eagerState:r(f,be)}else le={lane:be,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(P=G=le,D=f):G=G.next=le,Ze.lanes|=be,Fr|=be;re=re.next}while(re!==null&&re!==a);if(G===null?D=f:G.next=P,!Va(f,t.memoizedState)&&(la=!0,fe&&(r=un,r!==null)))throw r;t.memoizedState=f,t.baseState=D,t.baseQueue=G,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ju(t){var a=Yt(),r=a.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,f=a.memoizedState;if(d!==null){r.pending=null;var D=d=d.next;do f=t(f,D.action),D=D.next;while(D!==d);Va(f,a.memoizedState)||(la=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),r.lastRenderedState=f}return[f,l]}function fg(t,a,r){var l=Ze,d=Yt(),f=dt;if(f){if(r===void 0)throw Error(o(407));r=r()}else r=a();var D=!Va((pt||d).memoizedState,r);D&&(d.memoizedState=r,la=!0),d=d.queue;var P=xg.bind(null,l,d,t);if(_l(2048,8,P,[t]),d.getSnapshot!==a||D||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,gn(9,Zo(),pg.bind(null,l,d,r,a),null),wt===null)throw Error(o(349));f||(Mr&124)!==0||gg(l,a,r)}return r}function gg(t,a,r){t.flags|=16384,t={getSnapshot:a,value:r},a=Ze.updateQueue,a===null?(a=vu(),Ze.updateQueue=a,a.stores=[t]):(r=a.stores,r===null?a.stores=[t]:r.push(t))}function pg(t,a,r,l){a.value=r,a.getSnapshot=l,vg(a)&&yg(t)}function xg(t,a,r){return r(function(){vg(a)&&yg(t)})}function vg(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!Va(t,r)}catch{return!0}}function yg(t){var a=nn(t,2);a!==null&&Xa(a,t,2)}function _u(t){var a=Ra();if(typeof t=="function"){var r=t;if(t=r(),Ei){ys(!0);try{r()}finally{ys(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:t},a}function bg(t,a,r,l){return t.baseState=r,bu(t,pt,typeof l=="function"?l:lr)}function d0(t,a,r,l,d){if(ec(t))throw Error(o(485));if(t=a.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){f.listeners.push(D)}};k.T!==null?r(!0):f.isTransition=!1,l(f),r=a.pending,r===null?(f.next=a.pending=f,jg(a,f)):(f.next=r.next,a.pending=r.next=f)}}function jg(t,a){var r=a.action,l=a.payload,d=t.state;if(a.isTransition){var f=k.T,D={};k.T=D;try{var P=r(d,l),G=k.S;G!==null&&G(D,P),_g(t,a,P)}catch(re){wu(t,a,re)}finally{k.T=f}}else try{f=r(d,l),_g(t,a,f)}catch(re){wu(t,a,re)}}function _g(t,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){wg(t,a,l)},function(l){return wu(t,a,l)}):wg(t,a,r)}function wg(t,a,r){a.status="fulfilled",a.value=r,Ng(a),t.state=r,a=t.pending,a!==null&&(r=a.next,r===a?t.pending=null:(r=r.next,a.next=r,jg(t,r)))}function wu(t,a,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=r,Ng(a),a=a.next;while(a!==l)}t.action=null}function Ng(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Sg(t,a){return a}function Cg(t,a){if(dt){var r=wt.formState;if(r!==null){e:{var l=Ze;if(dt){if(Rt){t:{for(var d=Rt,f=Is;d.nodeType!==8;){if(!f){d=null;break t}if(d=Cs(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Rt=Cs(d.nextSibling),l=d.data==="F!";break e}}Si(l)}l=!1}l&&(a=r[0])}}return r=Ra(),r.memoizedState=r.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:a},r.queue=l,r=Vg.bind(null,Ze,l),l.dispatch=r,l=_u(!1),f=Au.bind(null,Ze,!1,l.queue),l=Ra(),d={state:a,dispatch:null,action:t,pending:null},l.queue=d,r=d0.bind(null,Ze,d,f,r),d.dispatch=r,l.memoizedState=t,[a,r,!1]}function kg(t){var a=Yt();return Ag(a,pt,t)}function Ag(t,a,r){if(a=bu(t,a,Sg)[0],t=Xo(lr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=jl(a)}catch(D){throw D===gl?Vo:D}else l=a;a=Yt();var d=a.queue,f=d.dispatch;return r!==a.memoizedState&&(Ze.flags|=2048,gn(9,Zo(),u0.bind(null,d,r),null)),[l,f,t]}function u0(t,a){t.action=a}function Eg(t){var a=Yt(),r=pt;if(r!==null)return Ag(a,r,t);Yt(),a=a.memoizedState,r=Yt();var l=r.queue.dispatch;return r.memoizedState=t,[a,l,!1]}function gn(t,a,r,l){return t={tag:t,create:r,deps:l,inst:a,next:null},a=Ze.updateQueue,a===null&&(a=vu(),Ze.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,a.lastEffect=t),t}function Zo(){return{destroy:void 0,resource:void 0}}function Tg(){return Yt().memoizedState}function Jo(t,a,r,l){var d=Ra();l=l===void 0?null:l,Ze.flags|=t,d.memoizedState=gn(1|a,Zo(),r,l)}function _l(t,a,r,l){var d=Yt();l=l===void 0?null:l;var f=d.memoizedState.inst;pt!==null&&l!==null&&hu(l,pt.memoizedState.deps)?d.memoizedState=gn(a,f,r,l):(Ze.flags|=t,d.memoizedState=gn(1|a,f,r,l))}function Dg(t,a){Jo(8390656,8,t,a)}function Og(t,a){_l(2048,8,t,a)}function Rg(t,a){return _l(4,2,t,a)}function Mg(t,a){return _l(4,4,t,a)}function Ig(t,a){if(typeof a=="function"){t=t();var r=a(t);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Pg(t,a,r){r=r!=null?r.concat([t]):null,_l(4,4,Ig.bind(null,a,t),r)}function Nu(){}function zg(t,a){var r=Yt();a=a===void 0?null:a;var l=r.memoizedState;return a!==null&&hu(a,l[1])?l[0]:(r.memoizedState=[t,a],t)}function Lg(t,a){var r=Yt();a=a===void 0?null:a;var l=r.memoizedState;if(a!==null&&hu(a,l[1]))return l[0];if(l=t(),Ei){ys(!0);try{t()}finally{ys(!1)}}return r.memoizedState=[l,a],l}function Su(t,a,r){return r===void 0||(Mr&1073741824)!==0?t.memoizedState=a:(t.memoizedState=r,t=Fp(),Ze.lanes|=t,Fr|=t,r)}function Ug(t,a,r,l){return Va(r,a)?r:mn.current!==null?(t=Su(t,r,l),Va(t,a)||(la=!0),t):(Mr&42)===0?(la=!0,t.memoizedState=r):(t=Fp(),Ze.lanes|=t,Fr|=t,a)}function Bg(t,a,r,l,d){var f=B.p;B.p=f!==0&&8>f?f:8;var D=k.T,P={};k.T=P,Au(t,!1,a,r);try{var G=d(),re=k.S;if(re!==null&&re(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=l0(G,l);wl(t,a,fe,Ka(t))}else wl(t,a,l,Ka(t))}catch(be){wl(t,a,{then:function(){},status:"rejected",reason:be},Ka())}finally{B.p=f,k.T=D}}function m0(){}function Cu(t,a,r,l){if(t.tag!==5)throw Error(o(476));var d=Fg(t).queue;Bg(t,d,a,F,r===null?m0:function(){return Hg(t),r(l)})}function Fg(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:F},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:r},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Hg(t){var a=Fg(t).next.queue;wl(t,a,{},Ka())}function ku(){return ja(Fl)}function qg(){return Yt().memoizedState}function $g(){return Yt().memoizedState}function h0(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var r=Ka();t=Or(r);var l=Rr(a,t,r);l!==null&&(Xa(l,a,r),xl(l,a,r)),a={cache:su()},t.payload=a;return}a=a.return}}function f0(t,a,r){var l=Ka();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ec(t)?Gg(a,r):(r=Yd(t,a,r,l),r!==null&&(Xa(r,t,l),Yg(r,a,l)))}function Vg(t,a,r){var l=Ka();wl(t,a,r,l)}function wl(t,a,r,l){var d={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ec(t))Gg(a,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var D=a.lastRenderedState,P=f(D,r);if(d.hasEagerState=!0,d.eagerState=P,Va(P,D))return zo(t,a,d,0),wt===null&&Po(),!1}catch{}finally{}if(r=Yd(t,a,d,l),r!==null)return Xa(r,t,l),Yg(r,a,l),!0}return!1}function Au(t,a,r,l){if(l={lane:2,revertLane:nm(),action:l,hasEagerState:!1,eagerState:null,next:null},ec(t)){if(a)throw Error(o(479))}else a=Yd(t,r,l,2),a!==null&&Xa(a,t,2)}function ec(t){var a=t.alternate;return t===Ze||a!==null&&a===Ze}function Gg(t,a){hn=Wo=!0;var r=t.pending;r===null?a.next=a:(a.next=r.next,r.next=a),t.pending=a}function Yg(t,a,r){if((r&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,r|=l,a.lanes=r,Lt(t,r)}}var tc={readContext:ja,use:Ko,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},Wg={readContext:ja,use:Ko,useCallback:function(t,a){return Ra().memoizedState=[t,a===void 0?null:a],t},useContext:ja,useEffect:Dg,useImperativeHandle:function(t,a,r){r=r!=null?r.concat([t]):null,Jo(4194308,4,Ig.bind(null,a,t),r)},useLayoutEffect:function(t,a){return Jo(4194308,4,t,a)},useInsertionEffect:function(t,a){Jo(4,2,t,a)},useMemo:function(t,a){var r=Ra();a=a===void 0?null:a;var l=t();if(Ei){ys(!0);try{t()}finally{ys(!1)}}return r.memoizedState=[l,a],l},useReducer:function(t,a,r){var l=Ra();if(r!==void 0){var d=r(a);if(Ei){ys(!0);try{r(a)}finally{ys(!1)}}}else d=a;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=f0.bind(null,Ze,t),[l.memoizedState,t]},useRef:function(t){var a=Ra();return t={current:t},a.memoizedState=t},useState:function(t){t=_u(t);var a=t.queue,r=Vg.bind(null,Ze,a);return a.dispatch=r,[t.memoizedState,r]},useDebugValue:Nu,useDeferredValue:function(t,a){var r=Ra();return Su(r,t,a)},useTransition:function(){var t=_u(!1);return t=Bg.bind(null,Ze,t.queue,!0,!1),Ra().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,r){var l=Ze,d=Ra();if(dt){if(r===void 0)throw Error(o(407));r=r()}else{if(r=a(),wt===null)throw Error(o(349));(nt&124)!==0||gg(l,a,r)}d.memoizedState=r;var f={value:r,getSnapshot:a};return d.queue=f,Dg(xg.bind(null,l,f,t),[t]),l.flags|=2048,gn(9,Zo(),pg.bind(null,l,f,r,a),null),r},useId:function(){var t=Ra(),a=wt.identifierPrefix;if(dt){var r=rr,l=sr;r=(l&~(1<<32-va(l)-1)).toString(32)+r,a=""+a+"R"+r,r=Qo++,0<r&&(a+="H"+r.toString(32)),a+=""}else r=o0++,a=""+a+"r"+r.toString(32)+"";return t.memoizedState=a},useHostTransitionStatus:ku,useFormState:Cg,useActionState:Cg,useOptimistic:function(t){var a=Ra();a.memoizedState=a.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=Au.bind(null,Ze,!0,r),r.dispatch=a,[t,a]},useMemoCache:yu,useCacheRefresh:function(){return Ra().memoizedState=h0.bind(null,Ze)}},Qg={readContext:ja,use:Ko,useCallback:zg,useContext:ja,useEffect:Og,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Mg,useMemo:Lg,useReducer:Xo,useRef:Tg,useState:function(){return Xo(lr)},useDebugValue:Nu,useDeferredValue:function(t,a){var r=Yt();return Ug(r,pt.memoizedState,t,a)},useTransition:function(){var t=Xo(lr)[0],a=Yt().memoizedState;return[typeof t=="boolean"?t:jl(t),a]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:ku,useFormState:kg,useActionState:kg,useOptimistic:function(t,a){var r=Yt();return bg(r,pt,t,a)},useMemoCache:yu,useCacheRefresh:$g},g0={readContext:ja,use:Ko,useCallback:zg,useContext:ja,useEffect:Og,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Mg,useMemo:Lg,useReducer:ju,useRef:Tg,useState:function(){return ju(lr)},useDebugValue:Nu,useDeferredValue:function(t,a){var r=Yt();return pt===null?Su(r,t,a):Ug(r,pt.memoizedState,t,a)},useTransition:function(){var t=ju(lr)[0],a=Yt().memoizedState;return[typeof t=="boolean"?t:jl(t),a]},useSyncExternalStore:fg,useId:qg,useHostTransitionStatus:ku,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,a){var r=Yt();return pt!==null?bg(r,pt,t,a):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yu,useCacheRefresh:$g},pn=null,Nl=0;function ac(t){var a=Nl;return Nl+=1,pn===null&&(pn=[]),ng(pn,t,a)}function Sl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function sc(t,a){throw a.$$typeof===w?Error(o(525)):(t=Object.prototype.toString.call(a),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Kg(t){var a=t._init;return a(t._payload)}function Xg(t){function a(ae,Z){if(t){var se=ae.deletions;se===null?(ae.deletions=[Z],ae.flags|=16):se.push(Z)}}function r(ae,Z){if(!t)return null;for(;Z!==null;)a(ae,Z),Z=Z.sibling;return null}function l(ae){for(var Z=new Map;ae!==null;)ae.key!==null?Z.set(ae.key,ae):Z.set(ae.index,ae),ae=ae.sibling;return Z}function d(ae,Z){return ae=ar(ae,Z),ae.index=0,ae.sibling=null,ae}function f(ae,Z,se){return ae.index=se,t?(se=ae.alternate,se!==null?(se=se.index,se<Z?(ae.flags|=67108866,Z):se):(ae.flags|=67108866,Z)):(ae.flags|=1048576,Z)}function D(ae){return t&&ae.alternate===null&&(ae.flags|=67108866),ae}function P(ae,Z,se,xe){return Z===null||Z.tag!==6?(Z=Qd(se,ae.mode,xe),Z.return=ae,Z):(Z=d(Z,se),Z.return=ae,Z)}function G(ae,Z,se,xe){var Ae=se.type;return Ae===p?fe(ae,Z,se.props.children,xe,se.key):Z!==null&&(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&Kg(Ae)===Z.type)?(Z=d(Z,se.props),Sl(Z,se),Z.return=ae,Z):(Z=Uo(se.type,se.key,se.props,null,ae.mode,xe),Sl(Z,se),Z.return=ae,Z)}function re(ae,Z,se,xe){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=Kd(se,ae.mode,xe),Z.return=ae,Z):(Z=d(Z,se.children||[]),Z.return=ae,Z)}function fe(ae,Z,se,xe,Ae){return Z===null||Z.tag!==7?(Z=ji(se,ae.mode,xe,Ae),Z.return=ae,Z):(Z=d(Z,se),Z.return=ae,Z)}function be(ae,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Qd(""+Z,ae.mode,se),Z.return=ae,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return se=Uo(Z.type,Z.key,Z.props,null,ae.mode,se),Sl(se,Z),se.return=ae,se;case h:return Z=Kd(Z,ae.mode,se),Z.return=ae,Z;case L:var xe=Z._init;return Z=xe(Z._payload),be(ae,Z,se)}if(ee(Z)||H(Z))return Z=ji(Z,ae.mode,se,null),Z.return=ae,Z;if(typeof Z.then=="function")return be(ae,ac(Z),se);if(Z.$$typeof===C)return be(ae,qo(ae,Z),se);sc(ae,Z)}return null}function le(ae,Z,se,xe){var Ae=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Ae!==null?null:P(ae,Z,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return se.key===Ae?G(ae,Z,se,xe):null;case h:return se.key===Ae?re(ae,Z,se,xe):null;case L:return Ae=se._init,se=Ae(se._payload),le(ae,Z,se,xe)}if(ee(se)||H(se))return Ae!==null?null:fe(ae,Z,se,xe,null);if(typeof se.then=="function")return le(ae,Z,ac(se),xe);if(se.$$typeof===C)return le(ae,Z,qo(ae,se),xe);sc(ae,se)}return null}function de(ae,Z,se,xe,Ae){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ae=ae.get(se)||null,P(Z,ae,""+xe,Ae);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case A:return ae=ae.get(xe.key===null?se:xe.key)||null,G(Z,ae,xe,Ae);case h:return ae=ae.get(xe.key===null?se:xe.key)||null,re(Z,ae,xe,Ae);case L:var et=xe._init;return xe=et(xe._payload),de(ae,Z,se,xe,Ae)}if(ee(xe)||H(xe))return ae=ae.get(se)||null,fe(Z,ae,xe,Ae,null);if(typeof xe.then=="function")return de(ae,Z,se,ac(xe),Ae);if(xe.$$typeof===C)return de(ae,Z,se,qo(Z,xe),Ae);sc(Z,xe)}return null}function Ve(ae,Z,se,xe){for(var Ae=null,et=null,Re=Z,qe=Z=0,ca=null;Re!==null&&qe<se.length;qe++){Re.index>qe?(ca=Re,Re=null):ca=Re.sibling;var ot=le(ae,Re,se[qe],xe);if(ot===null){Re===null&&(Re=ca);break}t&&Re&&ot.alternate===null&&a(ae,Re),Z=f(ot,Z,qe),et===null?Ae=ot:et.sibling=ot,et=ot,Re=ca}if(qe===se.length)return r(ae,Re),dt&&wi(ae,qe),Ae;if(Re===null){for(;qe<se.length;qe++)Re=be(ae,se[qe],xe),Re!==null&&(Z=f(Re,Z,qe),et===null?Ae=Re:et.sibling=Re,et=Re);return dt&&wi(ae,qe),Ae}for(Re=l(Re);qe<se.length;qe++)ca=de(Re,ae,qe,se[qe],xe),ca!==null&&(t&&ca.alternate!==null&&Re.delete(ca.key===null?qe:ca.key),Z=f(ca,Z,qe),et===null?Ae=ca:et.sibling=ca,et=ca);return t&&Re.forEach(function(Kr){return a(ae,Kr)}),dt&&wi(ae,qe),Ae}function Le(ae,Z,se,xe){if(se==null)throw Error(o(151));for(var Ae=null,et=null,Re=Z,qe=Z=0,ca=null,ot=se.next();Re!==null&&!ot.done;qe++,ot=se.next()){Re.index>qe?(ca=Re,Re=null):ca=Re.sibling;var Kr=le(ae,Re,ot.value,xe);if(Kr===null){Re===null&&(Re=ca);break}t&&Re&&Kr.alternate===null&&a(ae,Re),Z=f(Kr,Z,qe),et===null?Ae=Kr:et.sibling=Kr,et=Kr,Re=ca}if(ot.done)return r(ae,Re),dt&&wi(ae,qe),Ae;if(Re===null){for(;!ot.done;qe++,ot=se.next())ot=be(ae,ot.value,xe),ot!==null&&(Z=f(ot,Z,qe),et===null?Ae=ot:et.sibling=ot,et=ot);return dt&&wi(ae,qe),Ae}for(Re=l(Re);!ot.done;qe++,ot=se.next())ot=de(Re,ae,qe,ot.value,xe),ot!==null&&(t&&ot.alternate!==null&&Re.delete(ot.key===null?qe:ot.key),Z=f(ot,Z,qe),et===null?Ae=ot:et.sibling=ot,et=ot);return t&&Re.forEach(function(pw){return a(ae,pw)}),dt&&wi(ae,qe),Ae}function vt(ae,Z,se,xe){if(typeof se=="object"&&se!==null&&se.type===p&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case A:e:{for(var Ae=se.key;Z!==null;){if(Z.key===Ae){if(Ae=se.type,Ae===p){if(Z.tag===7){r(ae,Z.sibling),xe=d(Z,se.props.children),xe.return=ae,ae=xe;break e}}else if(Z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===L&&Kg(Ae)===Z.type){r(ae,Z.sibling),xe=d(Z,se.props),Sl(xe,se),xe.return=ae,ae=xe;break e}r(ae,Z);break}else a(ae,Z);Z=Z.sibling}se.type===p?(xe=ji(se.props.children,ae.mode,xe,se.key),xe.return=ae,ae=xe):(xe=Uo(se.type,se.key,se.props,null,ae.mode,xe),Sl(xe,se),xe.return=ae,ae=xe)}return D(ae);case h:e:{for(Ae=se.key;Z!==null;){if(Z.key===Ae)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){r(ae,Z.sibling),xe=d(Z,se.children||[]),xe.return=ae,ae=xe;break e}else{r(ae,Z);break}else a(ae,Z);Z=Z.sibling}xe=Kd(se,ae.mode,xe),xe.return=ae,ae=xe}return D(ae);case L:return Ae=se._init,se=Ae(se._payload),vt(ae,Z,se,xe)}if(ee(se))return Ve(ae,Z,se,xe);if(H(se)){if(Ae=H(se),typeof Ae!="function")throw Error(o(150));return se=Ae.call(se),Le(ae,Z,se,xe)}if(typeof se.then=="function")return vt(ae,Z,ac(se),xe);if(se.$$typeof===C)return vt(ae,Z,qo(ae,se),xe);sc(ae,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Z!==null&&Z.tag===6?(r(ae,Z.sibling),xe=d(Z,se),xe.return=ae,ae=xe):(r(ae,Z),xe=Qd(se,ae.mode,xe),xe.return=ae,ae=xe),D(ae)):r(ae,Z)}return function(ae,Z,se,xe){try{Nl=0;var Ae=vt(ae,Z,se,xe);return pn=null,Ae}catch(Re){if(Re===gl||Re===Vo)throw Re;var et=Ga(29,Re,null,ae.mode);return et.lanes=xe,et.return=ae,et}finally{}}}var xn=Xg(!0),Zg=Xg(!1),os=Y(null),Ps=null;function Ir(t){var a=t.alternate;ce(ra,ra.current&1),ce(os,t),Ps===null&&(a===null||mn.current!==null||a.memoizedState!==null)&&(Ps=t)}function Jg(t){if(t.tag===22){if(ce(ra,ra.current),ce(os,t),Ps===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Ps=t)}}else Pr()}function Pr(){ce(ra,ra.current),ce(os,os.current)}function or(t){oe(os),Ps===t&&(Ps=null),oe(ra)}var ra=Y(0);function rc(t){for(var a=t;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||vm(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Eu(t,a,r,l){a=t.memoizedState,r=r(l,a),r=r==null?a:y({},a,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Tu={enqueueSetState:function(t,a,r){t=t._reactInternals;var l=Ka(),d=Or(l);d.payload=a,r!=null&&(d.callback=r),a=Rr(t,d,l),a!==null&&(Xa(a,t,l),xl(a,t,l))},enqueueReplaceState:function(t,a,r){t=t._reactInternals;var l=Ka(),d=Or(l);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=Rr(t,d,l),a!==null&&(Xa(a,t,l),xl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var r=Ka(),l=Or(r);l.tag=2,a!=null&&(l.callback=a),a=Rr(t,l,r),a!==null&&(Xa(a,t,r),xl(a,t,r))}};function ep(t,a,r,l,d,f,D){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,D):a.prototype&&a.prototype.isPureReactComponent?!ll(r,l)||!ll(d,f):!0}function tp(t,a,r,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,l),a.state!==t&&Tu.enqueueReplaceState(a,a.state,null)}function Ti(t,a){var r=a;if("ref"in a){r={};for(var l in a)l!=="ref"&&(r[l]=a[l])}if(t=t.defaultProps){r===a&&(r=y({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ap(t){ic(t)}function sp(t){console.error(t)}function rp(t){ic(t)}function nc(t,a){try{var r=t.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function ip(t,a,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Du(t,a,r){return r=Or(r),r.tag=3,r.payload={element:null},r.callback=function(){nc(t,a)},r}function np(t){return t=Or(t),t.tag=3,t}function lp(t,a,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){ip(a,r,l)}}var D=r.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(t.callback=function(){ip(a,r,l),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})})}function p0(t,a,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=r.alternate,a!==null&&ml(a,r,d,!0),r=os.current,r!==null){switch(r.tag){case 13:return Ps===null?tm():r.alternate===null&&Mt===0&&(Mt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===nu?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([l]):a.add(l),sm(t,l,d)),!1;case 22:return r.flags|=65536,l===nu?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([l]):r.add(l)),sm(t,l,d)),!1}throw Error(o(435,r.tag))}return sm(t,l,d),tm(),!1}if(dt)return a=os.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==Jd&&(t=Error(o(422),{cause:l}),ul(rs(t,r)))):(l!==Jd&&(a=Error(o(423),{cause:l}),ul(rs(a,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=rs(l,r),d=Du(t.stateNode,l,d),cu(t,d),Mt!==4&&(Mt=2)),!1;var f=Error(o(520),{cause:l});if(f=rs(f,r),Ol===null?Ol=[f]:Ol.push(f),Mt!==4&&(Mt=2),a===null)return!0;l=rs(l,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Du(r.stateNode,l,t),cu(r,t),!1;case 1:if(a=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=np(d),lp(d,t,r,l),cu(r,d),!1}r=r.return}while(r!==null);return!1}var op=Error(o(461)),la=!1;function ha(t,a,r,l){a.child=t===null?Zg(a,null,r,l):xn(a,t.child,r,l)}function cp(t,a,r,l,d){r=r.render;var f=a.ref;if("ref"in l){var D={};for(var P in l)P!=="ref"&&(D[P]=l[P])}else D=l;return ki(a),l=fu(t,a,r,D,f,d),P=gu(),t!==null&&!la?(pu(t,a,d),cr(t,a,d)):(dt&&P&&Xd(a),a.flags|=1,ha(t,a,l,d),a.child)}function dp(t,a,r,l,d){if(t===null){var f=r.type;return typeof f=="function"&&!Wd(f)&&f.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=f,up(t,a,f,l,d)):(t=Uo(r.type,null,l,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!Uu(t,d)){var D=f.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(D,l)&&t.ref===a.ref)return cr(t,a,d)}return a.flags|=1,t=ar(f,l),t.ref=a.ref,t.return=a,a.child=t}function up(t,a,r,l,d){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===a.ref)if(la=!1,a.pendingProps=l=f,Uu(t,d))(t.flags&131072)!==0&&(la=!0);else return a.lanes=t.lanes,cr(t,a,d)}return Ou(t,a,r,l,d)}function mp(t,a,r){var l=a.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((a.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(d=a.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;a.childLanes=f&~l}else a.childLanes=0,a.child=null;return hp(t,a,l,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(a,f!==null?f.cachePool:null),f!==null?ug(a,f):uu(),Jg(a);else return a.lanes=a.childLanes=536870912,hp(t,a,f!==null?f.baseLanes|r:r,r)}else f!==null?($o(a,f.cachePool),ug(a,f),Pr(),a.memoizedState=null):(t!==null&&$o(a,null),uu(),Pr());return ha(t,a,d,r),a.child}function hp(t,a,r,l){var d=iu();return d=d===null?null:{parent:sa._currentValue,pool:d},a.memoizedState={baseLanes:r,cachePool:d},t!==null&&$o(a,null),uu(),Jg(a),t!==null&&ml(t,a,l,!0),null}function lc(t,a){var r=a.ref;if(r===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(a.flags|=4194816)}}function Ou(t,a,r,l,d){return ki(a),r=fu(t,a,r,l,void 0,d),l=gu(),t!==null&&!la?(pu(t,a,d),cr(t,a,d)):(dt&&l&&Xd(a),a.flags|=1,ha(t,a,r,d),a.child)}function fp(t,a,r,l,d,f){return ki(a),a.updateQueue=null,r=hg(a,l,r,d),mg(t),l=gu(),t!==null&&!la?(pu(t,a,f),cr(t,a,f)):(dt&&l&&Xd(a),a.flags|=1,ha(t,a,r,f),a.child)}function gp(t,a,r,l,d){if(ki(a),a.stateNode===null){var f=ln,D=r.contextType;typeof D=="object"&&D!==null&&(f=ja(D)),f=new r(l,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tu,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=l,f.state=a.memoizedState,f.refs={},lu(a),D=r.contextType,f.context=typeof D=="object"&&D!==null?ja(D):ln,f.state=a.memoizedState,D=r.getDerivedStateFromProps,typeof D=="function"&&(Eu(a,r,D,l),f.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(D=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),D!==f.state&&Tu.enqueueReplaceState(f,f.state,null),yl(a,l,f,d),vl(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){f=a.stateNode;var P=a.memoizedProps,G=Ti(r,P);f.props=G;var re=f.context,fe=r.contextType;D=ln,typeof fe=="object"&&fe!==null&&(D=ja(fe));var be=r.getDerivedStateFromProps;fe=typeof be=="function"||typeof f.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,fe||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(P||re!==D)&&tp(a,f,l,D),Dr=!1;var le=a.memoizedState;f.state=le,yl(a,l,f,d),vl(),re=a.memoizedState,P||le!==re||Dr?(typeof be=="function"&&(Eu(a,r,be,l),re=a.memoizedState),(G=Dr||ep(a,r,G,l,le,re,D))?(fe||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=re),f.props=l,f.state=re,f.context=D,l=G):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{f=a.stateNode,ou(t,a),D=a.memoizedProps,fe=Ti(r,D),f.props=fe,be=a.pendingProps,le=f.context,re=r.contextType,G=ln,typeof re=="object"&&re!==null&&(G=ja(re)),P=r.getDerivedStateFromProps,(re=typeof P=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(D!==be||le!==G)&&tp(a,f,l,G),Dr=!1,le=a.memoizedState,f.state=le,yl(a,l,f,d),vl();var de=a.memoizedState;D!==be||le!==de||Dr||t!==null&&t.dependencies!==null&&Ho(t.dependencies)?(typeof P=="function"&&(Eu(a,r,P,l),de=a.memoizedState),(fe=Dr||ep(a,r,fe,l,le,de,G)||t!==null&&t.dependencies!==null&&Ho(t.dependencies))?(re||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,de,G),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,de,G)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||D===t.memoizedProps&&le===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&le===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=de),f.props=l,f.state=de,f.context=G,l=fe):(typeof f.componentDidUpdate!="function"||D===t.memoizedProps&&le===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&le===t.memoizedState||(a.flags|=1024),l=!1)}return f=l,lc(t,a),l=(a.flags&128)!==0,f||l?(f=a.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&l?(a.child=xn(a,t.child,null,d),a.child=xn(a,null,r,d)):ha(t,a,r,d),a.memoizedState=f.state,t=a.child):t=cr(t,a,d),t}function pp(t,a,r,l){return dl(),a.flags|=256,ha(t,a,r,l),a.child}var Ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mu(t){return{baseLanes:t,cachePool:sg()}}function Iu(t,a,r){return t=t!==null?t.childLanes&~r:0,a&&(t|=cs),t}function xp(t,a,r){var l=a.pendingProps,d=!1,f=(a.flags&128)!==0,D;if((D=f)||(D=t!==null&&t.memoizedState===null?!1:(ra.current&2)!==0),D&&(d=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,t===null){if(dt){if(d?Ir(a):Pr(),dt){var P=Rt,G;if(G=P){e:{for(G=P,P=Is;G.nodeType!==8;){if(!P){P=null;break e}if(G=Cs(G.nextSibling),G===null){P=null;break e}}P=G}P!==null?(a.memoizedState={dehydrated:P,treeContext:_i!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},G=Ga(18,null,null,0),G.stateNode=P,G.return=a,a.child=G,_a=a,Rt=null,G=!0):G=!1}G||Si(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return vm(P)?a.lanes=32:a.lanes=536870912,null;or(a)}return P=l.children,l=l.fallback,d?(Pr(),d=a.mode,P=oc({mode:"hidden",children:P},d),l=ji(l,d,r,null),P.return=a,l.return=a,P.sibling=l,a.child=P,d=a.child,d.memoizedState=Mu(r),d.childLanes=Iu(t,D,r),a.memoizedState=Ru,l):(Ir(a),Pu(a,P))}if(G=t.memoizedState,G!==null&&(P=G.dehydrated,P!==null)){if(f)a.flags&256?(Ir(a),a.flags&=-257,a=zu(t,a,r)):a.memoizedState!==null?(Pr(),a.child=t.child,a.flags|=128,a=null):(Pr(),d=l.fallback,P=a.mode,l=oc({mode:"visible",children:l.children},P),d=ji(d,P,r,null),d.flags|=2,l.return=a,d.return=a,l.sibling=d,a.child=l,xn(a,t.child,null,r),l=a.child,l.memoizedState=Mu(r),l.childLanes=Iu(t,D,r),a.memoizedState=Ru,a=d);else if(Ir(a),vm(P)){if(D=P.nextSibling&&P.nextSibling.dataset,D)var re=D.dgst;D=re,l=Error(o(419)),l.stack="",l.digest=D,ul({value:l,source:null,stack:null}),a=zu(t,a,r)}else if(la||ml(t,a,r,!1),D=(r&t.childLanes)!==0,la||D){if(D=wt,D!==null&&(l=r&-r,l=(l&42)!==0?1:Ms(l),l=(l&(D.suspendedLanes|r))!==0?0:l,l!==0&&l!==G.retryLane))throw G.retryLane=l,nn(t,l),Xa(D,t,l),op;P.data==="$?"||tm(),a=zu(t,a,r)}else P.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=G.treeContext,Rt=Cs(P.nextSibling),_a=a,dt=!0,Ni=null,Is=!1,t!==null&&(ns[ls++]=sr,ns[ls++]=rr,ns[ls++]=_i,sr=t.id,rr=t.overflow,_i=a),a=Pu(a,l.children),a.flags|=4096);return a}return d?(Pr(),d=l.fallback,P=a.mode,G=t.child,re=G.sibling,l=ar(G,{mode:"hidden",children:l.children}),l.subtreeFlags=G.subtreeFlags&65011712,re!==null?d=ar(re,d):(d=ji(d,P,r,null),d.flags|=2),d.return=a,l.return=a,l.sibling=d,a.child=l,l=d,d=a.child,P=t.child.memoizedState,P===null?P=Mu(r):(G=P.cachePool,G!==null?(re=sa._currentValue,G=G.parent!==re?{parent:re,pool:re}:G):G=sg(),P={baseLanes:P.baseLanes|r,cachePool:G}),d.memoizedState=P,d.childLanes=Iu(t,D,r),a.memoizedState=Ru,l):(Ir(a),r=t.child,t=r.sibling,r=ar(r,{mode:"visible",children:l.children}),r.return=a,r.sibling=null,t!==null&&(D=a.deletions,D===null?(a.deletions=[t],a.flags|=16):D.push(t)),a.child=r,a.memoizedState=null,r)}function Pu(t,a){return a=oc({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function oc(t,a){return t=Ga(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zu(t,a,r){return xn(a,t.child,null,r),t=Pu(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function vp(t,a,r){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),tu(t.return,a,r)}function Lu(t,a,r,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d}:(f.isBackwards=a,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=d)}function yp(t,a,r){var l=a.pendingProps,d=l.revealOrder,f=l.tail;if(ha(t,a,l.children,r),l=ra.current,(l&2)!==0)l=l&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vp(t,r,a);else if(t.tag===19)vp(t,r,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ce(ra,l),d){case"forwards":for(r=a.child,d=null;r!==null;)t=r.alternate,t!==null&&rc(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),Lu(a,!1,d,r,f);break;case"backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&rc(t)===null){a.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Lu(a,!0,r,null,f);break;case"together":Lu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cr(t,a,r){if(t!==null&&(a.dependencies=t.dependencies),Fr|=a.lanes,(r&a.childLanes)===0)if(t!==null){if(ml(t,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(o(153));if(a.child!==null){for(t=a.child,r=ar(t,t.pendingProps),a.child=r,r.return=a;t.sibling!==null;)t=t.sibling,r=r.sibling=ar(t,t.pendingProps),r.return=a;r.sibling=null}return a.child}function Uu(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Ho(t)))}function x0(t,a,r){switch(a.tag){case 3:De(a,a.stateNode.containerInfo),Tr(a,sa,t.memoizedState.cache),dl();break;case 27:case 5:Ke(a);break;case 4:De(a,a.stateNode.containerInfo);break;case 10:Tr(a,a.type,a.memoizedProps.value);break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(a),a.flags|=128,null):(r&a.child.childLanes)!==0?xp(t,a,r):(Ir(a),t=cr(t,a,r),t!==null?t.sibling:null);Ir(a);break;case 19:var d=(t.flags&128)!==0;if(l=(r&a.childLanes)!==0,l||(ml(t,a,r,!1),l=(r&a.childLanes)!==0),d){if(l)return yp(t,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ce(ra,ra.current),l)break;return null;case 22:case 23:return a.lanes=0,mp(t,a,r);case 24:Tr(a,sa,t.memoizedState.cache)}return cr(t,a,r)}function bp(t,a,r){if(t!==null)if(t.memoizedProps!==a.pendingProps)la=!0;else{if(!Uu(t,r)&&(a.flags&128)===0)return la=!1,x0(t,a,r);la=(t.flags&131072)!==0}else la=!1,dt&&(a.flags&1048576)!==0&&Kf(a,Fo,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var l=a.elementType,d=l._init;if(l=d(l._payload),a.type=l,typeof l=="function")Wd(l)?(t=Ti(l,t),a.tag=1,a=gp(null,a,l,t,r)):(a.tag=0,a=Ou(null,a,l,t,r));else{if(l!=null){if(d=l.$$typeof,d===R){a.tag=11,a=cp(null,a,l,t,r);break e}else if(d===z){a.tag=14,a=dp(null,a,l,t,r);break e}}throw a=he(l)||l,Error(o(306,a,""))}}return a;case 0:return Ou(t,a,a.type,a.pendingProps,r);case 1:return l=a.type,d=Ti(l,a.pendingProps),gp(t,a,l,d,r);case 3:e:{if(De(a,a.stateNode.containerInfo),t===null)throw Error(o(387));l=a.pendingProps;var f=a.memoizedState;d=f.element,ou(t,a),yl(a,l,null,r);var D=a.memoizedState;if(l=D.cache,Tr(a,sa,l),l!==f.cache&&au(a,[sa],r,!0),vl(),l=D.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=pp(t,a,l,r);break e}else if(l!==d){d=rs(Error(o(424)),a),ul(d),a=pp(t,a,l,r);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Rt=Cs(t.firstChild),_a=a,dt=!0,Ni=null,Is=!0,r=Zg(a,null,l,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(dl(),l===d){a=cr(t,a,r);break e}ha(t,a,l,r)}a=a.child}return a;case 26:return lc(t,a),t===null?(r=Nx(a.type,null,a.pendingProps,null))?a.memoizedState=r:dt||(r=a.type,t=a.pendingProps,l=_c(ye.current).createElement(r),l[ta]=a,l[ya]=t,ga(l,r,t),Vt(l),a.stateNode=l):a.memoizedState=Nx(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ke(a),t===null&&dt&&(l=a.stateNode=jx(a.type,a.pendingProps,ye.current),_a=a,Is=!0,d=Rt,Vr(a.type)?(ym=d,Rt=Cs(l.firstChild)):Rt=d),ha(t,a,a.pendingProps.children,r),lc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&dt&&((d=l=Rt)&&(l=V0(l,a.type,a.pendingProps,Is),l!==null?(a.stateNode=l,_a=a,Rt=Cs(l.firstChild),Is=!1,d=!0):d=!1),d||Si(a)),Ke(a),d=a.type,f=a.pendingProps,D=t!==null?t.memoizedProps:null,l=f.children,gm(d,f)?l=null:D!==null&&gm(d,D)&&(a.flags|=32),a.memoizedState!==null&&(d=fu(t,a,c0,null,null,r),Fl._currentValue=d),lc(t,a),ha(t,a,l,r),a.child;case 6:return t===null&&dt&&((t=r=Rt)&&(r=G0(r,a.pendingProps,Is),r!==null?(a.stateNode=r,_a=a,Rt=null,t=!0):t=!1),t||Si(a)),null;case 13:return xp(t,a,r);case 4:return De(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=xn(a,null,l,r):ha(t,a,l,r),a.child;case 11:return cp(t,a,a.type,a.pendingProps,r);case 7:return ha(t,a,a.pendingProps,r),a.child;case 8:return ha(t,a,a.pendingProps.children,r),a.child;case 12:return ha(t,a,a.pendingProps.children,r),a.child;case 10:return l=a.pendingProps,Tr(a,a.type,l.value),ha(t,a,l.children,r),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,ki(a),d=ja(d),l=l(d),a.flags|=1,ha(t,a,l,r),a.child;case 14:return dp(t,a,a.type,a.pendingProps,r);case 15:return up(t,a,a.type,a.pendingProps,r);case 19:return yp(t,a,r);case 31:return l=a.pendingProps,r=a.mode,l={mode:l.mode,children:l.children},t===null?(r=oc(l,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=ar(t.child,l),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return mp(t,a,r);case 24:return ki(a),l=ja(sa),t===null?(d=iu(),d===null&&(d=wt,f=su(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),a.memoizedState={parent:l,cache:d},lu(a),Tr(a,sa,d)):((t.lanes&r)!==0&&(ou(t,a),yl(a,null,null,r),vl()),d=t.memoizedState,f=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Tr(a,sa,l)):(l=f.cache,Tr(a,sa,l),l!==d.cache&&au(a,[sa],r,!0))),ha(t,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function dr(t){t.flags|=4}function jp(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ex(a)){if(a=os.current,a!==null&&((nt&4194048)===nt?Ps!==null:(nt&62914560)!==nt&&(nt&536870912)===0||a!==Ps))throw pl=nu,rg;t.flags|=8192}}function cc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?xi():536870912,t.lanes|=a,jn|=a)}function Cl(t,a){if(!dt)switch(t.tailMode){case"hidden":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(a)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,a}function v0(t,a,r){var l=a.pendingProps;switch(Zd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return r=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),nr(sa),Ye(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cl(a)?dr(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Jf())),Ot(a),null;case 26:return r=a.memoizedState,t===null?(dr(a),r!==null?(Ot(a),jp(a,r)):(Ot(a),a.flags&=-16777217)):r?r!==t.memoizedState?(dr(a),Ot(a),jp(a,r)):(Ot(a),a.flags&=-16777217):(t.memoizedProps!==l&&dr(a),Ot(a),a.flags&=-16777217),null;case 27:Qe(a),r=ye.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==l&&dr(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return Ot(a),null}t=V.current,cl(a)?Xf(a):(t=jx(d,l,r),a.stateNode=t,dr(a))}return Ot(a),null;case 5:if(Qe(a),r=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&dr(a);else{if(!l){if(a.stateNode===null)throw Error(o(166));return Ot(a),null}if(t=V.current,cl(a))Xf(a);else{switch(d=_c(ye.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(r,{is:l.is}):d.createElement(r)}}t[ta]=a,t[ya]=l;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(ga(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&dr(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&dr(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(o(166));if(t=ye.current,cl(a)){if(t=a.stateNode,r=a.memoizedProps,l=null,d=_a,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[ta]=a,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fx(t.nodeValue,r)),t||Si(a)}else t=_c(t).createTextNode(l),t[ta]=a,a.stateNode=t}return Ot(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=cl(a),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[ta]=a}else dl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ot(a),d=!1}else d=Jf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(or(a),a):(or(a),null)}if(or(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return r!==t&&r&&(a.child.flags|=8192),cc(a,a.updateQueue),Ot(a),null;case 4:return Ye(),t===null&&dm(a.stateNode.containerInfo),Ot(a),null;case 10:return nr(a.type),Ot(a),null;case 19:if(oe(ra),d=a.memoizedState,d===null)return Ot(a),null;if(l=(a.flags&128)!==0,f=d.rendering,f===null)if(l)Cl(d,!1);else{if(Mt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=rc(t),f!==null){for(a.flags|=128,Cl(d,!1),t=f.updateQueue,a.updateQueue=t,cc(a,t),a.subtreeFlags=0,t=r,r=a.child;r!==null;)Qf(r,t),r=r.sibling;return ce(ra,ra.current&1|2),a.child}t=t.sibling}d.tail!==null&&Tt()>mc&&(a.flags|=128,l=!0,Cl(d,!1),a.lanes=4194304)}else{if(!l)if(t=rc(f),t!==null){if(a.flags|=128,l=!0,t=t.updateQueue,a.updateQueue=t,cc(a,t),Cl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!dt)return Ot(a),null}else 2*Tt()-d.renderingStartTime>mc&&r!==536870912&&(a.flags|=128,l=!0,Cl(d,!1),a.lanes=4194304);d.isBackwards?(f.sibling=a.child,a.child=f):(t=d.last,t!==null?t.sibling=f:a.child=f,d.last=f)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Tt(),a.sibling=null,t=ra.current,ce(ra,l?t&1|2:t&1),a):(Ot(a),null);case 22:case 23:return or(a),mu(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(r&536870912)!==0&&(a.flags&128)===0&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),r=a.updateQueue,r!==null&&cc(a,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==r&&(a.flags|=2048),t!==null&&oe(Ai),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),nr(sa),Ot(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function y0(t,a){switch(Zd(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return nr(sa),Ye(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(or(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(o(340));dl()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return oe(ra),null;case 4:return Ye(),null;case 10:return nr(a.type),null;case 22:case 23:return or(a),mu(),t!==null&&oe(Ai),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return nr(sa),null;case 25:return null;default:return null}}function _p(t,a){switch(Zd(a),a.tag){case 3:nr(sa),Ye();break;case 26:case 27:case 5:Qe(a);break;case 4:Ye();break;case 13:or(a);break;case 19:oe(ra);break;case 10:nr(a.type);break;case 22:case 23:or(a),mu(),t!==null&&oe(Ai);break;case 24:nr(sa)}}function kl(t,a){try{var r=a.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var f=r.create,D=r.inst;l=f(),D.destroy=l}r=r.next}while(r!==d)}}catch(P){yt(a,a.return,P)}}function zr(t,a,r){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var D=l.inst,P=D.destroy;if(P!==void 0){D.destroy=void 0,d=a;var G=r,re=P;try{re()}catch(fe){yt(d,G,fe)}}}l=l.next}while(l!==f)}}catch(fe){yt(a,a.return,fe)}}function wp(t){var a=t.updateQueue;if(a!==null){var r=t.stateNode;try{dg(a,r)}catch(l){yt(t,t.return,l)}}}function Np(t,a,r){r.props=Ti(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){yt(t,a,l)}}function Al(t,a){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){yt(t,a,d)}}function zs(t,a){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){yt(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){yt(t,a,d)}else r.current=null}function Sp(t){var a=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){yt(t,t.return,d)}}function Bu(t,a,r){try{var l=t.stateNode;B0(l,t.type,r,a),l[ya]=a}catch(d){yt(t,t.return,d)}}function Cp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vr(t.type)||t.tag===4}function Fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hu(t,a,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(t),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=jc));else if(l!==4&&(l===27&&Vr(t.type)&&(r=t.stateNode,a=null),t=t.child,t!==null))for(Hu(t,a,r),t=t.sibling;t!==null;)Hu(t,a,r),t=t.sibling}function dc(t,a,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?r.insertBefore(t,a):r.appendChild(t);else if(l!==4&&(l===27&&Vr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(dc(t,a,r),t=t.sibling;t!==null;)dc(t,a,r),t=t.sibling}function kp(t){var a=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);ga(a,l,r),a[ta]=t,a[ya]=r}catch(f){yt(t,t.return,f)}}var ur=!1,Ft=!1,qu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,oa=null;function b0(t,a){if(t=t.containerInfo,hm=Ac,t=Uf(t),Fd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var D=0,P=-1,G=-1,re=0,fe=0,be=t,le=null;t:for(;;){for(var de;be!==r||d!==0&&be.nodeType!==3||(P=D+d),be!==f||l!==0&&be.nodeType!==3||(G=D+l),be.nodeType===3&&(D+=be.nodeValue.length),(de=be.firstChild)!==null;)le=be,be=de;for(;;){if(be===t)break t;if(le===r&&++re===d&&(P=D),le===f&&++fe===l&&(G=D),(de=be.nextSibling)!==null)break;be=le,le=be.parentNode}be=de}r=P===-1||G===-1?null:{start:P,end:G}}else r=null}r=r||{start:0,end:0}}else r=null;for(fm={focusedElem:t,selectionRange:r},Ac=!1,oa=a;oa!==null;)if(a=oa,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,oa=t;else for(;oa!==null;){switch(a=oa,f=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=a,d=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Ve=Ti(r.type,d,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Le){yt(r,r.return,Le)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,r=t.nodeType,r===9)xm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=a.sibling,t!==null){t.return=a.return,oa=t;break}oa=a.return}}function Ep(t,a,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Lr(t,r),l&4&&kl(5,r);break;case 1:if(Lr(t,r),l&4)if(t=r.stateNode,a===null)try{t.componentDidMount()}catch(D){yt(r,r.return,D)}else{var d=Ti(r.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(D){yt(r,r.return,D)}}l&64&&wp(r),l&512&&Al(r,r.return);break;case 3:if(Lr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{dg(t,a)}catch(D){yt(r,r.return,D)}}break;case 27:a===null&&l&4&&kp(r);case 26:case 5:Lr(t,r),a===null&&l&4&&Sp(r),l&512&&Al(r,r.return);break;case 12:Lr(t,r);break;case 13:Lr(t,r),l&4&&Op(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=E0.bind(null,r),Y0(t,r))));break;case 22:if(l=r.memoizedState!==null||ur,!l){a=a!==null&&a.memoizedState!==null||Ft,d=ur;var f=Ft;ur=l,(Ft=a)&&!f?Ur(t,r,(r.subtreeFlags&8772)!==0):Lr(t,r),ur=d,Ft=f}break;case 30:break;default:Lr(t,r)}}function Tp(t){var a=t.alternate;a!==null&&(t.alternate=null,Tp(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&qa(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,Ma=!1;function mr(t,a,r){for(r=r.child;r!==null;)Dp(t,a,r),r=r.sibling}function Dp(t,a,r){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(ts,r)}catch{}switch(r.tag){case 26:Ft||zs(r,a),mr(t,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ft||zs(r,a);var l=kt,d=Ma;Vr(r.type)&&(kt=r.stateNode,Ma=!1),mr(t,a,r),zl(r.stateNode),kt=l,Ma=d;break;case 5:Ft||zs(r,a);case 6:if(l=kt,d=Ma,kt=null,mr(t,a,r),kt=l,Ma=d,kt!==null)if(Ma)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(r.stateNode)}catch(f){yt(r,a,f)}else try{kt.removeChild(r.stateNode)}catch(f){yt(r,a,f)}break;case 18:kt!==null&&(Ma?(t=kt,yx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):yx(kt,r.stateNode));break;case 4:l=kt,d=Ma,kt=r.stateNode.containerInfo,Ma=!0,mr(t,a,r),kt=l,Ma=d;break;case 0:case 11:case 14:case 15:Ft||zr(2,r,a),Ft||zr(4,r,a),mr(t,a,r);break;case 1:Ft||(zs(r,a),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Np(r,a,l)),mr(t,a,r);break;case 21:mr(t,a,r);break;case 22:Ft=(l=Ft)||r.memoizedState!==null,mr(t,a,r),Ft=l;break;default:mr(t,a,r)}}function Op(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){yt(a,a.return,r)}}function j0(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Ap),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Ap),a;default:throw Error(o(435,t.tag))}}function $u(t,a){var r=j0(t);a.forEach(function(l){var d=T0.bind(null,t,l);r.has(l)||(r.add(l),l.then(d,d))})}function Ya(t,a){var r=a.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],f=t,D=a,P=D;e:for(;P!==null;){switch(P.tag){case 27:if(Vr(P.type)){kt=P.stateNode,Ma=!1;break e}break;case 5:kt=P.stateNode,Ma=!1;break e;case 3:case 4:kt=P.stateNode.containerInfo,Ma=!0;break e}P=P.return}if(kt===null)throw Error(o(160));Dp(f,D,d),kt=null,Ma=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Rp(a,t),a=a.sibling}var Ss=null;function Rp(t,a){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ya(a,t),Wa(t),l&4&&(zr(3,t,t.return),kl(3,t),zr(5,t,t.return));break;case 1:Ya(a,t),Wa(t),l&512&&(Ft||r===null||zs(r,r.return)),l&64&&ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=Ss;if(Ya(a,t),Wa(t),l&512&&(Ft||r===null||zs(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[kr]||f[ta]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),ga(f,l,r),f[ta]=t,Vt(f),l=f;break e;case"link":var D=kx("link","href",d).get(l+(r.href||""));if(D){for(var P=0;P<D.length;P++)if(f=D[P],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){D.splice(P,1);break t}}f=d.createElement(l),ga(f,l,r),d.head.appendChild(f);break;case"meta":if(D=kx("meta","content",d).get(l+(r.content||""))){for(P=0;P<D.length;P++)if(f=D[P],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){D.splice(P,1);break t}}f=d.createElement(l),ga(f,l,r),d.head.appendChild(f);break;default:throw Error(o(468,l))}f[ta]=t,Vt(f),l=f}t.stateNode=l}else Ax(d,t.type,t.stateNode);else t.stateNode=Cx(d,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Ax(d,t.type,t.stateNode):Cx(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bu(t,t.memoizedProps,r.memoizedProps)}break;case 27:Ya(a,t),Wa(t),l&512&&(Ft||r===null||zs(r,r.return)),r!==null&&l&4&&Bu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Ya(a,t),Wa(t),l&512&&(Ft||r===null||zs(r,r.return)),t.flags&32){d=t.stateNode;try{Zi(d,"")}catch(de){yt(t,t.return,de)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Bu(t,d,r!==null?r.memoizedProps:d)),l&1024&&(qu=!0);break;case 6:if(Ya(a,t),Wa(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(de){yt(t,t.return,de)}}break;case 3:if(Sc=null,d=Ss,Ss=wc(a.containerInfo),Ya(a,t),Ss=d,Wa(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(a.containerInfo)}catch(de){yt(t,t.return,de)}qu&&(qu=!1,Mp(t));break;case 4:l=Ss,Ss=wc(t.stateNode.containerInfo),Ya(a,t),Wa(t),Ss=l;break;case 12:Ya(a,t),Wa(t);break;case 13:Ya(a,t),Wa(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ku=Tt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 22:d=t.memoizedState!==null;var G=r!==null&&r.memoizedState!==null,re=ur,fe=Ft;if(ur=re||d,Ft=fe||G,Ya(a,t),Ft=fe,ur=re,Wa(t),l&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(r===null||G||ur||Ft||Di(t)),r=null,a=t;;){if(a.tag===5||a.tag===26){if(r===null){G=r=a;try{if(f=G.stateNode,d)D=f.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{P=G.stateNode;var be=G.memoizedProps.style,le=be!=null&&be.hasOwnProperty("display")?be.display:null;P.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(de){yt(G,G.return,de)}}}else if(a.tag===6){if(r===null){G=a;try{G.stateNode.nodeValue=d?"":G.memoizedProps}catch(de){yt(G,G.return,de)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,$u(t,r))));break;case 19:Ya(a,t),Wa(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$u(t,l)));break;case 30:break;case 21:break;default:Ya(a,t),Wa(t)}}function Wa(t){var a=t.flags;if(a&2){try{for(var r,l=t.return;l!==null;){if(Cp(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var d=r.stateNode,f=Fu(t);dc(t,f,d);break;case 5:var D=r.stateNode;r.flags&32&&(Zi(D,""),r.flags&=-33);var P=Fu(t);dc(t,P,D);break;case 3:case 4:var G=r.stateNode.containerInfo,re=Fu(t);Hu(t,re,G);break;default:throw Error(o(161))}}catch(fe){yt(t,t.return,fe)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Mp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Lr(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ep(t,a.alternate,a),a=a.sibling}function Di(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:zr(4,a,a.return),Di(a);break;case 1:zs(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&Np(a,a.return,r),Di(a);break;case 27:zl(a.stateNode);case 26:case 5:zs(a,a.return),Di(a);break;case 22:a.memoizedState===null&&Di(a);break;case 30:Di(a);break;default:Di(a)}t=t.sibling}}function Ur(t,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=t,f=a,D=f.flags;switch(f.tag){case 0:case 11:case 15:Ur(d,f,r),kl(4,f);break;case 1:if(Ur(d,f,r),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(re){yt(l,l.return,re)}if(l=f,d=l.updateQueue,d!==null){var P=l.stateNode;try{var G=d.shared.hiddenCallbacks;if(G!==null)for(d.shared.hiddenCallbacks=null,d=0;d<G.length;d++)cg(G[d],P)}catch(re){yt(l,l.return,re)}}r&&D&64&&wp(f),Al(f,f.return);break;case 27:kp(f);case 26:case 5:Ur(d,f,r),r&&l===null&&D&4&&Sp(f),Al(f,f.return);break;case 12:Ur(d,f,r);break;case 13:Ur(d,f,r),r&&D&4&&Op(d,f);break;case 22:f.memoizedState===null&&Ur(d,f,r),Al(f,f.return);break;case 30:break;default:Ur(d,f,r)}a=a.sibling}}function Vu(t,a){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&hl(r))}function Gu(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&hl(t))}function Ls(t,a,r,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ip(t,a,r,l),a=a.sibling}function Ip(t,a,r,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(t,a,r,l),d&2048&&kl(9,a);break;case 1:Ls(t,a,r,l);break;case 3:Ls(t,a,r,l),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&hl(t)));break;case 12:if(d&2048){Ls(t,a,r,l),t=a.stateNode;try{var f=a.memoizedProps,D=f.id,P=f.onPostCommit;typeof P=="function"&&P(D,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){yt(a,a.return,G)}}else Ls(t,a,r,l);break;case 13:Ls(t,a,r,l);break;case 23:break;case 22:f=a.stateNode,D=a.alternate,a.memoizedState!==null?f._visibility&2?Ls(t,a,r,l):El(t,a):f._visibility&2?Ls(t,a,r,l):(f._visibility|=2,vn(t,a,r,l,(a.subtreeFlags&10256)!==0)),d&2048&&Vu(D,a);break;case 24:Ls(t,a,r,l),d&2048&&Gu(a.alternate,a);break;default:Ls(t,a,r,l)}}function vn(t,a,r,l,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var f=t,D=a,P=r,G=l,re=D.flags;switch(D.tag){case 0:case 11:case 15:vn(f,D,P,G,d),kl(8,D);break;case 23:break;case 22:var fe=D.stateNode;D.memoizedState!==null?fe._visibility&2?vn(f,D,P,G,d):El(f,D):(fe._visibility|=2,vn(f,D,P,G,d)),d&&re&2048&&Vu(D.alternate,D);break;case 24:vn(f,D,P,G,d),d&&re&2048&&Gu(D.alternate,D);break;default:vn(f,D,P,G,d)}a=a.sibling}}function El(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=t,l=a,d=l.flags;switch(l.tag){case 22:El(r,l),d&2048&&Vu(l.alternate,l);break;case 24:El(r,l),d&2048&&Gu(l.alternate,l);break;default:El(r,l)}a=a.sibling}}var Tl=8192;function yn(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Pp(t),t=t.sibling}function Pp(t){switch(t.tag){case 26:yn(t),t.flags&Tl&&t.memoizedState!==null&&nw(Ss,t.memoizedState,t.memoizedProps);break;case 5:yn(t);break;case 3:case 4:var a=Ss;Ss=wc(t.stateNode.containerInfo),yn(t),Ss=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Tl,Tl=16777216,yn(t),Tl=a):yn(t));break;default:yn(t)}}function zp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Dl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var l=a[r];oa=l,Up(l,t)}zp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lp(t),t=t.sibling}function Lp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,uc(t)):Dl(t);break;default:Dl(t)}}function uc(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var l=a[r];oa=l,Up(l,t)}zp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:zr(8,a,a.return),uc(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,uc(a));break;default:uc(a)}t=t.sibling}}function Up(t,a){for(;oa!==null;){var r=oa;switch(r.tag){case 0:case 11:case 15:zr(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,oa=l;else e:for(r=t;oa!==null;){l=oa;var d=l.sibling,f=l.return;if(Tp(l),l===r){oa=null;break e}if(d!==null){d.return=f,oa=d;break e}oa=f}}}var _0={getCacheForType:function(t){var a=ja(sa),r=a.data.get(t);return r===void 0&&(r=t(),a.data.set(t,r)),r}},w0=typeof WeakMap=="function"?WeakMap:Map,ft=0,wt=null,tt=null,nt=0,gt=0,Qa=null,Br=!1,bn=!1,Yu=!1,hr=0,Mt=0,Fr=0,Oi=0,Wu=0,cs=0,jn=0,Ol=null,Ia=null,Qu=!1,Ku=0,mc=1/0,hc=null,Hr=null,fa=0,qr=null,_n=null,wn=0,Xu=0,Zu=null,Bp=null,Rl=0,Ju=null;function Ka(){if((ft&2)!==0&&nt!==0)return nt&-nt;if(k.T!==null){var t=dn;return t!==0?t:nm()}return Xn()}function Fp(){cs===0&&(cs=(nt&536870912)===0||dt?pi():536870912);var t=os.current;return t!==null&&(t.flags|=32),cs}function Xa(t,a,r){(t===wt&&(gt===2||gt===9)||t.cancelPendingCommit!==null)&&(Nn(t,0),$r(t,nt,cs,!1)),bs(t,r),((ft&2)===0||t!==wt)&&(t===wt&&((ft&2)===0&&(Oi|=r),Mt===4&&$r(t,nt,cs,!1)),Us(t))}function Hp(t,a,r){if((ft&6)!==0)throw Error(o(327));var l=!r&&(a&124)===0&&(a&t.expiredLanes)===0||Ks(t,a),d=l?C0(t,a):am(t,a,!0),f=l;do{if(d===0){bn&&!l&&$r(t,a,0,!1);break}else{if(r=t.current.alternate,f&&!N0(r)){d=am(t,a,!1),f=!1;continue}if(d===2){if(f=a,t.errorRecoveryDisabledLanes&f)var D=0;else D=t.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var P=t;d=Ol;var G=P.current.memoizedState.isDehydrated;if(G&&(Nn(P,D).flags|=256),D=am(P,D,!1),D!==2){if(Yu&&!G){P.errorRecoveryDisabledLanes|=f,Oi|=f,d=4;break e}f=Ia,Ia=d,f!==null&&(Ia===null?Ia=f:Ia.push.apply(Ia,f))}d=D}if(f=!1,d!==2)continue}}if(d===1){Nn(t,0),$r(t,a,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:$r(l,a,cs,!Br);break e;case 2:Ia=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(d=Ku+300-Tt(),10<d)){if($r(l,a,cs,!Br),Cr(l,0,!0)!==0)break e;l.timeoutHandle=xx(qp.bind(null,l,r,Ia,hc,Qu,a,cs,Oi,jn,Br,f,2,-0,0),d);break e}qp(l,r,Ia,hc,Qu,a,cs,Oi,jn,Br,f,0,-0,0)}}break}while(!0);Us(t)}function qp(t,a,r,l,d,f,D,P,G,re,fe,be,le,de){if(t.timeoutHandle=-1,be=a.subtreeFlags,(be&8192||(be&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:iw},Pp(a),be=lw(),be!==null)){t.cancelPendingCommit=be(Kp.bind(null,t,a,f,r,l,d,D,P,G,fe,1,le,de)),$r(t,f,D,!re);return}Kp(t,a,f,r,l,d,D,P,G)}function N0(t){for(var a=t;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],f=d.getSnapshot;d=d.value;try{if(!Va(f(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $r(t,a,r,l){a&=~Wu,a&=~Oi,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var d=a;0<d;){var f=31-va(d),D=1<<f;l[f]=-1,d&=~D}r!==0&&No(t,r,a)}function fc(){return(ft&6)===0?(Ml(0),!1):!0}function em(){if(tt!==null){if(gt===0)var t=tt.return;else t=tt,ir=Ci=null,xu(t),pn=null,Nl=0,t=tt;for(;t!==null;)_p(t.alternate,t),t=t.return;tt=null}}function Nn(t,a){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,H0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),em(),wt=t,tt=r=ar(t.current,null),nt=a,gt=0,Qa=null,Br=!1,bn=Ks(t,a),Yu=!1,jn=cs=Wu=Oi=Fr=Mt=0,Ia=Ol=null,Qu=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var d=31-va(l),f=1<<d;a|=t[d],l&=~f}return hr=a,Po(),r}function $p(t,a){Ze=null,k.H=tc,a===gl||a===Vo?(a=lg(),gt=3):a===rg?(a=lg(),gt=4):gt=a===op?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qa=a,tt===null&&(Mt=1,nc(t,rs(a,t.current)))}function Vp(){var t=k.H;return k.H=tc,t===null?tc:t}function Gp(){var t=k.A;return k.A=_0,t}function tm(){Mt=4,Br||(nt&4194048)!==nt&&os.current!==null||(bn=!0),(Fr&134217727)===0&&(Oi&134217727)===0||wt===null||$r(wt,nt,cs,!1)}function am(t,a,r){var l=ft;ft|=2;var d=Vp(),f=Gp();(wt!==t||nt!==a)&&(hc=null,Nn(t,a)),a=!1;var D=Mt;e:do try{if(gt!==0&&tt!==null){var P=tt,G=Qa;switch(gt){case 8:em(),D=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(a=!0);var re=gt;if(gt=0,Qa=null,Sn(t,P,G,re),r&&bn){D=0;break e}break;default:re=gt,gt=0,Qa=null,Sn(t,P,G,re)}}S0(),D=Mt;break}catch(fe){$p(t,fe)}while(!0);return a&&t.shellSuspendCounter++,ir=Ci=null,ft=l,k.H=d,k.A=f,tt===null&&(wt=null,nt=0,Po()),D}function S0(){for(;tt!==null;)Yp(tt)}function C0(t,a){var r=ft;ft|=2;var l=Vp(),d=Gp();wt!==t||nt!==a?(hc=null,mc=Tt()+500,Nn(t,a)):bn=Ks(t,a);e:do try{if(gt!==0&&tt!==null){a=tt;var f=Qa;t:switch(gt){case 1:gt=0,Qa=null,Sn(t,a,f,1);break;case 2:case 9:if(ig(f)){gt=0,Qa=null,Wp(a);break}a=function(){gt!==2&&gt!==9||wt!==t||(gt=7),Us(t)},f.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:ig(f)?(gt=0,Qa=null,Wp(a)):(gt=0,Qa=null,Sn(t,a,f,7));break;case 5:var D=null;switch(tt.tag){case 26:D=tt.memoizedState;case 5:case 27:var P=tt;if(!D||Ex(D)){gt=0,Qa=null;var G=P.sibling;if(G!==null)tt=G;else{var re=P.return;re!==null?(tt=re,gc(re)):tt=null}break t}}gt=0,Qa=null,Sn(t,a,f,5);break;case 6:gt=0,Qa=null,Sn(t,a,f,6);break;case 8:em(),Mt=6;break e;default:throw Error(o(462))}}k0();break}catch(fe){$p(t,fe)}while(!0);return ir=Ci=null,k.H=l,k.A=d,ft=r,tt!==null?0:(wt=null,nt=0,Po(),Mt)}function k0(){for(;tt!==null&&!Ha();)Yp(tt)}function Yp(t){var a=bp(t.alternate,t,hr);t.memoizedProps=t.pendingProps,a===null?gc(t):tt=a}function Wp(t){var a=t,r=a.alternate;switch(a.tag){case 15:case 0:a=fp(r,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=fp(r,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:xu(a);default:_p(r,a),a=tt=Qf(a,hr),a=bp(r,a,hr)}t.memoizedProps=t.pendingProps,a===null?gc(t):tt=a}function Sn(t,a,r,l){ir=Ci=null,xu(a),pn=null,Nl=0;var d=a.return;try{if(p0(t,d,a,r,nt)){Mt=1,nc(t,rs(r,t.current)),tt=null;return}}catch(f){if(d!==null)throw tt=d,f;Mt=1,nc(t,rs(r,t.current)),tt=null;return}a.flags&32768?(dt||l===1?t=!0:bn||(nt&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=os.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qp(a,t)):gc(a)}function gc(t){var a=t;do{if((a.flags&32768)!==0){Qp(a,Br);return}t=a.return;var r=v0(a.alternate,a,hr);if(r!==null){tt=r;return}if(a=a.sibling,a!==null){tt=a;return}tt=a=t}while(a!==null);Mt===0&&(Mt=5)}function Qp(t,a){do{var r=y0(t.alternate,t);if(r!==null){r.flags&=32767,tt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(t=t.sibling,t!==null)){tt=t;return}tt=t=r}while(t!==null);Mt=6,tt=null}function Kp(t,a,r,l,d,f,D,P,G){t.cancelPendingCommit=null;do pc();while(fa!==0);if((ft&6)!==0)throw Error(o(327));if(a!==null){if(a===t.current)throw Error(o(177));if(f=a.lanes|a.childLanes,f|=Gd,wd(t,r,f,D,P,G),t===wt&&(tt=wt=null,nt=0),_n=a,qr=t,wn=r,Xu=f,Zu=d,Bp=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,D0(fi,function(){return tx(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,d=B.p,B.p=2,D=ft,ft|=4;try{b0(t,a,r)}finally{ft=D,B.p=d,k.T=l}}fa=1,Xp(),Zp(),Jp()}}function Xp(){if(fa===1){fa=0;var t=qr,a=_n,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=k.T,k.T=null;var l=B.p;B.p=2;var d=ft;ft|=4;try{Rp(a,t);var f=fm,D=Uf(t.containerInfo),P=f.focusedElem,G=f.selectionRange;if(D!==P&&P&&P.ownerDocument&&Lf(P.ownerDocument.documentElement,P)){if(G!==null&&Fd(P)){var re=G.start,fe=G.end;if(fe===void 0&&(fe=re),"selectionStart"in P)P.selectionStart=re,P.selectionEnd=Math.min(fe,P.value.length);else{var be=P.ownerDocument||document,le=be&&be.defaultView||window;if(le.getSelection){var de=le.getSelection(),Ve=P.textContent.length,Le=Math.min(G.start,Ve),vt=G.end===void 0?Le:Math.min(G.end,Ve);!de.extend&&Le>vt&&(D=vt,vt=Le,Le=D);var ae=zf(P,Le),Z=zf(P,vt);if(ae&&Z&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==Z.node||de.focusOffset!==Z.offset)){var se=be.createRange();se.setStart(ae.node,ae.offset),de.removeAllRanges(),Le>vt?(de.addRange(se),de.extend(Z.node,Z.offset)):(se.setEnd(Z.node,Z.offset),de.addRange(se))}}}}for(be=[],de=P;de=de.parentNode;)de.nodeType===1&&be.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<be.length;P++){var xe=be[P];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Ac=!!hm,fm=hm=null}finally{ft=d,B.p=l,k.T=r}}t.current=a,fa=2}}function Zp(){if(fa===2){fa=0;var t=qr,a=_n,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=k.T,k.T=null;var l=B.p;B.p=2;var d=ft;ft|=4;try{Ep(t,a.alternate,a)}finally{ft=d,B.p=l,k.T=r}}fa=3}}function Jp(){if(fa===4||fa===3){fa=0,vs();var t=qr,a=_n,r=wn,l=Bp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?fa=5:(fa=0,_n=qr=null,ex(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Hr=null),Kn(r),a=a.stateNode,xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(ts,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=k.T,d=B.p,B.p=2,k.T=null;try{for(var f=t.onRecoverableError,D=0;D<l.length;D++){var P=l[D];f(P.value,{componentStack:P.stack})}}finally{k.T=a,B.p=d}}(wn&3)!==0&&pc(),Us(t),d=t.pendingLanes,(r&4194090)!==0&&(d&42)!==0?t===Ju?Rl++:(Rl=0,Ju=t):Rl=0,Ml(0)}}function ex(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,hl(a)))}function pc(t){return Xp(),Zp(),Jp(),tx()}function tx(){if(fa!==5)return!1;var t=qr,a=Xu;Xu=0;var r=Kn(wn),l=k.T,d=B.p;try{B.p=32>r?32:r,k.T=null,r=Zu,Zu=null;var f=qr,D=wn;if(fa=0,_n=qr=null,wn=0,(ft&6)!==0)throw Error(o(331));var P=ft;if(ft|=4,Lp(f.current),Ip(f,f.current,D,r),ft=P,Ml(0,!1),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(ts,f)}catch{}return!0}finally{B.p=d,k.T=l,ex(t,a)}}function ax(t,a,r){a=rs(r,a),a=Du(t.stateNode,a,2),t=Rr(t,a,2),t!==null&&(bs(t,2),Us(t))}function yt(t,a,r){if(t.tag===3)ax(t,t,r);else for(;a!==null;){if(a.tag===3){ax(a,t,r);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=rs(r,t),r=np(2),l=Rr(a,r,2),l!==null&&(lp(r,l,a,t),bs(l,2),Us(l));break}}a=a.return}}function sm(t,a,r){var l=t.pingCache;if(l===null){l=t.pingCache=new w0;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(r)||(Yu=!0,d.add(r),t=A0.bind(null,t,a,r),a.then(t,t))}function A0(t,a,r){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,wt===t&&(nt&r)===r&&(Mt===4||Mt===3&&(nt&62914560)===nt&&300>Tt()-Ku?(ft&2)===0&&Nn(t,0):Wu|=r,jn===nt&&(jn=0)),Us(t)}function sx(t,a){a===0&&(a=xi()),t=nn(t,a),t!==null&&(bs(t,a),Us(t))}function E0(t){var a=t.memoizedState,r=0;a!==null&&(r=a.retryLane),sx(t,r)}function T0(t,a){var r=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(a),sx(t,r)}function D0(t,a){return jt(t,a)}var xc=null,Cn=null,rm=!1,vc=!1,im=!1,Ri=0;function Us(t){t!==Cn&&t.next===null&&(Cn===null?xc=Cn=t:Cn=Cn.next=t),vc=!0,rm||(rm=!0,R0())}function Ml(t,a){if(!im&&vc){im=!0;do for(var r=!1,l=xc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var D=l.suspendedLanes,P=l.pingedLanes;f=(1<<31-va(42|t)+1)-1,f&=d&~(D&~P),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,lx(l,f))}else f=nt,f=Cr(l,l===wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ks(l,f)||(r=!0,lx(l,f));l=l.next}while(r);im=!1}}function O0(){rx()}function rx(){vc=rm=!1;var t=0;Ri!==0&&(F0()&&(t=Ri),Ri=0);for(var a=Tt(),r=null,l=xc;l!==null;){var d=l.next,f=ix(l,a);f===0?(l.next=null,r===null?xc=d:r.next=d,d===null&&(Cn=r)):(r=l,(t!==0||(f&3)!==0)&&(vc=!0)),l=d}Ml(t)}function ix(t,a){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var D=31-va(f),P=1<<D,G=d[D];G===-1?((P&r)===0||(P&l)!==0)&&(d[D]=_d(P,a)):G<=a&&(t.expiredLanes|=P),f&=~P}if(a=wt,r=nt,r=Cr(t,t===a?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===a&&(gt===2||gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Et(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ks(t,r)){if(a=r&-r,a===t.callbackPriority)return a;switch(l!==null&&Et(l),Kn(r)){case 2:case 8:r=Yn;break;case 32:r=fi;break;case 268435456:r=Wi;break;default:r=fi}return l=nx.bind(null,t),r=jt(r,l),t.callbackPriority=a,t.callbackNode=r,a}return l!==null&&l!==null&&Et(l),t.callbackPriority=2,t.callbackNode=null,2}function nx(t,a){if(fa!==0&&fa!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(pc()&&t.callbackNode!==r)return null;var l=nt;return l=Cr(t,t===wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hp(t,l,a),ix(t,Tt()),t.callbackNode!=null&&t.callbackNode===r?nx.bind(null,t):null)}function lx(t,a){if(pc())return null;Hp(t,a,!0)}function R0(){q0(function(){(ft&6)!==0?jt(hi,O0):rx()})}function nm(){return Ri===0&&(Ri=pi()),Ri}function ox(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Eo(""+t)}function cx(t,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,t.id&&r.setAttribute("form",t.id),a.parentNode.insertBefore(r,a),t=new FormData(t),r.parentNode.removeChild(r),t}function M0(t,a,r,l,d){if(a==="submit"&&r&&r.stateNode===d){var f=ox((d[ya]||null).action),D=l.submitter;D&&(a=(a=D[ya]||null)?ox(a.formAction):D.getAttribute("formAction"),a!==null&&(f=a,D=null));var P=new Ro("action","action",null,l,d);t.push({event:P,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ri!==0){var G=D?cx(d,D):new FormData(d);Cu(r,{pending:!0,data:G,method:d.method,action:f},null,G)}}else typeof f=="function"&&(P.preventDefault(),G=D?cx(d,D):new FormData(d),Cu(r,{pending:!0,data:G,method:d.method,action:f},f,G))},currentTarget:d}]})}}for(var lm=0;lm<Vd.length;lm++){var om=Vd[lm],I0=om.toLowerCase(),P0=om[0].toUpperCase()+om.slice(1);Ns(I0,"on"+P0)}Ns(Hf,"onAnimationEnd"),Ns(qf,"onAnimationIteration"),Ns($f,"onAnimationStart"),Ns("dblclick","onDoubleClick"),Ns("focusin","onFocus"),Ns("focusout","onBlur"),Ns(J_,"onTransitionRun"),Ns(e0,"onTransitionStart"),Ns(t0,"onTransitionCancel"),Ns(Vf,"onTransitionEnd"),ke("onMouseEnter",["mouseout","mouseover"]),ke("onMouseLeave",["mouseout","mouseover"]),ke("onPointerEnter",["pointerout","pointerover"]),ke("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function dx(t,a){a=(a&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var f=void 0;if(a)for(var D=l.length-1;0<=D;D--){var P=l[D],G=P.instance,re=P.currentTarget;if(P=P.listener,G!==f&&d.isPropagationStopped())break e;f=P,d.currentTarget=re;try{f(d)}catch(fe){ic(fe)}d.currentTarget=null,f=G}else for(D=0;D<l.length;D++){if(P=l[D],G=P.instance,re=P.currentTarget,P=P.listener,G!==f&&d.isPropagationStopped())break e;f=P,d.currentTarget=re;try{f(d)}catch(fe){ic(fe)}d.currentTarget=null,f=G}}}}function at(t,a){var r=a[_s];r===void 0&&(r=a[_s]=new Set);var l=t+"__bubble";r.has(l)||(ux(a,t,2,!1),r.add(l))}function cm(t,a,r){var l=0;a&&(l|=4),ux(r,t,l,a)}var yc="_reactListening"+Math.random().toString(36).slice(2);function dm(t){if(!t[yc]){t[yc]=!0,Oe.forEach(function(r){r!=="selectionchange"&&(z0.has(r)||cm(r,!1,t),cm(r,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[yc]||(a[yc]=!0,cm("selectionchange",!1,a))}}function ux(t,a,r,l){switch(Ix(a)){case 2:var d=dw;break;case 8:d=uw;break;default:d=Nm}r=d.bind(null,a,r,t),d=void 0,!Od||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(a,r,{capture:!0,passive:d}):t.addEventListener(a,r,!0):d!==void 0?t.addEventListener(a,r,{passive:d}):t.addEventListener(a,r,!1)}function um(t,a,r,l,d){var f=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var D=l.tag;if(D===3||D===4){var P=l.stateNode.containerInfo;if(P===d)break;if(D===4)for(D=l.return;D!==null;){var G=D.tag;if((G===3||G===4)&&D.stateNode.containerInfo===d)return;D=D.return}for(;P!==null;){if(D=Xs(P),D===null)return;if(G=D.tag,G===5||G===6||G===26||G===27){l=f=D;continue e}P=P.parentNode}}l=l.return}vf(function(){var re=f,fe=Td(r),be=[];e:{var le=Gf.get(t);if(le!==void 0){var de=Ro,Ve=t;switch(t){case"keypress":if(Do(r)===0)break e;case"keydown":case"keyup":de=D_;break;case"focusin":Ve="focus",de=Pd;break;case"focusout":Ve="blur",de=Pd;break;case"beforeblur":case"afterblur":de=Pd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=M_;break;case Hf:case qf:case $f:de=__;break;case Vf:de=P_;break;case"scroll":case"scrollend":de=x_;break;case"wheel":de=L_;break;case"copy":case"cut":case"paste":de=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=wf;break;case"toggle":case"beforetoggle":de=B_}var Le=(a&4)!==0,vt=!Le&&(t==="scroll"||t==="scrollend"),ae=Le?le!==null?le+"Capture":null:le;Le=[];for(var Z=re,se;Z!==null;){var xe=Z;if(se=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||se===null||ae===null||(xe=el(Z,ae),xe!=null&&Le.push(Pl(Z,xe,se))),vt)break;Z=Z.return}0<Le.length&&(le=new de(le,Ve,null,r,fe),be.push({event:le,listeners:Le}))}}if((a&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",le&&r!==Ed&&(Ve=r.relatedTarget||r.fromElement)&&(Xs(Ve)||Ve[ma]))break e;if((de||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Ve=r.relatedTarget||r.toElement,de=re,Ve=Ve?Xs(Ve):null,Ve!==null&&(vt=c(Ve),Le=Ve.tag,Ve!==vt||Le!==5&&Le!==27&&Le!==6)&&(Ve=null)):(de=null,Ve=re),de!==Ve)){if(Le=jf,xe="onMouseLeave",ae="onMouseEnter",Z="mouse",(t==="pointerout"||t==="pointerover")&&(Le=wf,xe="onPointerLeave",ae="onPointerEnter",Z="pointer"),vt=de==null?le:Ar(de),se=Ve==null?le:Ar(Ve),le=new Le(xe,Z+"leave",de,r,fe),le.target=vt,le.relatedTarget=se,xe=null,Xs(fe)===re&&(Le=new Le(ae,Z+"enter",Ve,r,fe),Le.target=se,Le.relatedTarget=vt,xe=Le),vt=xe,de&&Ve)t:{for(Le=de,ae=Ve,Z=0,se=Le;se;se=kn(se))Z++;for(se=0,xe=ae;xe;xe=kn(xe))se++;for(;0<Z-se;)Le=kn(Le),Z--;for(;0<se-Z;)ae=kn(ae),se--;for(;Z--;){if(Le===ae||ae!==null&&Le===ae.alternate)break t;Le=kn(Le),ae=kn(ae)}Le=null}else Le=null;de!==null&&mx(be,le,de,Le,!1),Ve!==null&&vt!==null&&mx(be,vt,Ve,Le,!0)}}e:{if(le=re?Ar(re):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var Ae=Df;else if(Ef(le))if(Of)Ae=K_;else{Ae=W_;var et=Y_}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?re&&Ad(re.elementType)&&(Ae=Df):Ae=Q_;if(Ae&&(Ae=Ae(t,re))){Tf(be,Ae,r,fe);break e}et&&et(t,le,re),t==="focusout"&&re&&le.type==="number"&&re.memoizedProps.value!=null&&kd(le,"number",le.value)}switch(et=re?Ar(re):window,t){case"focusin":(Ef(et)||et.contentEditable==="true")&&(an=et,Hd=re,ol=null);break;case"focusout":ol=Hd=an=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,Bf(be,r,fe);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Bf(be,r,fe)}var Re;if(Ld)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else tn?kf(t,r)&&(qe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(Nf&&r.locale!=="ko"&&(tn||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&tn&&(Re=yf()):(Er=fe,Rd="value"in Er?Er.value:Er.textContent,tn=!0)),et=bc(re,qe),0<et.length&&(qe=new _f(qe,t,null,r,fe),be.push({event:qe,listeners:et}),Re?qe.data=Re:(Re=Af(r),Re!==null&&(qe.data=Re)))),(Re=H_?q_(t,r):$_(t,r))&&(qe=bc(re,"onBeforeInput"),0<qe.length&&(et=new _f("onBeforeInput","beforeinput",null,r,fe),be.push({event:et,listeners:qe}),et.data=Re)),M0(be,t,re,r,fe)}dx(be,a)})}function Pl(t,a,r){return{instance:t,listener:a,currentTarget:r}}function bc(t,a){for(var r=a+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=el(t,r),d!=null&&l.unshift(Pl(t,d,f)),d=el(t,a),d!=null&&l.push(Pl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function mx(t,a,r,l,d){for(var f=a._reactName,D=[];r!==null&&r!==l;){var P=r,G=P.alternate,re=P.stateNode;if(P=P.tag,G!==null&&G===l)break;P!==5&&P!==26&&P!==27||re===null||(G=re,d?(re=el(r,f),re!=null&&D.unshift(Pl(r,re,G))):d||(re=el(r,f),re!=null&&D.push(Pl(r,re,G)))),r=r.return}D.length!==0&&t.push({event:a,listeners:D})}var L0=/\r\n?/g,U0=/\u0000|\uFFFD/g;function hx(t){return(typeof t=="string"?t:""+t).replace(L0,`
`).replace(U0,"")}function fx(t,a){return a=hx(a),hx(t)===a}function jc(){}function xt(t,a,r,l,d,f){switch(r){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||Zi(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&Zi(t,""+l);break;case"className":ws(t,"class",l);break;case"tabIndex":ws(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(t,r,l);break;case"style":pf(t,l,f);break;case"data":if(a!=="object"){ws(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Eo(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(a!=="input"&&xt(t,a,"name",d.name,d,null),xt(t,a,"formEncType",d.formEncType,d,null),xt(t,a,"formMethod",d.formMethod,d,null),xt(t,a,"formTarget",d.formTarget,d,null)):(xt(t,a,"encType",d.encType,d,null),xt(t,a,"method",d.method,d,null),xt(t,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Eo(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Eo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":at("beforetoggle",t),at("toggle",t),Da(t,"popover",l);break;case"xlinkActuate":$a(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$a(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$a(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$a(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$a(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$a(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$a(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$a(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$a(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=g_.get(r)||r,Da(t,r,l))}}function mm(t,a,r,l,d,f){switch(r){case"style":pf(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Zi(t,l):(typeof l=="number"||typeof l=="bigint")&&Zi(t,""+l);break;case"onScroll":l!=null&&at("scroll",t);break;case"onScrollEnd":l!=null&&at("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!J.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),f=t[ya]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(a,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(a,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Da(t,r,l)}}}function ga(t,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",t),at("load",t);var l=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var D=r[f];if(D!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:xt(t,a,f,D,r,null)}}d&&xt(t,a,"srcSet",r.srcSet,r,null),l&&xt(t,a,"src",r.src,r,null);return;case"input":at("invalid",t);var P=f=D=d=null,G=null,re=null;for(l in r)if(r.hasOwnProperty(l)){var fe=r[l];if(fe!=null)switch(l){case"name":d=fe;break;case"type":D=fe;break;case"checked":G=fe;break;case"defaultChecked":re=fe;break;case"value":f=fe;break;case"defaultValue":P=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,a));break;default:xt(t,a,l,fe,r,null)}}mf(t,f,P,G,re,D,d,!1),ko(t);return;case"select":at("invalid",t),l=D=f=null;for(d in r)if(r.hasOwnProperty(d)&&(P=r[d],P!=null))switch(d){case"value":f=P;break;case"defaultValue":D=P;break;case"multiple":l=P;default:xt(t,a,d,P,r,null)}a=f,r=D,t.multiple=!!l,a!=null?Xi(t,!!l,a,!1):r!=null&&Xi(t,!!l,r,!0);return;case"textarea":at("invalid",t),f=d=l=null;for(D in r)if(r.hasOwnProperty(D)&&(P=r[D],P!=null))switch(D){case"value":l=P;break;case"defaultValue":d=P;break;case"children":f=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(91));break;default:xt(t,a,D,P,r,null)}ff(t,l,d,f),ko(t);return;case"option":for(G in r)if(r.hasOwnProperty(G)&&(l=r[G],l!=null))switch(G){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:xt(t,a,G,l,r,null)}return;case"dialog":at("beforetoggle",t),at("toggle",t),at("cancel",t),at("close",t);break;case"iframe":case"object":at("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)at(Il[l],t);break;case"image":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"embed":case"source":case"link":at("error",t),at("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in r)if(r.hasOwnProperty(re)&&(l=r[re],l!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:xt(t,a,re,l,r,null)}return;default:if(Ad(a)){for(fe in r)r.hasOwnProperty(fe)&&(l=r[fe],l!==void 0&&mm(t,a,fe,l,r,void 0));return}}for(P in r)r.hasOwnProperty(P)&&(l=r[P],l!=null&&xt(t,a,P,l,r,null))}function B0(t,a,r,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,D=null,P=null,G=null,re=null,fe=null;for(de in r){var be=r[de];if(r.hasOwnProperty(de)&&be!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":G=be;default:l.hasOwnProperty(de)||xt(t,a,de,null,l,be)}}for(var le in l){var de=l[le];if(be=r[le],l.hasOwnProperty(le)&&(de!=null||be!=null))switch(le){case"type":f=de;break;case"name":d=de;break;case"checked":re=de;break;case"defaultChecked":fe=de;break;case"value":D=de;break;case"defaultValue":P=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(o(137,a));break;default:de!==be&&xt(t,a,le,de,l,be)}}Cd(t,D,P,G,re,fe,f,d);return;case"select":de=D=P=le=null;for(f in r)if(G=r[f],r.hasOwnProperty(f)&&G!=null)switch(f){case"value":break;case"multiple":de=G;default:l.hasOwnProperty(f)||xt(t,a,f,null,l,G)}for(d in l)if(f=l[d],G=r[d],l.hasOwnProperty(d)&&(f!=null||G!=null))switch(d){case"value":le=f;break;case"defaultValue":P=f;break;case"multiple":D=f;default:f!==G&&xt(t,a,d,f,l,G)}a=P,r=D,l=de,le!=null?Xi(t,!!r,le,!1):!!l!=!!r&&(a!=null?Xi(t,!!r,a,!0):Xi(t,!!r,r?[]:"",!1));return;case"textarea":de=le=null;for(P in r)if(d=r[P],r.hasOwnProperty(P)&&d!=null&&!l.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:xt(t,a,P,null,l,d)}for(D in l)if(d=l[D],f=r[D],l.hasOwnProperty(D)&&(d!=null||f!=null))switch(D){case"value":le=d;break;case"defaultValue":de=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==f&&xt(t,a,D,d,l,f)}hf(t,le,de);return;case"option":for(var Ve in r)if(le=r[Ve],r.hasOwnProperty(Ve)&&le!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":t.selected=!1;break;default:xt(t,a,Ve,null,l,le)}for(G in l)if(le=l[G],de=r[G],l.hasOwnProperty(G)&&le!==de&&(le!=null||de!=null))switch(G){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:xt(t,a,G,le,l,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in r)le=r[Le],r.hasOwnProperty(Le)&&le!=null&&!l.hasOwnProperty(Le)&&xt(t,a,Le,null,l,le);for(re in l)if(le=l[re],de=r[re],l.hasOwnProperty(re)&&le!==de&&(le!=null||de!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,a));break;default:xt(t,a,re,le,l,de)}return;default:if(Ad(a)){for(var vt in r)le=r[vt],r.hasOwnProperty(vt)&&le!==void 0&&!l.hasOwnProperty(vt)&&mm(t,a,vt,void 0,l,le);for(fe in l)le=l[fe],de=r[fe],!l.hasOwnProperty(fe)||le===de||le===void 0&&de===void 0||mm(t,a,fe,le,l,de);return}}for(var ae in r)le=r[ae],r.hasOwnProperty(ae)&&le!=null&&!l.hasOwnProperty(ae)&&xt(t,a,ae,null,l,le);for(be in l)le=l[be],de=r[be],!l.hasOwnProperty(be)||le===de||le==null&&de==null||xt(t,a,be,le,l,de)}var hm=null,fm=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function gx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function px(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function gm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var pm=null;function F0(){var t=window.event;return t&&t.type==="popstate"?t===pm?!1:(pm=t,!0):(pm=null,!1)}var xx=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(t){return vx.resolve(null).then(t).catch($0)}:xx;function $0(t){setTimeout(function(){throw t})}function Vr(t){return t==="head"}function yx(t,a){var r=a,l=0,d=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var D=t.ownerDocument;if(r&1&&zl(D.documentElement),r&2&&zl(D.body),r&4)for(r=D.head,zl(r),D=r.firstChild;D;){var P=D.nextSibling,G=D.nodeName;D[kr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||r.removeChild(D),D=P}}if(d===0){t.removeChild(f),Vl(a);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(a)}function xm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":xm(r),qa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function V0(t,a,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cs(t.nextSibling),t===null)break}return null}function G0(t,a,r){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Cs(t.nextSibling),t===null))return null;return t}function vm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Y0(t,a){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")a();else{var l=function(){a(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cs(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var ym=null;function bx(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return t;a--}else r==="/$"&&a++}t=t.previousSibling}return null}function jx(t,a,r){switch(a=_c(r),t){case"html":if(t=a.documentElement,!t)throw Error(o(452));return t;case"head":if(t=a.head,!t)throw Error(o(453));return t;case"body":if(t=a.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function zl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);qa(t)}var ds=new Map,_x=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=B.d;B.d={f:W0,r:Q0,D:K0,C:X0,L:Z0,m:J0,X:tw,S:ew,M:aw};function W0(){var t=fr.f(),a=fc();return t||a}function Q0(t){var a=Zs(t);a!==null&&a.tag===5&&a.type==="form"?Hg(a):fr.r(t)}var An=typeof document>"u"?null:document;function wx(t,a,r){var l=An;if(l&&typeof a=="string"&&a){var d=ss(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),_x.has(d)||(_x.add(d),t={rel:t,crossOrigin:r,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),ga(a,"link",t),Vt(a),l.head.appendChild(a)))}}function K0(t){fr.D(t),wx("dns-prefetch",t,null)}function X0(t,a){fr.C(t,a),wx("preconnect",t,a)}function Z0(t,a,r){fr.L(t,a,r);var l=An;if(l&&t&&a){var d='link[rel="preload"][as="'+ss(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+ss(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+ss(r.imageSizes)+'"]')):d+='[href="'+ss(t)+'"]';var f=d;switch(a){case"style":f=En(t);break;case"script":f=Tn(t)}ds.has(f)||(t=y({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:t,as:a},r),ds.set(f,t),l.querySelector(d)!==null||a==="style"&&l.querySelector(Ll(f))||a==="script"&&l.querySelector(Ul(f))||(a=l.createElement("link"),ga(a,"link",t),Vt(a),l.head.appendChild(a)))}}function J0(t,a){fr.m(t,a);var r=An;if(r&&t){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+ss(l)+'"][href="'+ss(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Tn(t)}if(!ds.has(f)&&(t=y({rel:"modulepreload",href:t},a),ds.set(f,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),ga(l,"link",t),Vt(l),r.head.appendChild(l)}}}function ew(t,a,r){fr.S(t,a,r);var l=An;if(l&&t){var d=Js(l).hoistableStyles,f=En(t);a=a||"default";var D=d.get(f);if(!D){var P={loading:0,preload:null};if(D=l.querySelector(Ll(f)))P.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":a},r),(r=ds.get(f))&&bm(t,r);var G=D=l.createElement("link");Vt(G),ga(G,"link",t),G._p=new Promise(function(re,fe){G.onload=re,G.onerror=fe}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Nc(D,a,l)}D={type:"stylesheet",instance:D,count:1,state:P},d.set(f,D)}}}function tw(t,a){fr.X(t,a);var r=An;if(r&&t){var l=Js(r).hoistableScripts,d=Tn(t),f=l.get(d);f||(f=r.querySelector(Ul(d)),f||(t=y({src:t,async:!0},a),(a=ds.get(d))&&jm(t,a),f=r.createElement("script"),Vt(f),ga(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function aw(t,a){fr.M(t,a);var r=An;if(r&&t){var l=Js(r).hoistableScripts,d=Tn(t),f=l.get(d);f||(f=r.querySelector(Ul(d)),f||(t=y({src:t,async:!0,type:"module"},a),(a=ds.get(d))&&jm(t,a),f=r.createElement("script"),Vt(f),ga(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Nx(t,a,r,l){var d=(d=ye.current)?wc(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=En(r.href),r=Js(d).hoistableStyles,l=r.get(a),l||(l={type:"style",instance:null,count:0,state:null},r.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=En(r.href);var f=Js(d).hoistableStyles,D=f.get(t);if(D||(d=d.ownerDocument||d,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,D),(f=d.querySelector(Ll(t)))&&!f._p&&(D.instance=f,D.state.loading=5),ds.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ds.set(t,r),f||sw(d,t,r,D.state))),a&&l===null)throw Error(o(528,""));return D}if(a&&l!==null)throw Error(o(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tn(r),r=Js(d).hoistableScripts,l=r.get(a),l||(l={type:"script",instance:null,count:0,state:null},r.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function En(t){return'href="'+ss(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function Sx(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function sw(t,a,r,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ga(a,"link",r),Vt(a),t.head.appendChild(a))}function Tn(t){return'[src="'+ss(t)+'"]'}function Ul(t){return"script[async]"+t}function Cx(t,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+ss(r.href)+'"]');if(l)return a.instance=l,Vt(l),l;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),ga(l,"style",d),Nc(l,r.precedence,t),a.instance=l;case"stylesheet":d=En(r.href);var f=t.querySelector(Ll(d));if(f)return a.state.loading|=4,a.instance=f,Vt(f),f;l=Sx(r),(d=ds.get(d))&&bm(l,d),f=(t.ownerDocument||t).createElement("link"),Vt(f);var D=f;return D._p=new Promise(function(P,G){D.onload=P,D.onerror=G}),ga(f,"link",l),a.state.loading|=4,Nc(f,r.precedence,t),a.instance=f;case"script":return f=Tn(r.src),(d=t.querySelector(Ul(f)))?(a.instance=d,Vt(d),d):(l=r,(d=ds.get(f))&&(l=y({},r),jm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Vt(d),ga(d,"link",l),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Nc(l,r.precedence,t));return a.instance}function Nc(t,a,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,D=0;D<l.length;D++){var P=l[D];if(P.dataset.precedence===a)f=P;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(t,a.firstChild))}function bm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function jm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Sc=null;function kx(t,a,r){if(Sc===null){var l=new Map,d=Sc=new Map;d.set(r,l)}else d=Sc,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var f=r[d];if(!(f[kr]||f[ta]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var D=f.getAttribute(a)||"";D=t+D;var P=l.get(D);P?P.push(f):l.set(D,[f])}}return l}function Ax(t,a,r){t=t.ownerDocument||t,t.head.insertBefore(r,a==="title"?t.querySelector("head > title"):null)}function rw(t,a,r){if(r===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ex(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function iw(){}function nw(t,a,r){if(Bl===null)throw Error(o(475));var l=Bl;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=En(r.href),f=t.querySelector(Ll(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),a.state.loading|=4,a.instance=f,Vt(f);return}f=t.ownerDocument||t,r=Sx(r),(d=ds.get(d))&&bm(r,d),f=f.createElement("link"),Vt(f);var D=f;D._p=new Promise(function(P,G){D.onload=P,D.onerror=G}),ga(f,"link",r),a.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(l.count++,a=Cc.bind(l),t.addEventListener("load",a),t.addEventListener("error",a))}}function lw(){if(Bl===null)throw Error(o(475));var t=Bl;return t.stylesheets&&t.count===0&&_m(t,t.stylesheets),0<t.count?function(a){var r=setTimeout(function(){if(t.stylesheets&&_m(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function _m(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,a.forEach(ow,t),kc=null,Cc.call(t))}function ow(t,a){if(!(a.state.loading&4)){var r=kc.get(t);if(r)var l=r.get(null);else{r=new Map,kc.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var D=d[f];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(r.set(D.dataset.precedence,D),l=D)}l&&r.set(null,l)}d=a.instance,D=d.getAttribute("data-precedence"),f=r.get(D)||l,f===l&&r.set(null,d),r.set(D,d),this.count++,l=Cc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Fl={$$typeof:C,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function cw(t,a,r,l,d,f,D,P){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Tx(t,a,r,l,d,f,D,P,G,re,fe,be){return t=new cw(t,a,r,D,P,G,re,be),a=1,f===!0&&(a|=24),f=Ga(3,null,null,a),t.current=f,f.stateNode=t,a=su(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:a},lu(f),t}function Dx(t){return t?(t=ln,t):ln}function Ox(t,a,r,l,d,f){d=Dx(d),l.context===null?l.context=d:l.pendingContext=d,l=Or(a),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Rr(t,l,a),r!==null&&(Xa(r,t,a),xl(r,t,a))}function Rx(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<a?r:a}}function wm(t,a){Rx(t,a),(t=t.alternate)&&Rx(t,a)}function Mx(t){if(t.tag===13){var a=nn(t,67108864);a!==null&&Xa(a,t,67108864),wm(t,67108864)}}var Ac=!0;function dw(t,a,r,l){var d=k.T;k.T=null;var f=B.p;try{B.p=2,Nm(t,a,r,l)}finally{B.p=f,k.T=d}}function uw(t,a,r,l){var d=k.T;k.T=null;var f=B.p;try{B.p=8,Nm(t,a,r,l)}finally{B.p=f,k.T=d}}function Nm(t,a,r,l){if(Ac){var d=Sm(l);if(d===null)um(t,a,l,Ec,r),Px(t,l);else if(hw(d,t,a,r,l))l.stopPropagation();else if(Px(t,l),a&4&&-1<mw.indexOf(t)){for(;d!==null;){var f=Zs(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var D=Ta(f.pendingLanes);if(D!==0){var P=f;for(P.pendingLanes|=2,P.entangledLanes|=2;D;){var G=1<<31-va(D);P.entanglements[1]|=G,D&=~G}Us(f),(ft&6)===0&&(mc=Tt()+500,Ml(0))}}break;case 13:P=nn(f,2),P!==null&&Xa(P,f,2),fc(),wm(f,2)}if(f=Sm(l),f===null&&um(t,a,l,Ec,r),f===d)break;d=f}d!==null&&l.stopPropagation()}else um(t,a,l,null,r)}}function Sm(t){return t=Td(t),Cm(t)}var Ec=null;function Cm(t){if(Ec=null,t=Xs(t),t!==null){var a=c(t);if(a===null)t=null;else{var r=a.tag;if(r===13){if(t=m(a),t!==null)return t;t=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Ec=t,null}function Ix(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case hi:return 2;case Yn:return 8;case fi:case jd:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var km=!1,Gr=null,Yr=null,Wr=null,Hl=new Map,ql=new Map,Qr=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Px(t,a){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Hl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(a.pointerId)}}function $l(t,a,r,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},a!==null&&(a=Zs(a),a!==null&&Mx(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function hw(t,a,r,l,d){switch(a){case"focusin":return Gr=$l(Gr,t,a,r,l,d),!0;case"dragenter":return Yr=$l(Yr,t,a,r,l,d),!0;case"mouseover":return Wr=$l(Wr,t,a,r,l,d),!0;case"pointerover":var f=d.pointerId;return Hl.set(f,$l(Hl.get(f)||null,t,a,r,l,d)),!0;case"gotpointercapture":return f=d.pointerId,ql.set(f,$l(ql.get(f)||null,t,a,r,l,d)),!0}return!1}function zx(t){var a=Xs(t.target);if(a!==null){var r=c(a);if(r!==null){if(a=r.tag,a===13){if(a=m(r),a!==null){t.blockedOn=a,Zn(t.priority,function(){if(r.tag===13){var l=Ka();l=Ms(l);var d=nn(r,l);d!==null&&Xa(d,r,l),wm(r,l)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var r=Sm(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ed=l,r.target.dispatchEvent(l),Ed=null}else return a=Zs(r),a!==null&&Mx(a),t.blockedOn=r,!1;a.shift()}return!0}function Lx(t,a,r){Tc(t)&&r.delete(a)}function fw(){km=!1,Gr!==null&&Tc(Gr)&&(Gr=null),Yr!==null&&Tc(Yr)&&(Yr=null),Wr!==null&&Tc(Wr)&&(Wr=null),Hl.forEach(Lx),ql.forEach(Lx)}function Dc(t,a){t.blockedOn===a&&(t.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fw)))}var Oc=null;function Ux(t){Oc!==t&&(Oc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var a=0;a<t.length;a+=3){var r=t[a],l=t[a+1],d=t[a+2];if(typeof l!="function"){if(Cm(l||r)===null)continue;break}var f=Zs(r);f!==null&&(t.splice(a,3),a-=3,Cu(f,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function Vl(t){function a(G){return Dc(G,t)}Gr!==null&&Dc(Gr,t),Yr!==null&&Dc(Yr,t),Wr!==null&&Dc(Wr,t),Hl.forEach(a),ql.forEach(a);for(var r=0;r<Qr.length;r++){var l=Qr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(r=Qr[0],r.blockedOn===null);)zx(r),r.blockedOn===null&&Qr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],f=r[l+1],D=d[ya]||null;if(typeof f=="function")D||Ux(r);else if(D){var P=null;if(f&&f.hasAttribute("formAction")){if(d=f,D=f[ya]||null)P=D.formAction;else if(Cm(d)!==null)continue}else P=D.action;typeof P=="function"?r[l+1]=P:(r.splice(l,3),l-=3),Ux(r)}}}function Am(t){this._internalRoot=t}Rc.prototype.render=Am.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(o(409));var r=a.current,l=Ka();Ox(r,l,t,a,null,null)},Rc.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Ox(t.current,2,null,t,null,null),fc(),a[ma]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var a=Xn();t={blockedOn:null,target:t,priority:a};for(var r=0;r<Qr.length&&a!==0&&a<Qr[r].priority;r++);Qr.splice(r,0,t),r===0&&zx(t)}};var Bx=s.version;if(Bx!=="19.1.1")throw Error(o(527,Bx,"19.1.1"));B.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=x(a),t=t!==null?j(t):null,t=t===null?null:t.stateNode,t};var gw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ts=Mc.inject(gw),xa=Mc}catch{}}return Yl.createRoot=function(t,a){if(!u(t))throw Error(o(299));var r=!1,l="",d=ap,f=sp,D=rp,P=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=Tx(t,1,!1,null,null,r,l,d,f,D,P,null),t[ma]=a.current,dm(t),new Am(a)},Yl.hydrateRoot=function(t,a,r){if(!u(t))throw Error(o(299));var l=!1,d="",f=ap,D=sp,P=rp,G=null,re=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(D=r.onCaughtError),r.onRecoverableError!==void 0&&(P=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(G=r.unstable_transitionCallbacks),r.formState!==void 0&&(re=r.formState)),a=Tx(t,1,!0,a,r??null,l,d,f,D,P,G,re),a.context=Dx(null),r=a.current,l=Ka(),l=Ms(l),d=Or(l),d.callback=null,Rr(r,d,l),r=l,a.current.lanes=r,bs(a,r),Us(a),t[ma]=a.current,dm(t),new Rc(a)},Yl.version="19.1.1",Yl}var rv;function WN(){if(rv)return Om.exports;rv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}return i(),Om.exports=YN(),Om.exports}var QN=WN();const KN={home:"Home",shop:"Shop",about:"About Us",contact:"Contact Us",brandName:"SPIRITHUB ROASTERY",login:"Login",register:"Register",dashboard:"Dashboard",logout:"Logout",settings:"Settings",currency:"Currency",language:"Language"},XN={hero:{badge:"Premium Coffee Experience",title:"Welcome to SPIRITHUB ROASTERY",subtitle:"Finest coffee roasted to perfection",description:"Discover carefully selected coffee beans from around the world, roasted with passion and expertise for the perfect cup every time.",shopNow:"Shop Now",aboutUs:"About Us"},features:{title:"Why Choose Us",subtitle:"Discover what makes our coffee exceptional",quality:{title:"Premium Quality",description:"Carefully selected beans from the finest coffee regions"},freshness:{title:"Always Fresh",description:"Roasted daily to ensure maximum freshness and flavor"},expertise:{title:"Expert Roasting",description:"Years of experience in perfecting the art of coffee roasting"}},featured:{title:"Featured Products",subtitle:"Discover our best deals and top-rated products",noProducts:"No featured products available at the moment",viewAll:"View All Products"},latestRelease:{title:"LATEST RELEASE",subtitle:"Discover our newest coffee arrivals",noProducts:"No new products available at the moment",viewShop:"View Shop"},ourCoffees:{title:"Our Coffees",subtitle:"Coming Soon",comingSoon:"Coming Soon",description:"We are preparing something special for you. Stay tuned!"},categories:{title:"SPIRITHUB CATEGORIES",subtitle:"Explore our coffee categories",noCategories:"No categories available at the moment"},coffeeCapsules:{title:"SpiritHub Coffee Capsules",subtitle:"Coming Soon",comingSoon:"Coming Soon",description:"We are preparing something special for you. Stay tuned!"},coldBrew:{title:"Cold Brew Selection",subtitle:"Coming Soon",comingSoon:"Coming Soon",description:"We are preparing something special for you. Stay tuned!"}},ZN={title:"Our Coffee Shop",subtitle:"Explore our premium coffee collection",comingSoon:"Coming Soon",description:"We're preparing an amazing shopping experience for you. Stay tuned!",searchPlaceholder:"Search products...",outOfStock:"Out of Stock",noProductsFound:"No products found",adjustFilters:"Try adjusting your filters or search criteria",category:{all:"All",espresso:"Espresso",filter:"Filter Coffee",decaf:"Decaf",blends:"Blends","single-origin":"Single Origin"},categories:{all:"All Categories",coffeeBeans:"Coffee Beans",equipment:"Equipment",accessories:"Accessories"},sortBy:{label:"Sort by",name:"Name",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Rating"},addToCart:"Add to Cart",quantity:"Quantity",total:"Total",quickView:"Quick View",rating:"Rating",reviews:"reviews",noProducts:"No products found",noProductsDescription:"Try adjusting your filters or search criteria"},JN={coffeeInformation:"Coffee Information",options:"Options",chooseSize:"Choose Size",affectsPrice:"affects price",selectOption:"Select...",specifications:"Specifications",additionalSpecifications:"Additional Specifications",noSpecifications:"No specifications available",backToShop:"Back to Shop",productNotFound:"Product Not Found",featured:"Featured",bestseller:"Bestseller",newArrival:"New",description:"Description",reviews:"Reviews",review:"review",addedToCart:"Product added to cart",errorAddingToCart:"Error adding product to cart",loading:"Loading...",errorLoading:"Error loading product",notFound:"Product not found",coffeeProperties:"Coffee Properties",required:"Required",pleaseSelectRequired:"Please select required properties",selectionSummary:"Selection Summary",price:"Price",youSave:"You save:"},eS={login:{title:"Login to Your Account",subtitle:"Welcome back! Please enter your details",description:"Welcome back! Please enter your details",email:"Email Address",password:"Password",emailPlaceholder:"Enter your email",passwordPlaceholder:"Enter your password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Login",noAccount:"Don't have an account?",signUp:"Sign up",invalidCredentials:"Invalid email or password",demoUsers:"Demo Users",demoAccounts:"Demo Accounts",selectDemo:"Select a demo user to login",adminDemo:"Admin Demo",userDemo:"User Demo",demoInfo:{title:"Demo Accounts",description:"You can try our demo accounts to explore the features:",password:"Password",passwordValue:"demo123"}},register:{title:"Create Your Account",subtitle:"Join us and start your coffee journey",description:"Join us and start your coffee journey",name:"Full Name",email:"Email Address",phone:"Phone Number",password:"Password",confirmPassword:"Confirm Password",namePlaceholder:"Enter your full name",emailPlaceholder:"Enter your email",phonePlaceholder:"Enter your phone number",passwordPlaceholder:"Enter your password",confirmPasswordPlaceholder:"Confirm your password",registerButton:"Create Account",haveAccount:"Already have an account?",hasAccount:"Already have an account?",signIn:"Sign in",passwordMismatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters",failed:"Registration failed. Please try again.",terms:"By creating an account, you agree to our",termsLink:"Terms of Service",and:"and",privacyLink:"Privacy Policy"}},tS={title:"Shopping Cart",empty:"Your cart is empty",emptyDescription:"Add some products to get started",shopNow:"Shop Now",items:"items",item:"item",quantity:"Qty",total:"Total",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",checkout:"Checkout",continueShopping:"Continue Shopping"},aS={title:"Checkout",emptyCart:"Your cart is empty",personalInfo:"Personal Information",shippingAddress:"Shipping Address",paymentMethod:"Payment Method",orderNotes:"Order Notes",orderSummary:"Order Summary",firstName:"First Name",lastName:"Last Name",email:"Email",phone:"Phone Number",address:"Address",city:"City",state:"State/Province",zipCode:"ZIP Code",country:"Country",creditCard:"Credit Card",cashOnDelivery:"Cash on Delivery",cardNumber:"Card Number",expiryDate:"Expiry Date",cvv:"CVV",orderNotesPlaceholder:"Add any special notes or requests",placeOrder:"Place Order",backToShop:"Back to Shop",orderSuccess:"Order Successful!",orderSuccessMessage:"Thank you! We will contact you soon.",fields:{country:"Country",state:"State/Province",city:"City"},placeholders:{selectCountry:"Select country",selectState:"Select state/province",selectCity:"Select city"},info:{aramexDelivery:"Delivery available via Aramex",currency:"Currency:"},validation:{invalidDestination:"Invalid destination for Aramex delivery",selectLocation:"Please select your delivery location"},continueShoppingButton:"Continue Shopping",backToHome:"Back to Home"},sS={welcome:"Welcome",systemAdmin:"System Administrator",member:"Member",regularUser:"Regular User",tabs:{overview:"Overview",orders:"Orders",profile:"Profile",settings:"Settings",users:"Users",products:"Products",allOrders:"All Orders",analytics:"Analytics",contact:"Contact Management",about:"About Page Management"},overview:{totalOrders:"Total Orders",totalSpent:"Total Spent",wishlist:"Wishlist",loyaltyPoints:"Loyalty Points",recentOrders:"Recent Orders",fromLastMonth:"from last month",newProducts:"new products",goldLevel:"Gold Level"},wishlist:{title:"My Wishlist",emptyTitle:"Your wishlist is empty",emptyDescription:"Start adding products you love to your wishlist",shopNow:"Shop Now",addToCart:"Add to Cart",removeFromWishlist:"Remove from wishlist",viewAll:"View all items",addedToWishlist:"Added to wishlist",removedFromWishlist:"Removed from wishlist",loginRequired:"Please login to manage wishlist"},orders:{title:"All Orders",description:"History of all your orders",trackOrder:"Track Order",viewDetails:"View Details",openTicket:"Open Support Ticket",rateOrder:"Rate Order",orderStatus:"Order Status",completed:"Completed",inTransit:"In Transit",processing:"Processing",delivered:"Delivered",shipped:"Shipped"},profile:{personalInfo:"Personal Information",statistics:"Statistics",name:"Name",email:"Email",location:"Location",loyaltyLevel:"Loyalty Level",gold:"Gold",pointsToNext:"points to next level",totalOrders:"Total Orders",totalSpent:"Total Spent",memberSince:"Member Since",january2024:"January 2024"},settings:{title:"Settings",description:"Manage your preferences and account settings",emailNotifications:"Email Notifications",emailNotificationsDesc:"Receive notifications about orders and offers",smsNotifications:"SMS Notifications",smsNotificationsDesc:"Receive SMS about order status",defaultAddress:"Default Shipping Address",defaultAddressDesc:"Manage shipping addresses",enable:"Enable",disable:"Disable",edit:"Edit"},admin:{sidebar:{dashboard:"Dashboard",users:"Users Management",heroSlider:"Hero Slider",products:"Products",orders:"Orders",analytics:"Analytics"},heroSlider:{settings:"Hero Slider Settings",settingsDescription:"Configure your hero slider appearance and behavior",general:"General",typography:"Typography",animation:"Animation",buttons:"Buttons",layout:"Layout",effects:"Effects",selectedSlide:"Selected Slide",titleTypography:"Title Typography",subtitleTypography:"Subtitle Typography",descriptionTypography:"Description Typography",typographySettings:"Typography Settings",typographyDescription:"Configure text appearance for different languages",animationSettings:"Animation Settings",animationDescription:"Configure animations for text elements",buttonSettings:"Button Settings",buttonDescription:"Customize button appearance and behavior",layoutSettings:"Layout Settings",layoutDescription:"Configure content positioning and spacing",effectsSettings:"Advanced Effects",effectsDescription:"Configure advanced visual effects",titleAnimation:"Title Animation",subtitleAnimation:"Subtitle Animation",descriptionAnimation:"Description Animation",buttonsAnimation:"Buttons Animation",transition:"Transition",transitionEffect:"Effect",transitionDuration:"Duration",responsiveSettings:"Responsive Settings",parallaxEffect:"Parallax Effect"},userManagement:"User Management",userManagementDesc:"Manage user accounts and roles",productManagement:"Product Management",productManagementDesc:"Manage products and inventory",allOrders:"All Orders",allOrdersDesc:"Manage all user orders",analytics:"Analytics",footerManagement:"Footer Management",footerManagementDesc:"Manage all information displayed in the website footer",totalSales:"Total Sales",totalOrders:"Total Orders",customers:"Customers",activeProducts:"Active Products",newCustomers:"new customers",newProducts:"new products",salesChart:"Sales Chart",salesChartDesc:"Sales performance over the month",chartComingSoon:"Chart will be added soon",topProducts:"Top Selling Products",sales:"sales",revenue:"Revenue",totalRevenue:"Total Revenue",productList:"Product List",addProduct:"Add New Product",adminRole:"Admin",userRole:"User",customer:"Customer",edit:"Edit",view:"View",update:"Update",delete:"Delete",footerSettings:"Footer Settings",footerTabs:{general:"General",contact:"Contact",social:"Social Media",hours:"Working Hours",video:"Video Background"},footerForm:{companyNameEn:"Company Name (English)",companyNameAr:"Company Name (Arabic)",descriptionEn:"Description (English)",descriptionAr:"Description (Arabic)",addressEn:"Address (English)",addressAr:"Address (Arabic)",mainPhone:"Main Phone",secondPhone:"Second Phone",email:"Email",whatsapp:"WhatsApp Number",instagram:"Instagram Account",facebook:"Facebook Account",twitter:"Twitter Account",workingHoursEn:"Working Hours (English)",workingHoursAr:"Working Hours (Arabic)",backgroundVideoBlur:"Background Video Blur (%)",videoOverlayOpacity:"Video Overlay Opacity (%)",enableVideoOverlay:"Enable Video Overlay",enableVideoBlur:"Enable Video Blur",enableGradientOverlay:"Enable Gradient Overlay",gradientOverlayOpacity:"Gradient Overlay Opacity (%)",videoSettings:"Video Background Settings",videoBlurDescription:"Control the blur intensity of the background video for better text readability",videoOverlayDescription:"Control the darkness overlay on the video to improve text contrast",gradientOverlayDescription:"Control the gradient overlay that helps with text readability",enableOverlayDescription:"Toggle the dark overlay on/off completely",enableBlurDescription:"Toggle the blur effect on/off completely",enableGradientDescription:"Toggle the gradient overlay on/off completely",saveChanges:"Save Changes",saving:"Saving..."},about:{title:"About Page Management",addSection:"Add Section",editSection:"Edit Section",confirmDelete:"Are you sure you want to delete this section?",pageHeader:"Page Header",editHeader:"Edit Header",createHeader:"Create Header",sectionKey:"Section Key",titleEn:"Title (English)",titleAr:"Title (Arabic)",contentEn:"Content (English)",contentAr:"Content (Arabic)",layout:"Layout",layoutTextLeft:"Text Left, Image Right",layoutTextRight:"Text Right, Image Left",layoutFullWidth:"Full Width (No Image)",sectionImage:"Section Image",currentImage:"Current Image",uploadImage:"Upload Image",removeImage:"Remove Image",enterImageUrl:"Or enter image URL",active:"Active",inactive:"Inactive",content:"Content",settings:"Settings",subtitleEn:"Subtitle (English)",subtitleAr:"Subtitle (Arabic)",englishContent:"English Content",arabicContent:"Arabic Content",uploading:"Uploading...",selectImageFile:"Upload section image",enterPlaceholder:{titleEn:"Enter English title",titleAr:"Enter Arabic title",contentEn:"Enter English content",contentAr:"Enter Arabic content",sectionKey:"e.g., mission, quality, values",imageUrl:"https://example.com/image.jpg",subtitleEn:"Enter English subtitle",subtitleAr:"Enter Arabic subtitle"}},products:{invalidImageType:"Please select a valid image file",imageTooLarge:"Image size must be less than 10MB",imageUploaded:"Image uploaded successfully",imageUploadError:"Failed to upload image",loginRequired:"Please login to upload images",quotaExceeded:"Storage quota exceeded",corsError:"CORS error occurred",noPermission:"No permission to upload images"},contact:{title:"Contact Management",messages:"Messages",settings:"Contact Settings",reply:"Reply",markAsRead:"Mark as Read",markAsUnread:"Mark as Unread",deleteMessage:"Delete Message",confirmDeleteMessage:"Are you sure you want to delete this message?",noMessages:"No messages found",messageDetails:"Message Details",from:"From",subject:"Subject",receivedAt:"Received At",status:"Status",read:"Read",unread:"Unread",contactInfo:"Contact Information",updateInfo:"Update Contact Info",companyName:"Company Name",address:"Address",phone:"Phone Number",secondaryPhone:"Secondary Phone",email:"Email Address",whatsapp:"WhatsApp Number",instagram:"Instagram Handle",workingHours:"Working Hours",saveSettings:"Save Settings",settingsUpdated:"Contact settings updated successfully"}}},rS={title:"Contact Us",subtitle:"Get in touch with our team",getInTouch:"Get in Touch",directions:"Get Directions",yourLocation:"Your Location",info:{address:"Al Mouj Street, Muscat, Oman",phone:"+968 9190 0005",phone2:"+968 7272 6999",whatsapp:"+968 7272 6999",instagram:"@spirithubcafe",email:"info@spirithubcafe.com",hours:"Mon-Sun: 7AM-12AM",addressLabel:"Address",phoneLabel:"Phone",emailLabel:"Email",hoursLabel:"Hours",callNow:"Call Now",sendWhatsApp:"Send WhatsApp",sendEmail:"Send Email",followInstagram:"Follow Instagram"},map:{title:"Our Location",description:"Visit us at our cafe location",enableLocation:"Enable Location",getDirections:"Get Directions",openMap:"Open in Map",yourLocationPlaceholder:"Enter your location or address",locationError:"Unable to get your location. Please enter it manually."},modal:{selectPhone:"Choose a phone number to call",mainLine:"Main Line",secondLine:"Second Line"},form:{name:"Name",email:"Email",subject:"Subject",message:"Message",send:"Send Message",description:"We'll get back to you as soon as possible.",namePlaceholder:"Your name",emailPlaceholder:"your@email.com",subjectPlaceholder:"Subject",messagePlaceholder:"Your message..."}},iS={title:"About Us",subtitle:"Discover Our Story",story:"Founded with a passion for exceptional coffee, SPIRITHUB ROASTERY has been crafting premium coffee experiences since 2020. We source the finest beans from around the world and roast them to perfection.",mission:"Our mission is to bring you the perfect cup of coffee while supporting sustainable farming practices and building strong communities.",values:{qualityTitle:"Quality",quality:"We never compromise on the quality of our beans and brewing methods.",sustainabilityTitle:"Sustainability",sustainability:"We work directly with farmers to ensure sustainable and ethical practices.",communityTitle:"Community",community:"Building connections one cup at a time in our local and global communities."}},nS={description:"Premium coffee roasted with passion and expertise.",quickLinks:"Quick Links",followUs:"Follow Us",copyright:" 2025 SPIRITHUB ROASTERY. All rights reserved."},lS={USD:"USD",SAR:"SAR",OMR:"OMR",usd:"US Dollar",sar:"Saudi Riyal",omr:"Omani Rial",symbol:{USD:"$",SAR:".",OMR:"."}},oS={loading:"Loading...",generalError:"Something went wrong",retry:"Retry",save:"Save",cancel:"Cancel",confirm:"Confirm",success:"Success",failed:"Failed",yes:"Yes",no:"No",toggleTheme:"Toggle theme",themeLight:"Light",themeDark:"Dark",themeSystem:"System",toggleLanguage:"Toggle language",pleaseLogin:"Please login",brandName:"SPIRITHUB ROASTERY",checkForUpdates:"Check for updates",installUpdate:"Install update",updateInstalled:"Update installed! Refreshing...",checkingForUpdates:"Checking for updates...",noUpdatesAvailable:"No updates available",serviceWorkerNotSupported:"Service Worker not supported",updateCheckFailed:"Failed to check for updates",error:{load:"Failed to load data",save:"Failed to save data",update:"Failed to update data"}},cS={title:"SEO Management",description:"Automatically update and manage SEO data for products, pages, and categories",generating:"Generating SEO...",generateAll:"Update SEO for All Items",generateProducts:"Update Products SEO",generateCategories:"Update Categories SEO",generatePages:"Update Pages SEO",preview:"Preview",featuresTitle:"Automatic SEO Update Features",productsTitle:"For Products:",optimizedTitle:"Optimized title with product name",autoDescription:"Automatic description from product content",keywords:"Keywords from product properties",socialLinks:"Optimized sharing links",othersTitle:"For Categories & Pages:",optimizedTitles:"Search-optimized titles",autoDescriptions:"Automatic descriptions from content",socialCards:"Open Graph & Twitter Cards",canonicalUrls:"Proper canonical URLs",resultsTitle:"Last Update Results",success:"Successfully Updated",failed:"Failed to Update",products:"Products:",categories:"Categories:",pages:"Pages:",previewTitle:"SEO Preview",metaTitle:"Meta Title",metaDescription:"Meta Description",metaKeywords:"Keywords",slug:"Slug",ogTitle:"Open Graph Title",twitterTitle:"Twitter Title",confirmAll:"Are you sure you want to update SEO for all products, pages, and categories? This may take some time.",confirmProducts:"Do you want to update SEO for all products?",confirmCategories:"Do you want to update SEO for all categories?",confirmPages:"Do you want to update SEO for all pages?",singleSuccess:"SEO data updated successfully",singleError:"Failed to update SEO data",successProducts:"Successfully updated {{count}} products",failedProducts:"Failed to update {{count}} products",errorProducts:"Error updating products SEO",successCategories:"Successfully updated {{count}} categories",failedCategories:"Failed to update {{count}} categories",errorCategories:"Error updating categories SEO",successPages:"Successfully updated {{count}} pages",failedPages:"Failed to update {{count}} pages",errorPages:"Error updating pages SEO",successAll:"Successfully updated {{count}} items",failedAll:"Failed to update {{count}} items",generatingAll:"Generating SEO for all items...",errorGeneral:"General error occurred",errorPreview:"Error generating preview"},dS={settings:{title:"Aramex Service Settings",description:"Configure Aramex shipping service for order fulfillment"},tabs:{account:"Account Info",sender:"Sender Info",pickup:"Pickup Settings"},fields:{environment:"Environment",countryCode:"Country Code",accountNumber:"Account Number",accountPin:"Account PIN",username:"Username",password:"Password",accountEntity:"Account Entity",companyName:"Company Name",contactPerson:"Contact Person",address:"Address",city:"City",phoneNumber:"Phone Number",email:"Email",readyTime:"Ready Time",lastPickupTime:"Last Pickup Time",closingTime:"Closing Time",selectEnvironment:"Select environment"},placeholders:{accountNumber:"Aramex account number",accountPin:"Aramex account PIN",username:"API username",password:"API password",accountEntity:"Aramex account entity",companyName:"Sender company name",contactPerson:"Contact person name",address:"Complete sender address",city:"Sender city",phoneNumber:"Phone number",email:"Email address"},options:{test:"Test",production:"Production"},buttons:{saveSettings:"Save Settings",testConnection:"Test Connection"},messages:{settingsSaved:"Aramex settings saved successfully",connectionSuccessful:"Aramex connection successful",connectionSuccess:"Connection successful! Sample rate: {{rate}} {{currency}}",shipmentCreated:"Aramex shipment created: {{awb}}",pickupScheduled:"Pickup scheduled successfully"},errors:{loadingSettings:"Error loading Aramex settings",savingSettings:"Error saving Aramex settings",enableFirst:"Please enable Aramex service first",connectionError:"Error connecting to Aramex",unexpectedError:"Unexpected error",testingConnection:"Error testing connection",gettingLabel:"Error getting label",downloadingLabel:"Error downloading label",viewingLabel:"Error viewing label",serviceNotAvailable:"Aramex service is not available"}},uS={navigation:KN,homepage:XN,shop:ZN,product:JN,auth:eS,cart:tS,checkout:aS,dashboard:sS,contact:rS,about:iS,footer:nS,currency:lS,common:oS,seo:cS,aramex:dS},mS={home:"",shop:"",about:" ",contact:" ",brandName:"SPIRITHUB ROASTERY",login:" ",register:" ",dashboard:" ",logout:" ",settings:{delete:"",footerSettings:" ",footerTabs:{general:"",contact:"",social:"  ",hours:" "},footerForm:{companyNameEn:"  ()",companyNameAr:"  ()",descriptionEn:" ()",descriptionAr:" ()",addressEn:" ()",addressAr:" ()",mainPhone:" ",secondPhone:" ",email:" ",whatsapp:" ",instagram:" ",facebook:" ",twitter:" ",workingHoursEn:"  ()",workingHoursAr:"  ()",saveChanges:" ",saving:" ..."}}},hS={currency:"",language:""},fS={hero:{badge:"  ",title:"   SPIRITHUB ROASTERY",subtitle:"   ",description:"                 .",shopNow:" ",learnMore:" ",aboutUs:" "},features:{title:" ",subtitle:"     ",quality:{title:" ",description:"       "},freshness:{title:" ",description:"     "},expertise:{title:"  ",description:"       "}},featured:{title:" ",subtitle:"     ",noProducts:"       ",viewAll:"  "},latestRelease:{title:" ",subtitle:"    ",noProducts:"       ",viewShop:" "},ourCoffees:{title:"",subtitle:"",comingSoon:"",description:"    . !"},categories:{title:" ",subtitle:"   ",noCategories:"      "},coffeeCapsules:{title:"  SpiritHub",subtitle:"",comingSoon:"",description:"    . !"},coldBrew:{title:"  ",subtitle:"",comingSoon:"",description:"    . !"}},gS={title:" ",subtitle:"   ",comingSoon:"",description:"     . !",searchPlaceholder:"  ...",outOfStock:" ",noProductsFound:"    ",adjustFilters:"     ",category:{all:"",espresso:"",filter:" ",decaf:" ",blends:"","single-origin":" "},categories:{all:" ",coffeeBeans:" ",equipment:"",accessories:""},sortBy:{label:" ",name:"",priceLow:":   ",priceHigh:":   ",rating:""},addToCart:" ",quantity:"",total:"",quickView:" ",rating:"",reviews:"",noProducts:"    ",noProductsDescription:"     "},pS={coffeeInformation:" ",options:"",chooseSize:" ",affectsPrice:"  ",selectOption:"...",specifications:"",additionalSpecifications:" ",noSpecifications:"   ",backToShop:"  ",productNotFound:"  ",featured:"",bestseller:" ",newArrival:" ",description:"",reviews:"",review:"",addedToCart:"    ",errorAddingToCart:"    ",loading:" ...",errorLoading:"    ",notFound:"  ",coffeeProperties:" ",required:"",pleaseSelectRequired:"   ",selectionSummary:" ",price:"",youSave:":"},xS={login:{title:"   ",subtitle:" !   ",description:" !   ",email:"  ",password:" ",emailPlaceholder:"  ",passwordPlaceholder:"  ",rememberMe:"",forgotPassword:"  ",loginButton:" ",noAccount:"  ",signUp:" ",invalidCredentials:"      ",demoUsers:" ",demoAccounts:" ",selectDemo:"    ",adminDemo:" ",userDemo:" ",demoInfo:{title:" ",description:"     :",password:" ",passwordValue:"demo123"}},register:{title:" ",subtitle:"    ",description:"    ",name:" ",email:"  ",phone:" ",password:" ",confirmPassword:"  ",namePlaceholder:"  ",emailPlaceholder:"  ",phonePlaceholder:"  ",passwordPlaceholder:"  ",confirmPasswordPlaceholder:"  ",registerButton:" ",haveAccount:"  ",hasAccount:"  ",signIn:" ",passwordMismatch:"   ",passwordTooShort:"     6   ",failed:"   .    .",terms:"    ",termsLink:" ",and:"",privacyLink:" "}},vS={title:" ",empty:"  ",emptyDescription:"   ",shopNow:" ",items:"",item:"",quantity:"",total:"",subtotal:" ",shipping:"",tax:"",checkout:" ",continueShopping:" "},yS={title:" ",emptyCart:"  ",personalInfo:" ",shippingAddress:" ",paymentMethod:" ",orderNotes:" ",orderSummary:" ",firstName:" ",lastName:" ",email:" ",phone:" ",address:"",city:"",state:"/",zipCode:" ",country:"",creditCard:" ",cashOnDelivery:"  ",cardNumber:" ",expiryDate:" ",cvv:" ",orderNotesPlaceholder:"     ",placeOrder:" ",backToShop:" ",orderSuccess:"  !",orderSuccessMessage:" !    .",continueShoppingButton:" ",backToHome:" ",fields:{country:"",state:"/",city:""},placeholders:{selectCountry:" ",selectState:" /",selectCity:" "},info:{aramexDelivery:"   ",currency:":"},validation:{invalidDestination:"    ",selectLocation:"   "}},bS={welcome:"",systemAdmin:" ",member:"",regularUser:" ",tabs:{overview:" ",orders:"",profile:" ",settings:"",users:"",products:"",allOrders:" ",analytics:"",contact:" ",about:"   "},overview:{totalOrders:" ",totalSpent:" ",wishlist:"",loyaltyPoints:" ",recentOrders:" ",fromLastMonth:"  ",newProducts:" ",goldLevel:" "},wishlist:{title:" ",emptyTitle:"  ",emptyDescription:"       ",shopNow:" ",addToCart:" ",removeFromWishlist:"  ",viewAll:"  ",addedToWishlist:"  ",removedFromWishlist:"   ",loginRequired:"    "},orders:{title:" ",description:"  ",trackOrder:" ",viewDetails:" ",openTicket:"  ",rateOrder:" ",orderStatus:" ",completed:"",inTransit:" ",processing:" ",delivered:" ",shipped:" "},profile:{personalInfo:" ",statistics:"",name:"",email:" ",location:"",loyaltyLevel:" ",gold:"",pointsToNext:"  ",totalOrders:" ",totalSpent:" ",memberSince:" ",january2024:" 2024"},settings:{title:"",description:"   ",emailNotifications:"  ",emailNotificationsDesc:"    ",smsNotifications:"  ",smsNotificationsDesc:"     ",defaultAddress:"  ",defaultAddressDesc:"  ",enable:"",disable:"",edit:""},admin:{sidebar:{dashboard:" ",users:" ",heroSlider:"  ",products:"",orders:"",analytics:""},heroSlider:{settings:"   ",settingsDescription:"      ",general:"",typography:" ",animation:"",buttons:"",layout:"",effects:"",selectedSlide:" ",titleTypography:" ",subtitleTypography:"  ",descriptionTypography:" ",typographySettings:" ",typographyDescription:"    ",animationSettings:" ",animationDescription:"   ",buttonSettings:" ",buttonDescription:"   ",layoutSettings:" ",layoutDescription:"   ",effectsSettings:" ",effectsDescription:"   ",titleAnimation:" ",subtitleAnimation:"  ",descriptionAnimation:" ",buttonsAnimation:" ",transition:"",transitionEffect:"",transitionDuration:"",responsiveSettings:" ",parallaxEffect:" "},userManagement:" ",userManagementDesc:"   ",productManagement:" ",productManagementDesc:"  ",seoManagement:"   ",seoManagementDesc:"     ",allOrders:" ",allOrdersDesc:"   ",analytics:"",footerManagement:"  ",footerManagementDesc:"      ",totalSales:" ",totalOrders:" ",customers:" ",activeProducts:" ",newCustomers:" ",newProducts:" ",salesChart:" ",salesChartDesc:"    ",chartComingSoon:"   ",topProducts:"  ",sales:"",revenue:"",totalRevenue:" ",productList:" ",addProduct:"  ",adminRole:"",userRole:"",customer:"",edit:"",view:"",delete:"",footerSettings:" ",footerTabs:{general:"",contact:"",social:"  ",hours:" ",video:" "},footerForm:{companyNameEn:"  ()",companyNameAr:"  ()",descriptionEn:" ()",descriptionAr:" ()",addressEn:" ()",addressAr:" ()",mainPhone:" ",secondPhone:" ",email:" ",whatsapp:" ",instagram:" ",facebook:" ",twitter:" ",workingHoursEn:"  ()",workingHoursAr:"  ()",backgroundVideoBlur:"    (%)",videoOverlayOpacity:"    (%)",enableVideoOverlay:"  ",enableVideoBlur:"  ",enableGradientOverlay:"  ",gradientOverlayOpacity:"   (%)",videoSettings:"  ",videoBlurDescription:"         ",videoOverlayDescription:"          ",gradientOverlayDescription:"        ",enableOverlayDescription:"     ",enableBlurDescription:"     ",enableGradientDescription:"     ",saveChanges:" ",saving:" ..."},about:{title:"   ",addSection:" ",editSection:" ",confirmDelete:"      ",pageHeader:" ",editHeader:" ",createHeader:"  ",sectionKey:" ",titleEn:" ()",titleAr:" ()",contentEn:" ()",contentAr:" ()",layout:"",layoutTextLeft:"   ",layoutTextRight:"   ",layoutFullWidth:"  ( )",sectionImage:" ",currentImage:" ",uploadImage:" ",removeImage:" ",enterImageUrl:"   ",active:"",inactive:" ",content:"",settings:"",subtitleEn:"  ()",subtitleAr:"  ()",englishContent:" ",arabicContent:" ",uploading:" ...",selectImageFile:"  ",enterPlaceholder:{titleEn:"  ",titleAr:"  ",contentEn:"  ",contentAr:"  ",sectionKey:":   ",imageUrl:"https://example.com/image.jpg",subtitleEn:"   ",subtitleAr:"   "}},products:{invalidImageType:"    ",imageTooLarge:"       10 ",imageUploaded:"   ",imageUploadError:"   ",loginRequired:"    ",quotaExceeded:"   ",corsError:"   CORS",noPermission:"    "},contact:{title:"  ",messages:"",settings:" ",reply:"",markAsRead:" ",markAsUnread:"  ",deleteMessage:" ",confirmDeleteMessage:"      ",noMessages:"  ",messageDetails:" ",from:"",subject:"",receivedAt:" ",status:"",read:"",unread:" ",contactInfo:" ",updateInfo:"  ",companyName:" ",address:"",phone:" ",secondaryPhone:" ",email:"  ",whatsapp:" ",instagram:" ",workingHours:" ",saveSettings:" ",settingsUpdated:"    "}}},jS={title:"  ",subtitle:"  ",story:"           .             .",mission:"               .",values:{qualityTitle:"",quality:"    ",sustainabilityTitle:"",sustainability:"   ",communityTitle:"",community:"      "}},_S={title:" ",subtitle:"  ",getInTouch:" ",directions:"  ",yourLocation:"",info:{address:"   ",phone:"+968 9190 0005",phone2:"+968 7272 6999",whatsapp:"+968 7272 6999",instagram:"@spirithubcafe",email:"info@spirithubcafe.com",hours:"  : 7  - 12 ",addressLabel:"",phoneLabel:"",emailLabel:" ",hoursLabel:" ",callNow:" ",sendWhatsApp:" ",sendEmail:" ",followInstagram:" "},map:{title:"",description:"    ",enableLocation:" ",getDirections:"  ",openMap:"  ",yourLocationPlaceholder:"   ",locationError:"   .   ."},modal:{selectPhone:"   ",mainLine:" ",secondLine:" "},form:{name:"",email:" ",subject:"",message:"",send:" ",description:"     .",namePlaceholder:"",emailPlaceholder:"your@email.com",subjectPlaceholder:"",messagePlaceholder:"..."}},wS={description:"    .",quickLinks:" ",followUs:"",copyright:" 2025  .   ."},NS={USD:" ",SAR:" ",OMR:" ",usd:" ",sar:" ",omr:" ",symbol:{USD:"$",SAR:".",OMR:"."}},SS={loading:" ...",generalError:"  ",retry:" ",save:"",cancel:"",confirm:"",success:"",failed:"",yes:"",no:"",toggleTheme:" ",themeLight:"",themeDark:"",themeSystem:"",toggleLanguage:" ",pleaseLogin:"  ",brandName:"SPIRITHUB ROASTERY",checkForUpdates:"  ",installUpdate:" ",updateInstalled:"  !  ...",checkingForUpdates:"   ...",noUpdatesAvailable:"   ",serviceWorkerNotSupported:"Service Worker  ",updateCheckFailed:"   ",error:{load:"   ",save:"   ",update:"   "}},CS={title:"    (SEO)",description:"        ",generating:"  ...",generateAll:"   ",generateProducts:"  ",generateCategories:"  ",generatePages:"  ",preview:"",featuresTitle:"   ",productsTitle:":",optimizedTitle:"    ",autoDescription:"    ",keywords:"   ",socialLinks:"  ",othersTitle:" :",optimizedTitles:"  ",autoDescriptions:"   ",socialCards:"Open Graph  Twitter Cards",canonicalUrls:"  ",resultsTitle:"   ",success:"  ",failed:"  ",products:":",categories:":",pages:":",previewTitle:" ",metaTitle:"  (Meta Title)",metaDescription:" (Meta Description)",metaKeywords:" ",slug:"  (Slug)",ogTitle:"Open Graph Title",twitterTitle:"Twitter Title",confirmAll:"              .",confirmProducts:"     ",confirmCategories:"     ",confirmPages:"     ",singleSuccess:"    ",singleError:"    ",successProducts:"  {{count}}  ",failedProducts:"   {{count}} ",errorProducts:"    ",successCategories:"  {{count}}  ",failedCategories:"   {{count}} ",errorCategories:"    ",successPages:"  {{count}}  ",failedPages:"   {{count}} ",errorPages:"    ",successAll:"  {{count}}  ",failedAll:"   {{count}} ",generatingAll:"    ...",errorGeneral:"  ",errorPreview:"   "},kS={settings:{title:"  ",description:"     "},tabs:{account:" ",sender:" ",pickup:" "},fields:{environment:"",countryCode:" ",accountNumber:" ",accountPin:"   ",username:" ",password:" ",accountEntity:" ",companyName:" ",contactPerson:" ",address:"",city:"",phoneNumber:" ",email:" ",readyTime:" ",lastPickupTime:"  ",closingTime:" ",selectEnvironment:" "},placeholders:{accountNumber:"  ",accountPin:"    ",username:"  API",password:"  API",accountEntity:"  ",companyName:"  ",contactPerson:"  ",address:"  ",city:" ",phoneNumber:" ",email:"  "},options:{test:"",production:""},buttons:{saveSettings:" ",testConnection:" "},messages:{settingsSaved:"    ",connectionSuccessful:"  ",connectionSuccess:" !  : {{rate}} {{currency}}",shipmentCreated:"   : {{awb}}",pickupScheduled:"   "},errors:{loadingSettings:"    ",savingSettings:"    ",enableFirst:"    ",connectionError:"   ",unexpectedError:"  ",testingConnection:"   ",gettingLabel:"    ",downloadingLabel:"   ",viewingLabel:"   ",serviceNotAvailable:"   "}},AS={navigation:mS,general:hS,homepage:fS,shop:gS,product:pS,auth:xS,cart:vS,checkout:yS,dashboard:bS,about:jS,contact:_S,footer:wS,currency:NS,common:SS,seo:CS,aramex:kS},ES={en:{translation:uS},ar:{translation:AS}};yN.use(bN).use(jN).init({resources:ES,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});let TS={data:""},DS=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||TS,OS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,RS=/\/\*[^]*?\*\/|  +/g,iv=/\n+/g,Jr=(i,s)=>{let n="",o="",u="";for(let c in i){let m=i[c];c[0]=="@"?c[1]=="i"?n=c+" "+m+";":o+=c[1]=="f"?Jr(m,c):c+"{"+Jr(m,c[1]=="k"?"":s)+"}":typeof m=="object"?o+=Jr(m,s?s.replace(/([^,])+/g,g=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,g):g?g+" "+x:x)):c):m!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=Jr.p?Jr.p(c,m):c+":"+m+";")}return n+(s&&u?s+"{"+u+"}":u)+o},gr={},yy=i=>{if(typeof i=="object"){let s="";for(let n in i)s+=n+yy(i[n]);return s}return i},MS=(i,s,n,o,u)=>{let c=yy(i),m=gr[c]||(gr[c]=(x=>{let j=0,y=11;for(;j<x.length;)y=101*y+x.charCodeAt(j++)>>>0;return"go"+y})(c));if(!gr[m]){let x=c!==i?i:(j=>{let y,w,A=[{}];for(;y=OS.exec(j.replace(RS,""));)y[4]?A.shift():y[3]?(w=y[3].replace(iv," ").trim(),A.unshift(A[0][w]=A[0][w]||{})):A[0][y[1]]=y[2].replace(iv," ").trim();return A[0]})(i);gr[m]=Jr(u?{["@keyframes "+m]:x}:x,n?"":"."+m)}let g=n&&gr.g?gr.g:null;return n&&(gr.g=gr[m]),((x,j,y,w)=>{w?j.data=j.data.replace(w,x):j.data.indexOf(x)===-1&&(j.data=y?x+j.data:j.data+x)})(gr[m],s,o,g),m},IS=(i,s,n)=>i.reduce((o,u,c)=>{let m=s[c];if(m&&m.call){let g=m(n),x=g&&g.props&&g.props.className||/^go/.test(g)&&g;m=x?"."+x:g&&typeof g=="object"?g.props?"":Jr(g,""):g===!1?"":g}return o+u+(m??"")},"");function ud(i){let s=this||{},n=i.call?i(s.p):i;return MS(n.unshift?n.raw?IS(n,[].slice.call(arguments,1),s.p):n.reduce((o,u)=>Object.assign(o,u&&u.call?u(s.p):u),{}):n,DS(s.target),s.g,s.o,s.k)}let by,nh,lh;ud.bind({g:1});let wr=ud.bind({k:1});function PS(i,s,n,o){Jr.p=s,by=i,nh=n,lh=o}function oi(i,s){let n=this||{};return function(){let o=arguments;function u(c,m){let g=Object.assign({},c),x=g.className||u.className;n.p=Object.assign({theme:nh&&nh()},g),n.o=/ *go\d+/.test(x),g.className=ud.apply(n,o)+(x?" "+x:"");let j=i;return i[0]&&(j=g.as||i,delete g.as),lh&&j[0]&&lh(g),by(j,g)}return u}}var zS=i=>typeof i=="function",Kc=(i,s)=>zS(i)?i(s):i,LS=(()=>{let i=0;return()=>(++i).toString()})(),jy=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");i=!s||s.matches}return i}})(),US=20,Uh="default",_y=(i,s)=>{let{toastLimit:n}=i.settings;switch(s.type){case 0:return{...i,toasts:[s.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(m=>m.id===s.toast.id?{...m,...s.toast}:m)};case 2:let{toast:o}=s;return _y(i,{type:i.toasts.find(m=>m.id===o.id)?1:0,toast:o});case 3:let{toastId:u}=s;return{...i,toasts:i.toasts.map(m=>m.id===u||u===void 0?{...m,dismissed:!0,visible:!1}:m)};case 4:return s.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(m=>m.id!==s.toastId)};case 5:return{...i,pausedAt:s.time};case 6:let c=s.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+c}))}}},qc=[],wy={toasts:[],pausedAt:void 0,settings:{toastLimit:US}},Fs={},Ny=(i,s=Uh)=>{Fs[s]=_y(Fs[s]||wy,i),qc.forEach(([n,o])=>{n===s&&o(Fs[s])})},Sy=i=>Object.keys(Fs).forEach(s=>Ny(i,s)),BS=i=>Object.keys(Fs).find(s=>Fs[s].toasts.some(n=>n.id===i)),md=(i=Uh)=>s=>{Ny(s,i)},FS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HS=(i={},s=Uh)=>{let[n,o]=_.useState(Fs[s]||wy),u=_.useRef(Fs[s]);_.useEffect(()=>(u.current!==Fs[s]&&o(Fs[s]),qc.push([s,o]),()=>{let m=qc.findIndex(([g])=>g===s);m>-1&&qc.splice(m,1)}),[s]);let c=n.toasts.map(m=>{var g,x,j;return{...i,...i[m.type],...m,removeDelay:m.removeDelay||((g=i[m.type])==null?void 0:g.removeDelay)||i?.removeDelay,duration:m.duration||((x=i[m.type])==null?void 0:x.duration)||i?.duration||FS[m.type],style:{...i.style,...(j=i[m.type])==null?void 0:j.style,...m.style}}});return{...n,toasts:c}},qS=(i,s="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||LS()}),xo=i=>(s,n)=>{let o=qS(s,i,n);return md(o.toasterId||BS(o.id))({type:2,toast:o}),o.id},We=(i,s)=>xo("blank")(i,s);We.error=xo("error");We.success=xo("success");We.loading=xo("loading");We.custom=xo("custom");We.dismiss=(i,s)=>{let n={type:3,toastId:i};s?md(s)(n):Sy(n)};We.dismissAll=i=>We.dismiss(void 0,i);We.remove=(i,s)=>{let n={type:4,toastId:i};s?md(s)(n):Sy(n)};We.removeAll=i=>We.remove(void 0,i);We.promise=(i,s,n)=>{let o=We.loading(s.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(u=>{let c=s.success?Kc(s.success,u):void 0;return c?We.success(c,{id:o,...n,...n?.success}):We.dismiss(o),u}).catch(u=>{let c=s.error?Kc(s.error,u):void 0;c?We.error(c,{id:o,...n,...n?.error}):We.dismiss(o)}),i};var $S=1e3,VS=(i,s="default")=>{let{toasts:n,pausedAt:o}=HS(i,s),u=_.useRef(new Map).current,c=_.useCallback((w,A=$S)=>{if(u.has(w))return;let h=setTimeout(()=>{u.delete(w),m({type:4,toastId:w})},A);u.set(w,h)},[]);_.useEffect(()=>{if(o)return;let w=Date.now(),A=n.map(h=>{if(h.duration===1/0)return;let p=(h.duration||0)+h.pauseDuration-(w-h.createdAt);if(p<0){h.visible&&We.dismiss(h.id);return}return setTimeout(()=>We.dismiss(h.id,s),p)});return()=>{A.forEach(h=>h&&clearTimeout(h))}},[n,o,s]);let m=_.useCallback(md(s),[s]),g=_.useCallback(()=>{m({type:5,time:Date.now()})},[m]),x=_.useCallback((w,A)=>{m({type:1,toast:{id:w,height:A}})},[m]),j=_.useCallback(()=>{o&&m({type:6,time:Date.now()})},[o,m]),y=_.useCallback((w,A)=>{let{reverseOrder:h=!1,gutter:p=8,defaultPosition:E}=A||{},b=n.filter(C=>(C.position||E)===(w.position||E)&&C.height),v=b.findIndex(C=>C.id===w.id),U=b.filter((C,R)=>R<v&&C.visible).length;return b.filter(C=>C.visible).slice(...h?[U+1]:[0,U]).reduce((C,R)=>C+(R.height||0)+p,0)},[n]);return _.useEffect(()=>{n.forEach(w=>{if(w.dismissed)c(w.id,w.removeDelay);else{let A=u.get(w.id);A&&(clearTimeout(A),u.delete(w.id))}})},[n,c]),{toasts:n,handlers:{updateHeight:x,startPause:g,endPause:j,calculateOffset:y}}},GS=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YS=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WS=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QS=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,KS=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XS=oi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${KS} 1s linear infinite;
`,ZS=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JS=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,e2=oi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,t2=oi("div")`
  position: absolute;
`,a2=oi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,s2=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r2=oi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${s2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i2=({toast:i})=>{let{icon:s,type:n,iconTheme:o}=i;return s!==void 0?typeof s=="string"?_.createElement(r2,null,s):s:n==="blank"?null:_.createElement(a2,null,_.createElement(XS,{...o}),n!=="loading"&&_.createElement(t2,null,n==="error"?_.createElement(QS,{...o}):_.createElement(e2,{...o})))},n2=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,l2=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,o2="0%{opacity:0;} 100%{opacity:1;}",c2="0%{opacity:1;} 100%{opacity:0;}",d2=oi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,u2=oi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,m2=(i,s)=>{let n=i.includes("top")?1:-1,[o,u]=jy()?[o2,c2]:[n2(n),l2(n)];return{animation:s?`${wr(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},h2=_.memo(({toast:i,position:s,style:n,children:o})=>{let u=i.height?m2(i.position||s||"top-center",i.visible):{opacity:0},c=_.createElement(i2,{toast:i}),m=_.createElement(u2,{...i.ariaProps},Kc(i.message,i));return _.createElement(d2,{className:i.className,style:{...u,...n,...i.style}},typeof o=="function"?o({icon:c,message:m}):_.createElement(_.Fragment,null,c,m))});PS(_.createElement);var f2=({id:i,className:s,style:n,onHeightUpdate:o,children:u})=>{let c=_.useCallback(m=>{if(m){let g=()=>{let x=m.getBoundingClientRect().height;o(i,x)};g(),new MutationObserver(g).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[i,o]);return _.createElement("div",{ref:c,className:s,style:n},u)},g2=(i,s)=>{let n=i.includes("top"),o=n?{top:0}:{bottom:0},u=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(n?1:-1)}px)`,...o,...u}},p2=ud`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ic=16,x2=({reverseOrder:i,position:s="top-center",toastOptions:n,gutter:o,children:u,toasterId:c,containerStyle:m,containerClassName:g})=>{let{toasts:x,handlers:j}=VS(n,c);return _.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:Ic,left:Ic,right:Ic,bottom:Ic,pointerEvents:"none",...m},className:g,onMouseEnter:j.startPause,onMouseLeave:j.endPause},x.map(y=>{let w=y.position||s,A=j.calculateOffset(y,{reverseOrder:i,gutter:o,defaultPosition:s}),h=g2(w,A);return _.createElement(f2,{id:y.id,key:y.id,onHeightUpdate:j.updateHeight,className:y.visible?p2:"",style:h},y.type==="custom"?Kc(y.message,y):u?u(y):_.createElement(h2,{toast:y,position:w}))}))},te=We;const v2={theme:"system",setTheme:()=>null,resolvedTheme:"light"},Cy=_.createContext(v2);function y2({children:i,defaultTheme:s="system",storageKey:n="vite-ui-theme",...o}){const[u,c]=_.useState(()=>localStorage.getItem(n)||s),[m,g]=_.useState(()=>u==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":u);_.useEffect(()=>{const j=window.document.documentElement;if(j.classList.remove("light","dark"),u==="system"){const y=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";j.classList.add(y),g(y);return}j.classList.add(u),g(u)},[u]),_.useEffect(()=>{if(u==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)"),y=()=>{const w=window.document.documentElement;w.classList.remove("light","dark");const A=j.matches?"dark":"light";w.classList.add(A),g(A)};return j.addEventListener("change",y),()=>j.removeEventListener("change",y)}},[u]);const x={theme:u,resolvedTheme:m,setTheme:j=>{localStorage.setItem(n,j),c(j)}};return e.jsx(Cy.Provider,{...o,value:x,children:i})}const ci=()=>{const i=_.useContext(Cy);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},oh={USD:"$",SAR:".",OMR:"."},ch={USD:"$",SAR:"SAR",OMR:"OMR"},Nt={USD:2.6,SAR:9.75,OMR:1},xr=(i,s,n=!0)=>{const o=n?oh[s]:ch[s];return`${new Intl.NumberFormat("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).format(i)} ${o}`},Pc=(i,s)=>i*Nt[s],b2={currency:"OMR",setCurrency:()=>null,formatPrice:()=>"",getSymbol:()=>""},ky=_.createContext(b2),Fa=()=>{const i=_.useContext(ky);if(i===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return i};function j2({children:i,defaultCurrency:s="OMR",storageKey:n="spirithub-currency",...o}){const[u,c]=_.useState(()=>localStorage.getItem(n)||s),{i18n:m}=Me();_.useEffect(()=>{localStorage.setItem(n,u)},[u,n]);const j={currency:u,setCurrency:y=>{c(y)},formatPrice:y=>{const A=m.language==="ar"?oh[u]:ch[u],h=new Intl.NumberFormat("en-US",{minimumFractionDigits:u==="OMR"?3:2,maximumFractionDigits:u==="OMR"?3:2}).format(y);return u==="SAR"||u==="OMR"?`${h} ${A}`:`${A}${h}`},getSymbol:()=>m.language==="ar"?oh[u]:ch[u]};return e.jsx(ky.Provider,{...o,value:j,children:i})}const _2="modulepreload",w2=function(i){return"/"+i},nv={},dh=function(s,n,o){let u=Promise.resolve();if(n&&n.length>0){let x=function(j){return Promise.all(j.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");u=x(n.map(j=>{if(j=w2(j),j in nv)return;nv[j]=!0;const y=j.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${w}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":_2,y||(A.as="script"),A.crossOrigin="",A.href=j,g&&A.setAttribute("nonce",g),document.head.appendChild(A),y)return new Promise((h,p)=>{A.addEventListener("load",h),A.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${j}`)))})}))}function c(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return u.then(m=>{for(const g of m||[])g.status==="rejected"&&c(g.reason);return s().catch(c)})},Ay="@firebase/installations",Bh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=1e4,Ty=`w:${Bh}`,Dy="FIS_v2",N2="https://firebaseinstallations.googleapis.com/v1",S2=60*60*1e3,C2="installations",k2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qi=new fy(C2,k2,A2);function Oy(i){return i instanceof gy&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry({projectId:i}){return`${N2}/projects/${i}/installations`}function My(i){return{token:i.token,requestStatus:2,expiresIn:T2(i.expiresIn),creationTime:Date.now()}}async function Iy(i,s){const o=(await s.json()).error;return qi.create("request-failed",{requestName:i,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function Py({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function E2(i,{refreshToken:s}){const n=Py(i);return n.append("Authorization",D2(s)),n}async function zy(i){const s=await i();return s.status>=500&&s.status<600?i():s}function T2(i){return Number(i.replace("s","000"))}function D2(i){return`${Dy} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2({appConfig:i,heartbeatServiceProvider:s},{fid:n}){const o=Ry(i),u=Py(i),c=s.getImmediate({optional:!0});if(c){const j=await c.getHeartbeatsHeader();j&&u.append("x-firebase-client",j)}const m={fid:n,authVersion:Dy,appId:i.appId,sdkVersion:Ty},g={method:"POST",headers:u,body:JSON.stringify(m)},x=await zy(()=>fetch(o,g));if(x.ok){const j=await x.json();return{fid:j.fid||n,registrationStatus:2,refreshToken:j.refreshToken,authToken:My(j.authToken)}}else throw await Iy("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(i){return new Promise(s=>{setTimeout(s,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^[cdef][\w-]{21}$/,uh="";function I2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=P2(i);return M2.test(n)?n:uh}catch{return uh}}function P2(i){return R2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;function By(i,s){const n=hd(i);Fy(n,s),z2(n,s)}function Fy(i,s){const n=Uy.get(i);if(n)for(const o of n)o(s)}function z2(i,s){const n=L2();n&&n.postMessage({key:i,fid:s}),U2()}let Li=null;function L2(){return!Li&&"BroadcastChannel"in self&&(Li=new BroadcastChannel("[Firebase] FID Change"),Li.onmessage=i=>{Fy(i.data.key,i.data.fid)}),Li}function U2(){Uy.size===0&&Li&&(Li.close(),Li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-installations-database",F2=1,$i="firebase-installations-store";let Im=null;function Fh(){return Im||(Im=_N(B2,F2,{upgrade:(i,s)=>{switch(s){case 0:i.createObjectStore($i)}}})),Im}async function Xc(i,s){const n=hd(i),u=(await Fh()).transaction($i,"readwrite"),c=u.objectStore($i),m=await c.get(n);return await c.put(s,n),await u.done,(!m||m.fid!==s.fid)&&By(i,s.fid),s}async function Hy(i){const s=hd(i),o=(await Fh()).transaction($i,"readwrite");await o.objectStore($i).delete(s),await o.done}async function fd(i,s){const n=hd(i),u=(await Fh()).transaction($i,"readwrite"),c=u.objectStore($i),m=await c.get(n),g=s(m);return g===void 0?await c.delete(n):await c.put(g,n),await u.done,g&&(!m||m.fid!==g.fid)&&By(i,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(i){let s;const n=await fd(i.appConfig,o=>{const u=H2(o),c=q2(i,u);return s=c.registrationPromise,c.installationEntry});return n.fid===uh?{installationEntry:await s}:{installationEntry:n,registrationPromise:s}}function H2(i){const s=i||{fid:I2(),registrationStatus:0};return qy(s)}function q2(i,s){if(s.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(qi.create("app-offline"));return{installationEntry:s,registrationPromise:u}}const n={fid:s.fid,registrationStatus:1,registrationTime:Date.now()},o=$2(i,n);return{installationEntry:n,registrationPromise:o}}else return s.registrationStatus===1?{installationEntry:s,registrationPromise:V2(i)}:{installationEntry:s}}async function $2(i,s){try{const n=await O2(i,s);return Xc(i.appConfig,n)}catch(n){throw Oy(n)&&n.customData.serverCode===409?await Hy(i.appConfig):await Xc(i.appConfig,{fid:s.fid,registrationStatus:0}),n}}async function V2(i){let s=await lv(i.appConfig);for(;s.registrationStatus===1;)await Ly(100),s=await lv(i.appConfig);if(s.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await Hh(i);return o||n}return s}function lv(i){return fd(i,s=>{if(!s)throw qi.create("installation-not-found");return qy(s)})}function qy(i){return G2(i)?{fid:i.fid,registrationStatus:0}:i}function G2(i){return i.registrationStatus===1&&i.registrationTime+Ey<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2({appConfig:i,heartbeatServiceProvider:s},n){const o=W2(i,n),u=E2(i,n),c=s.getImmediate({optional:!0});if(c){const j=await c.getHeartbeatsHeader();j&&u.append("x-firebase-client",j)}const m={installation:{sdkVersion:Ty,appId:i.appId}},g={method:"POST",headers:u,body:JSON.stringify(m)},x=await zy(()=>fetch(o,g));if(x.ok){const j=await x.json();return My(j)}else throw await Iy("Generate Auth Token",x)}function W2(i,{fid:s}){return`${Ry(i)}/${s}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(i,s=!1){let n;const o=await fd(i.appConfig,c=>{if(!$y(c))throw qi.create("not-registered");const m=c.authToken;if(!s&&X2(m))return c;if(m.requestStatus===1)return n=Q2(i,s),c;{if(!navigator.onLine)throw qi.create("app-offline");const g=J2(c);return n=K2(i,g),g}});return n?await n:o.authToken}async function Q2(i,s){let n=await ov(i.appConfig);for(;n.authToken.requestStatus===1;)await Ly(100),n=await ov(i.appConfig);const o=n.authToken;return o.requestStatus===0?qh(i,s):o}function ov(i){return fd(i,s=>{if(!$y(s))throw qi.create("not-registered");const n=s.authToken;return eC(n)?{...s,authToken:{requestStatus:0}}:s})}async function K2(i,s){try{const n=await Y2(i,s),o={...s,authToken:n};return await Xc(i.appConfig,o),n}catch(n){if(Oy(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Hy(i.appConfig);else{const o={...s,authToken:{requestStatus:0}};await Xc(i.appConfig,o)}throw n}}function $y(i){return i!==void 0&&i.registrationStatus===2}function X2(i){return i.requestStatus===2&&!Z2(i)}function Z2(i){const s=Date.now();return s<i.creationTime||i.creationTime+i.expiresIn<s+S2}function J2(i){const s={requestStatus:1,requestTime:Date.now()};return{...i,authToken:s}}function eC(i){return i.requestStatus===1&&i.requestTime+Ey<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(i){const s=i,{installationEntry:n,registrationPromise:o}=await Hh(s);return o?o.catch(console.error):qh(s).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,s=!1){const n=i;return await sC(n),(await qh(n,s)).token}async function sC(i){const{registrationPromise:s}=await Hh(i);s&&await s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i){if(!i||!i.options)throw Pm("App Configuration");if(!i.name)throw Pm("App Name");const s=["projectId","apiKey","appId"];for(const n of s)if(!i.options[n])throw Pm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Pm(i){return qi.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="installations",iC="installations-internal",nC=i=>{const s=i.getProvider("app").getImmediate(),n=rC(s),o=po(s,"heartbeat");return{app:s,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},lC=i=>{const s=i.getProvider("app").getImmediate(),n=po(s,Vy).getImmediate();return{getId:()=>tC(n),getToken:u=>aC(n,u)}};function oC(){ho(new fo(Vy,nC,"PUBLIC")),ho(new fo(iC,lC,"PRIVATE"))}oC();Fn(Ay,Bh);Fn(Ay,Bh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc="analytics",cC="firebase_id",dC="origin",uC=60*1e3,mC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$h="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new wN("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},es=new fy("analytics","Analytics",hC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i){if(!i.startsWith($h)){const s=es.create("invalid-gtag-resource",{gtagURL:i});return za.warn(s.message),""}return i}function Gy(i){return Promise.all(i.map(s=>s.catch(n=>n)))}function gC(i,s){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,s)),n}function pC(i,s){const n=gC("firebase-js-sdk-policy",{createScriptURL:fC}),o=document.createElement("script"),u=`${$h}?l=${i}&id=${s}`;o.src=n?n?.createScriptURL(u):u,o.async=!0,document.head.appendChild(o)}function xC(i){let s=[];return Array.isArray(window[i])?s=window[i]:window[i]=s,s}async function vC(i,s,n,o,u,c){const m=o[u];try{if(m)await s[m];else{const x=(await Gy(n)).find(j=>j.measurementId===u);x&&await s[x.appId]}}catch(g){za.error(g)}i("config",u,c)}async function yC(i,s,n,o,u){try{let c=[];if(u&&u.send_to){let m=u.send_to;Array.isArray(m)||(m=[m]);const g=await Gy(n);for(const x of m){const j=g.find(w=>w.measurementId===x),y=j&&s[j.appId];if(y)c.push(y);else{c=[];break}}}c.length===0&&(c=Object.values(s)),await Promise.all(c),i("event",o,u||{})}catch(c){za.error(c)}}function bC(i,s,n,o){async function u(c,...m){try{if(c==="event"){const[g,x]=m;await yC(i,s,n,g,x)}else if(c==="config"){const[g,x]=m;await vC(i,s,n,o,g,x)}else if(c==="consent"){const[g,x]=m;i("consent",g,x)}else if(c==="get"){const[g,x,j]=m;i("get",g,x,j)}else if(c==="set"){const[g]=m;i("set",g)}else i(c,...m)}catch(g){za.error(g)}}return u}function jC(i,s,n,o,u){let c=function(...m){window[o].push(arguments)};return window[u]&&typeof window[u]=="function"&&(c=window[u]),window[u]=bC(c,i,s,n),{gtagCore:c,wrappedGtag:window[u]}}function _C(i){const s=window.document.getElementsByTagName("script");for(const n of Object.values(s))if(n.src&&n.src.includes($h)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=30,NC=1e3;class SC{constructor(s={},n=NC){this.throttleMetadata=s,this.intervalMillis=n}getThrottleMetadata(s){return this.throttleMetadata[s]}setThrottleMetadata(s,n){this.throttleMetadata[s]=n}deleteThrottleMetadata(s){delete this.throttleMetadata[s]}}const Yy=new SC;function CC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function kC(i){const{appId:s,apiKey:n}=i,o={method:"GET",headers:CC(n)},u=mC.replace("{app-id}",s),c=await fetch(u,o);if(c.status!==200&&c.status!==304){let m="";try{const g=await c.json();g.error?.message&&(m=g.error.message)}catch{}throw es.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function AC(i,s=Yy,n){const{appId:o,apiKey:u,measurementId:c}=i.options;if(!o)throw es.create("no-app-id");if(!u){if(c)return{measurementId:c,appId:o};throw es.create("no-api-key")}const m=s.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new DC;return setTimeout(async()=>{g.abort()},uC),Wy({appId:o,apiKey:u,measurementId:c},m,g,s)}async function Wy(i,{throttleEndTimeMillis:s,backoffCount:n},o,u=Yy){const{appId:c,measurementId:m}=i;try{await EC(o,s)}catch(g){if(m)return za.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:m};throw g}try{const g=await kC(i);return u.deleteThrottleMetadata(c),g}catch(g){const x=g;if(!TC(x)){if(u.deleteThrottleMetadata(c),m)return za.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${x?.message}]`),{appId:c,measurementId:m};throw g}const j=Number(x?.customData?.httpStatus)===503?Kx(n,u.intervalMillis,wC):Kx(n,u.intervalMillis),y={throttleEndTimeMillis:Date.now()+j,backoffCount:n+1};return u.setThrottleMetadata(c,y),za.debug(`Calling attemptFetch again in ${j} millis`),Wy(i,y,o,u)}}function EC(i,s){return new Promise((n,o)=>{const u=Math.max(s-Date.now(),0),c=setTimeout(n,u);i.addEventListener(()=>{clearTimeout(c),o(es.create("fetch-throttle",{throttleEndTimeMillis:s}))})})}function TC(i){if(!(i instanceof gy)||!i.customData)return!1;const s=Number(i.customData.httpStatus);return s===429||s===500||s===503||s===504}class DC{constructor(){this.listeners=[]}addEventListener(s){this.listeners.push(s)}abort(){this.listeners.forEach(s=>s())}}async function OC(i,s,n,o,u){if(u&&u.global){i("event",n,o);return}else{const c=await s,m={...o,send_to:c};i("event",n,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(){if(SN())try{await CN()}catch(i){return za.warn(es.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return za.warn(es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MC(i,s,n,o,u,c,m){const g=AC(i);g.then(A=>{n[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&za.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>za.error(A)),s.push(g);const x=RC().then(A=>{if(A)return o.getId()}),[j,y]=await Promise.all([g,x]);_C(c)||pC(c,j.measurementId),u("js",new Date);const w=m?.config??{};return w[dC]="firebase",w.update=!0,y!=null&&(w[cC]=y),u("config",j.measurementId,w),j.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(s){this.app=s}_delete(){return delete io[this.app.options.appId],Promise.resolve()}}let io={},cv=[];const dv={};let zm="dataLayer",PC="gtag",uv,Qy,mv=!1;function zC(){const i=[];if(NN()&&i.push("This is a browser extension environment."),AN()||i.push("Cookies are not available."),i.length>0){const s=i.map((o,u)=>`(${u+1}) ${o}`).join(" "),n=es.create("invalid-analytics-context",{errorInfo:s});za.warn(n.message)}}function LC(i,s,n){zC();const o=i.options.appId;if(!o)throw es.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)za.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw es.create("no-api-key");if(io[o]!=null)throw es.create("already-exists",{id:o});if(!mv){xC(zm);const{wrappedGtag:c,gtagCore:m}=jC(io,cv,dv,zm,PC);Qy=c,uv=m,mv=!0}return io[o]=MC(i,cv,dv,s,uv,zm,n),new IC(i)}function UC(i=py()){i=dd(i);const s=po(i,Zc);return s.isInitialized()?s.getImmediate():BC(i)}function BC(i,s={}){const n=po(i,Zc);if(n.isInitialized()){const u=n.getImmediate();if(kN(s,n.getOptions()))return u;throw es.create("already-initialized")}return n.initialize({options:s})}function FC(i,s,n,o){i=dd(i),OC(Qy,io[i.app.options.appId],s,n,o).catch(u=>za.error(u))}const hv="@firebase/analytics",fv="0.10.18";function HC(){ho(new fo(Zc,(s,{options:n})=>{const o=s.getProvider("app").getImmediate(),u=s.getProvider("installations-internal").getImmediate();return LC(o,u,n)},"PUBLIC")),ho(new fo("analytics-internal",i,"PRIVATE")),Fn(hv,fv),Fn(hv,fv,"esm2020");function i(s){try{const n=s.getProvider(Zc).getImmediate();return{logEvent:(o,u,c)=>FC(n,o,u,c)}}catch(n){throw es.create("interop-component-reg-failed",{reason:n})}}}HC();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(s,n,o,u){this.app=s,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,EN(s)&&s.settings.appCheckToken&&(this.serverAppAppCheckToken=s.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=o.getImmediate({optional:!0}),this.auth||n.get().then(c=>this.auth=c,()=>{}),this.messaging||o.get().then(c=>this.messaging=c,()=>{}),this.appCheck||u?.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(s){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=s?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(s){const n=await this.getAuthToken(),o=await this.getMessagingToken(),u=await this.getAppCheckToken(s);return{authToken:n,messagingToken:o,appCheckToken:u}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="us-central1";class $C{constructor(s,n,o,u,c=mh,m=(...g)=>fetch(...g)){this.app=s,this.fetchImpl=m,this.emulatorOrigin=null,this.contextProvider=new qC(s,n,o,u),this.cancelAllRequests=new Promise(g=>{this.deleteService=()=>Promise.resolve(g())});try{const g=new URL(c);this.customDomain=g.origin+(g.pathname==="/"?"":g.pathname),this.region=mh}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(s){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${s}`:this.customDomain!==null?`${this.customDomain}/${s}`:`https://${this.region}-${n}.cloudfunctions.net/${s}`}}function VC(i,s,n){const o=DN(s);i.emulatorOrigin=`http${o?"s":""}://${s}:${n}`,o&&(ON(i.emulatorOrigin+"/backends"),RN("Functions",!0))}const gv="@firebase/functions",pv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="auth-internal",YC="app-check-internal",WC="messaging-internal";function QC(i){const s=(n,{instanceIdentifier:o})=>{const u=n.getProvider("app").getImmediate(),c=n.getProvider(GC),m=n.getProvider(WC),g=n.getProvider(YC);return new $C(u,c,m,g,o)};ho(new fo(Ky,s,"PUBLIC").setMultipleInstances(!0)),Fn(gv,pv,i),Fn(gv,pv,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(i=py(),s=mh){const o=po(dd(i),Ky).getImmediate({identifier:s}),u=TN("functions");return u&&XC(o,...u),o}function XC(i,s,n){VC(dd(i),s,n)}QC();const je={log:(...i)=>{},warn:(...i)=>{},error:(...i)=>{console.error(...i)},info:(...i)=>{},debug:(...i)=>{},silent:{log:()=>{},warn:()=>{},error:()=>{},info:()=>{},debug:()=>{}}},ZC={apiKey:"AIzaSyDbYRxCb5FX8-QO_GgwV6mbbWVb-IeZstg",authDomain:"spirithub-506f5.firebaseapp.com",projectId:"spirithub-506f5",storageBucket:"spirithub-506f5.firebasestorage.app",messagingSenderId:"920496914548",appId:"1:920496914548:web:30f85e360d4e6355f1d121",measurementId:"G-NB1HZ7ZRNF"},vo=MN(ZC),bt=IN(vo),no=PN(vo);KC(vo);let ve=null;try{ve=zN(vo),typeof window<"u"&&window.addEventListener("unhandledrejection",i=>{(i.reason?.code?.includes("firestore")||i.reason?.message?.includes("Missing or insufficient permissions")||i.reason?.message?.includes("400"))&&(je.warn(" Firestore issue detected, continuing with limited functionality:",i.reason?.message),i.preventDefault())})}catch(i){je.error(" Firestore initialization failed:",i),ve=null}let Xy=null;if(typeof window<"u")try{Xy=UC(vo)}catch{}const Ui=new Map,xv=i=>{const s=Ui.get(i);return s&&Date.now()-s.timestamp<s.ttl?s.data:(Ui.delete(i),null)},vv=(i,s,n=5*60*1e3)=>{Ui.set(i,{data:s,timestamp:Date.now(),ttl:n})};function $c(i,s=[],n="omr"){const o=i.properties?.filter(c=>c.affects_price&&c.options&&c.options.length>0)||[];if(o.length>0&&s.length>0){for(const m of s){const g=i.properties?.find(x=>x.name===m.property_name);if(g&&g.affects_price){const x=g.options.find(j=>j.value===m.option_value);if(x){const j=x.on_sale&&(!x.sale_start_date||new Date(x.sale_start_date)<=new Date)&&(!x.sale_end_date||new Date(x.sale_end_date)>=new Date);let y=0;switch(n){case"usd":x.price_usd&&(y=j&&x.sale_price_usd?x.sale_price_usd:x.price_usd);break;case"sar":x.price_sar&&(y=j&&x.sale_price_sar?x.sale_price_sar:x.price_sar);break;default:x.price_omr&&(y=j&&x.sale_price_omr?x.sale_price_omr:x.price_omr);break}if(y>0)return y;let w=0;switch(n){case"usd":w=j&&x.sale_price_modifier_usd?x.sale_price_modifier_usd:x.price_modifier_usd||0;break;case"sar":w=j&&x.sale_price_modifier_sar?x.sale_price_modifier_sar:x.price_modifier_sar||0;break;default:w=j&&x.sale_price_modifier_omr?x.sale_price_modifier_omr:x.price_modifier_omr||0;break}return w}}}const c=o[0];if(c&&c.options.length>0){const m=c.options[0],g=m.on_sale&&(!m.sale_start_date||new Date(m.sale_start_date)<=new Date)&&(!m.sale_end_date||new Date(m.sale_end_date)>=new Date);let x=0;switch(n){case"usd":m.price_usd&&(x=g&&m.sale_price_usd?m.sale_price_usd:m.price_usd);break;case"sar":m.price_sar&&(x=g&&m.sale_price_sar?m.sale_price_sar:m.price_sar);break;default:m.price_omr&&(x=g&&m.sale_price_omr?m.sale_price_omr:m.price_omr);break}if(x>0)return x;let j=0;switch(n){case"usd":j=g&&m.sale_price_modifier_usd?m.sale_price_modifier_usd:m.price_modifier_usd||0;break;case"sar":j=g&&m.sale_price_modifier_sar?m.sale_price_modifier_sar:m.price_modifier_sar||0;break;default:j=g&&m.sale_price_modifier_omr?m.sale_price_modifier_omr:m.price_modifier_omr||0;break}return j}}if(i.is_on_sale||!1)switch(n){case"usd":return i.sale_price_usd||i.price_usd||0;case"sar":return i.sale_price_sar||i.price_sar||0;default:return i.sale_price_omr||i.price_omr||0}else switch(n){case"usd":return i.price_usd||0;case"sar":return i.price_sar||0;default:return i.price_omr||0}}function Vh(i,s={},n="omr"){const o=i.properties?.filter(y=>y.affects_price&&y.options&&y.options.length>0)||[];if(o.length>0){for(const w of o){const A=s[w.name];if(A){const h=w.options.find(p=>p.value===A);if(h){const p=h.on_sale;let E=0,b=0;switch(n){case"usd":E=h.price_usd||h.price_modifier_usd||(h.price_modifier_omr||h.price_modifier||0)*2.6,b=h.sale_price_usd||h.sale_price_modifier_usd||(h.sale_price_modifier_omr||0)*2.6;break;case"sar":E=h.price_sar||h.price_modifier_sar||(h.price_modifier_omr||h.price_modifier||0)*9.75,b=h.sale_price_sar||h.sale_price_modifier_sar||(h.sale_price_modifier_omr||0)*9.75;break;default:E=h.price_omr||h.price_modifier_omr||h.price_modifier||0,b=h.sale_price_omr||h.sale_price_modifier_omr||0;break}const v=p&&b>0?b:E,U=p&&b>0&&b<E?E-b:0,C=U>0?Math.round(U/E*100):0;return{finalPrice:v,originalPrice:E,isOnSale:!!(p&&b>0&&b<E),discountAmount:U,discountPercentage:C}}}}const y=o[0];if(y&&y.options.length>0){const w=y.options[0],A=w.on_sale;let h=0,p=0;switch(n){case"usd":h=w.price_usd||w.price_modifier_usd||(w.price_modifier_omr||w.price_modifier||0)*2.6,p=w.sale_price_usd||w.sale_price_modifier_usd||(w.sale_price_modifier_omr||0)*2.6;break;case"sar":h=w.price_sar||w.price_modifier_sar||(w.price_modifier_omr||w.price_modifier||0)*9.75,p=w.sale_price_sar||w.sale_price_modifier_sar||(w.sale_price_modifier_omr||0)*9.75;break;default:h=w.price_omr||w.price_modifier_omr||w.price_modifier||0,p=w.sale_price_omr||w.sale_price_modifier_omr||0;break}const E=A&&p>0?p:h,b=A&&p>0&&p<h?h-p:0,v=b>0?Math.round(b/h*100):0;return{finalPrice:E,originalPrice:h,isOnSale:!!(A&&p>0&&p<h),discountAmount:b,discountPercentage:v}}}let u=0,c=0;switch(n){case"usd":u=i.price_usd||0,c=i.sale_price_usd||0;break;case"sar":u=i.price_sar||0,c=i.sale_price_sar||0;break;default:u=i.price_omr||0,c=i.sale_price_omr||0;break}const m=i.is_on_sale&&c>0&&(!i.sale_start_date||new Date(i.sale_start_date)<=new Date)&&(!i.sale_end_date||new Date(i.sale_end_date)>=new Date),g=m&&c<u?c:u,x=m&&c<u?u-c:0,j=x>0?Math.round(x/u*100):0;return{finalPrice:g,originalPrice:u,isOnSale:!!(m&&c<u),discountAmount:x,discountPercentage:j}}function JC(){return ve!==null}async function lt(i,s,n){if(!JC())return s;try{return await i()}catch(o){return o?.code==="resource-exhausted"||o?.message?.includes("Quota exceeded")||o?.message?.includes("quota")||o?.code==="permission-denied"||o?.code==="unavailable"||je.error(` Firestore operation failed (${n}):`,o),s}}const Na={login:async(i,s)=>{try{je.log(" Attempting login with Firebase..."),je.log("Email:",i);const o=(await Zx(bt,i,s)).user;if(je.log(" Firebase login successful"),je.log("User:",o),je.log("Email verified:",o.emailVerified),!o.emailVerified)return je.log(" Email not verified"),{success:!1,error:"Please verify your email before logging in",requiresEmailVerification:!0};let c=await lt(async()=>{const m=await qt(Ie(ve,"users",o.uid));return m.exists()?{id:o.uid,...m.data(),created:m.data().created?.toDate()||new Date,updated:m.data().updated?.toDate()||new Date,email_verified:o.emailVerified}:null},null,"getUserProfile");return c||(c={id:o.uid,email:o.email||i,full_name:o.displayName||i.split("@")[0],role:"user",created:new Date,updated:new Date,email_verified:o.emailVerified}),{success:!0,user:c}}catch(n){return je.error(" Firebase login error:",n),je.error("Error code:",n.code),je.error("Error message:",n.message),{success:!1,error:n.message}}},register:async(i,s,n)=>{try{je.log(" Attempting registration with Firebase..."),je.log("Email:",i),je.log("User data:",n);const u=(await BN(bt,i,s)).user;je.log(" Firebase registration successful"),je.log("User:",u),await FN(u,{displayName:n.full_name}),je.log(" User display name updated"),await Jx(u),je.log(" Email verification sent");const c=Xe(ve,"users"),g=(await lt(async()=>await At(ut(c,zi(1))),{docs:[]},"checkFirstUser")).docs.length===0,x=g?"admin":"user";je.log(` User role: ${x} (First user: ${g})`);const j={id:u.uid,email:u.email,full_name:n.full_name,phone:n.phone,role:x,created:new Date,updated:new Date,email_verified:u.emailVerified};return await lt(async()=>(await si(Ie(ve,"users",u.uid),{email:j.email,full_name:j.full_name,phone:j.phone,role:j.role,email_verified:j.email_verified,created:rt(),updated:rt()}),je.log(" User profile saved to Firestore"),!0),!1,"createUserProfile"),{success:!0,user:j,requiresEmailVerification:!0}}catch(o){return je.error(" Firebase registration error:",o),je.error("Error code:",o.code),je.error("Error message:",o.message),{success:!1,error:o.message}}},logout:async()=>{await UN(bt)},getCurrentUser:()=>bt.currentUser,isAuthenticated:()=>!!bt.currentUser,checkAuthState:async()=>{try{return bt.currentUser?(await bt.currentUser.reload(),bt.currentUser):null}catch(i){return console.error("Error checking auth state:",i),null}},getUserProfile:async i=>await lt(async()=>{const s=await qt(Ie(ve,"users",i));return s.exists()?{id:i,...s.data(),created:s.data().created?.toDate()||new Date,updated:s.data().updated?.toDate()||new Date}:null},null,"getUserProfile"),resetUserPassword:async i=>{try{return je.log(" Sending password reset email to:",i),await Xx(bt,i),je.log(" Password reset email sent successfully"),{success:!0}}catch(s){return je.error(" Password reset error:",s),{success:!1,error:s.message}}},sendEmailVerification:async()=>{try{const i=bt.currentUser;return i?(await Jx(i),je.log(" Email verification sent"),{success:!0}):{success:!1,error:"No authenticated user found"}}catch(i){return je.error(" Email verification error:",i),{success:!1,error:i.message}}},checkEmailVerification:async()=>{try{const i=bt.currentUser;if(!i)return{success:!1,verified:!1,error:"No authenticated user found"};await i.reload();const s=i.emailVerified;return s&&await lt(async()=>(await Qt(Ie(ve,"users",i.uid),{email_verified:!0,updated:rt()}),!0),!1,"updateEmailVerificationStatus"),{success:!0,verified:s}}catch(i){return je.error(" Check email verification error:",i),{success:!1,verified:!1,error:i.message}}},changePassword:async(i,s)=>{try{const n=bt.currentUser;if(!n||!n.email)return{success:!1,error:"No authenticated user found"};const o=await Zx(bt,n.email,i);return await LN(o.user,s),je.log(" Password changed successfully"),{success:!0}}catch(n){return je.error(" Password change error:",n),{success:!1,error:n.message}}},forgotPassword:async i=>{try{return await Xx(bt,i),{success:!0}}catch(s){return je.error(" Forgot password error:",s),{success:!1,error:s.message}}}},we={users:{list:async()=>await lt(async()=>{const i=ut(Xe(ve,"users"),br("created","desc")),n=(await At(i)).docs.map(o=>({id:o.id,...o.data(),created:o.data().created?.toDate()||new Date,updated:o.data().updated?.toDate()||new Date}));return{items:n,total:n.length}},{items:[],total:0},"getUsersList"),updateRole:async(i,s)=>await lt(async()=>(await Qt(Ie(ve,"users",i),{role:s,updated:rt()}),je.log(` User ${i} role updated to ${s}`),!0),!1,"updateUserRole"),update:async(i,s)=>await lt(async()=>{const n={...s,updated:rt()};return delete n.id,delete n.created,await Qt(Ie(ve,"users",i),n),je.log(` User ${i} profile updated`),!0},!1,"updateUserProfile"),get:async i=>await lt(async()=>{const s=await qt(Ie(ve,"users",i));return s.exists()?{id:i,...s.data(),created:s.data().created?.toDate()||new Date,updated:s.data().updated?.toDate()||new Date}:null},null,"getUser"),delete:async i=>await lt(async()=>(await Es(Ie(ve,"users",i)),je.log(` User ${i} deleted`),!0),!1,"deleteUser"),getStats:async()=>await lt(async()=>{const i=ut(Xe(ve,"users")),n=(await At(i)).docs.map(x=>x.data()),o=n.length,u=n.filter(x=>x.role==="admin").length,c=n.filter(x=>x.role==="shop_owner").length,m=n.filter(x=>x.role==="employee").length,g=n.filter(x=>x.role==="user").length;return{totalUsers:o,adminUsers:u,shopOwners:c,employees:m,regularUsers:g}},{totalUsers:0,adminUsers:0,shopOwners:0,employees:0,regularUsers:0},"getUserStats")},categories:{list:async()=>{try{const i=ut(Xe(ve,"categories"),mt("is_active","==",!0)),n=(await At(i)).docs.map(o=>({id:o.id,...o.data()}));return n.sort((o,u)=>o.sort_order-u.sort_order),{items:n,totalItems:n.length}}catch(i){if(i?.code==="resource-exhausted"||i?.message?.includes("Quota exceeded")||i?.message?.includes("quota"))return{items:[],totalItems:0};throw je.error("Error getting categories:",i),i}},get:async i=>{try{const s=await qt(Ie(ve,"categories",i));return s.exists()?{id:s.id,...s.data()}:null}catch(s){if(s?.code==="resource-exhausted"||s?.message?.includes("Quota exceeded")||s?.message?.includes("quota"))return null;throw je.error("Error getting category:",s),s}},create:async i=>{try{const s={...i,created:rt(),updated:rt()};return{id:(await Ts(Xe(ve,"categories"),s)).id,...s}}catch(s){throw je.error("Error creating category:",s),s}},update:async(i,s)=>{try{const n={...s,updated:rt()};return await Qt(Ie(ve,"categories",i),n),{id:i,...n}}catch(n){throw je.error("Error updating category:",n),n}},delete:async i=>{try{await Es(Ie(ve,"categories",i))}catch(s){throw je.error("Error deleting category:",s),s}}},products:{list:async i=>{try{const s=`products_list_${JSON.stringify(i||{})}`,n=xv(s);if(n)return je.log(" Returning cached products"),n;let o=ut(Xe(ve,"products"),mt("is_active","==",!0),zi(50));i?.category?o=ut(Xe(ve,"products"),mt("is_active","==",!0),mt("category_id","==",i.category),zi(50)):i?.featured?o=ut(Xe(ve,"products"),mt("is_active","==",!0),mt("is_featured","==",!0),zi(50)):i?.bestseller?o=ut(Xe(ve,"products"),mt("is_active","==",!0),mt("is_bestseller","==",!0),zi(50)):i?.new_arrival&&(o=ut(Xe(ve,"products"),mt("is_active","==",!0),mt("is_new_arrival","==",!0),zi(50)));let c=(await At(o)).docs.map(g=>({id:g.id,...g.data()}));if(c.sort((g,x)=>g.sort_order!==x.sort_order?g.sort_order-x.sort_order:g.created&&x.created?new Date(x.created).getTime()-new Date(g.created).getTime():0),i?.search){const g=i.search.toLowerCase();c=c.filter(x=>x.name.toLowerCase().includes(g)||x.name_ar&&x.name_ar.toLowerCase().includes(g))}const m={items:c,totalItems:c.length};return vv(s,m,10*60*1e3),m}catch(s){if(s?.code==="resource-exhausted"||s?.message?.includes("Quota exceeded")||s?.message?.includes("quota")){const u=`products_list_${JSON.stringify(i||{})}`,c=Ui.get(u);return c?c.data:{items:[],totalItems:0}}je.error("Error getting products:",s);const n=`products_list_${JSON.stringify(i||{})}`,o=Ui.get(n);if(o)return o.data;throw s}},get:async i=>{try{const s=`product_${i}`,n=xv(s);if(n)return je.log(` Returning cached product: ${i}`),n;const o=await qt(Ie(ve,"products",i));if(o.exists()){const u={id:o.id,...o.data()};return vv(s,u,10*60*1e3),u}return null}catch(s){if(s?.code==="resource-exhausted"||s?.message?.includes("Quota exceeded")||s?.message?.includes("quota")){const u=`product_${i}`,c=Ui.get(u);return c?c.data:null}je.error("Error getting product:",s);const n=`product_${i}`,o=Ui.get(n);if(o)return o.data;throw s}},create:async i=>{try{const s={...i,created:rt(),updated:rt()};return{id:(await Ts(Xe(ve,"products"),s)).id,...s}}catch(s){throw je.error("Error creating product:",s),s}},update:async(i,s)=>{try{const n={...s,updated:rt()};return await Qt(Ie(ve,"products",i),n),{id:i,...n}}catch(n){throw je.error("Error updating product:",n),n}},delete:async i=>{try{await Es(Ie(ve,"products",i))}catch(s){throw je.error("Error deleting product:",s),s}}},cart:{getUserCart:async i=>{try{const s=ut(Xe(ve,"cart_items"),mt("user_id","==",i)),o=(await At(s)).docs.map(c=>({id:c.id,...c.data()})),u=await Promise.all(o.map(async c=>{const m=String(c.product_id),g=await we.products.get(m);return{...c,product:g}}));return{items:u,totalItems:u.length}}catch(s){throw je.error("Error getting user cart:",s),s}},addItem:async(i,s,n=1,o,u)=>{try{const c=await qt(Ie(ve,"products",s));if(!c.exists())throw new Error("Product not found");const m={id:c.id,...c.data()},g={omr:m.price_omr||0,usd:m.price_usd||0,sar:m.price_sar||0},x={omr:$c(m,u,"omr"),usd:$c(m,u,"usd"),sar:$c(m,u,"sar")},j=ut(Xe(ve,"cart_items"),mt("user_id","==",i),mt("product_id","==",s)),y=await At(j);let w=null;for(const A of y.docs){const h=A.data(),p=h.selectedProperties||{},E=o||{},b=JSON.stringify(p)===JSON.stringify(E),v=h.selectedPropertyOptions||[],U=u||[],C=JSON.stringify(v)===JSON.stringify(U);if(b&&C){w={id:A.id,...h};break}}if(w){const A=(w.quantity||0)+n;return await Qt(Ie(ve,"cart_items",w.id),{quantity:A,total_price_omr:x.omr,total_price_usd:x.usd,total_price_sar:x.sar,updated:rt()}),{...w,quantity:A,total_price_omr:x.omr,total_price_usd:x.usd,total_price_sar:x.sar}}else{const A={user_id:i,product_id:s,quantity:n,base_price_omr:g.omr,base_price_usd:g.usd,base_price_sar:g.sar,total_price_omr:x.omr,total_price_usd:x.usd,total_price_sar:x.sar,created:rt(),updated:rt()};return o&&Object.keys(o).length>0&&(A.selectedProperties=o),u&&u.length>0&&(A.selectedPropertyOptions=u),{id:(await Ts(Xe(ve,"cart_items"),A)).id,...A}}}catch(c){throw je.error("Error adding cart item:",c),c}},updateQuantity:async(i,s)=>{try{await Qt(Ie(ve,"cart_items",i),{quantity:s,updated:rt()})}catch(n){throw je.error("Error updating cart item:",n),n}},removeItem:async i=>{try{await Es(Ie(ve,"cart_items",i))}catch(s){throw je.error("Error removing cart item:",s),s}},clearCart:async i=>{try{const s=ut(Xe(ve,"cart_items"),mt("user_id","==",i)),o=(await At(s)).docs.map(u=>Es(u.ref));await Promise.all(o)}catch(s){throw je.error("Error clearing cart:",s),s}}},newsletters:{list:async()=>await lt(async()=>{const i=ut(Xe(ve,"newsletters"),br("subscribed_at","desc")),n=(await At(i)).docs.map(o=>({id:o.id,...o.data(),subscribed_at:o.data().subscribed_at||new Date().toISOString()}));return{items:n,total:n.length}},{items:[],total:0},"getNewslettersList"),create:async i=>await lt(async()=>{const s=i.email?.toLowerCase().trim();if(!s)throw new Error("Email is required");je.log(" Server-side duplicate check for email:",s);const n=ut(Xe(ve,"newsletters"),mt("email","==",s));if(!(await At(n)).empty)throw je.log(" Duplicate email found on server:",s),new Error("Email already exists");je.log(" No duplicates found, creating subscription");const u=await Ts(Xe(ve,"newsletters"),{...i,email:s,subscribed_at:i.subscribed_at||new Date().toISOString(),status:i.status||"active"});return je.log(" Newsletter subscription created:",u.id),u.id},"","createNewsletterSubscription"),delete:async i=>await lt(async()=>(await Es(Ie(ve,"newsletters",i)),je.log(" Newsletter subscription deleted:",i),!0),!1,"deleteNewsletterSubscription"),updateStatus:async(i,s)=>await lt(async()=>(await Qt(Ie(ve,"newsletters",i),{status:s,updated_at:new Date().toISOString()}),je.log(" Newsletter subscription status updated:",i),!0),!1,"updateNewsletterStatus")},orders:{list:async i=>{try{const s=bt.currentUser;if(!s)return je.warn(" User not authenticated for orders"),{items:[],totalItems:0};let n=ut(Xe(ve,"orders"),br("created","desc"));i?n=ut(n,mt("user_id","==",i)):n=ut(n,mt("user_id","==",s.uid));const o=await At(n);return{items:o.docs.map(u=>({id:u.id,...u.data()})),totalItems:o.docs.length}}catch(s){if(je.error("Error getting orders:",s),s.code==="permission-denied"||s.message?.includes("Missing or insufficient permissions"))return{items:[],totalItems:0};throw s}},get:async i=>{try{const s=await qt(Ie(ve,"orders",i));return s.exists()?{id:s.id,...s.data()}:null}catch(s){throw je.error("Error getting order:",s),s}},create:async i=>{try{const s=bt.currentUser;if(!s)throw new Error("User must be authenticated to create orders");const n={...i,user_id:s.uid,created:rt(),updated:rt()},o=Object.entries(n).reduce((c,[m,g])=>(g!==void 0&&(c[m]=g),c),{});return{id:(await Ts(Xe(ve,"orders"),o)).id,...o}}catch(s){throw je.error("Error creating order:",s),s.code==="permission-denied"||s.message?.includes("Missing or insufficient permissions")?new Error("Permission denied: Unable to create order. Please ensure you are logged in."):s}},update:async(i,s)=>{try{const n={...s,updated:rt()};return await Qt(Ie(ve,"orders",i),n),{id:i,...n}}catch(n){throw je.error("Error updating order:",n),n}}},orderItems:{getByOrder:async i=>{try{const s=ut(Xe(ve,"order_items"),mt("order_id","==",i)),o=(await At(s)).docs.map(c=>({id:c.id,...c.data()})),u=await Promise.all(o.map(async c=>{if(c.product_id){const m=await we.products.get(c.product_id);return{...c,product:m}}return c}));return{items:u,totalItems:u.length}}catch(s){throw je.error("Error getting order items:",s),s}},create:async i=>{try{const n={...Object.entries(i).reduce((u,[c,m])=>(m!==void 0&&(u[c]=m),u),{}),created:rt(),updated:rt()};return{id:(await Ts(Xe(ve,"order_items"),n)).id,...n}}catch(s){throw je.error("Error creating order item:",s),s}}},pages:{list:async()=>await lt(async()=>{const i=ut(Xe(ve,"pages"),br("sort_order","asc")),n=(await At(i)).docs.map(o=>({id:o.id,...o.data(),created:o.data().created?.toDate()||new Date,updated:o.data().updated?.toDate()||new Date}));return{items:n,total:n.length}},{items:[],total:0},"getPagesList"),get:async i=>await lt(async()=>{const s=await qt(Ie(ve,"pages",i));return s.exists()?{id:s.id,...s.data(),created:s.data().created?.toDate()||new Date,updated:s.data().updated?.toDate()||new Date}:null},null,"getPage"),getBySlug:async i=>await lt(async()=>{const s=ut(Xe(ve,"pages"),mt("slug","==",i),mt("is_active","==",!0),zi(1)),n=await At(s);if(!n.empty){const o=n.docs[0];return{id:o.id,...o.data(),created:o.data().created?.toDate()||new Date,updated:o.data().updated?.toDate()||new Date}}return null},null,"getPageBySlug"),getFooterPages:async()=>await lt(async()=>{const i=ut(Xe(ve,"pages"),mt("is_active","==",!0),mt("show_in_footer","==",!0),br("sort_order","asc"));return(await At(i)).docs.map(n=>({id:n.id,...n.data(),created:n.data().created?.toDate()||new Date,updated:n.data().updated?.toDate()||new Date}))},[],"getFooterPages"),create:async i=>await lt(async()=>{const s={...i,created:rt(),updated:rt()};return{id:(await Ts(Xe(ve,"pages"),s)).id,...i,created:new Date,updated:new Date}},null,"createPage"),update:async(i,s)=>await lt(async()=>{const n={...s,updated:rt()};return delete n.id,delete n.created,await Qt(Ie(ve,"pages",i),n),je.log(` Page ${i} updated`),!0},!1,"updatePage"),delete:async i=>await lt(async()=>(await Es(Ie(ve,"pages",i)),je.log(` Page ${i} deleted`),!0),!1,"deletePage")},settings:{async get(i){return await lt(async()=>{const s=await qt(Ie(ve,"settings",i));return s.exists()?s.data():null},null,"getSettings")},async set(i,s){return await lt(async()=>(await si(Ie(ve,"settings",i),s),!0),!1,"setSettings")},async update(i,s){return await lt(async()=>(await Qt(Ie(ve,"settings",i),s),!0),!1,"updateSettings")}},async getDocument(i,s){return await lt(async()=>await qt(Ie(ve,i,s)),null,"getDocument")},async setDocument(i,s,n){return await lt(async()=>(await si(Ie(ve,i,s),n),!0),!1,"setDocument")},reviews:{async list(i){try{let s=ut(Xe(ve,"reviews"));i&&(s=ut(Xe(ve,"reviews"),mt("product_id","==",i)));const o=(await At(s)).docs.map(u=>({id:u.id,...u.data()}));return{items:o,total:o.length}}catch(s){throw je.error("Error listing reviews:",s),s}},async get(i){try{const s=Ie(ve,"reviews",i),n=await qt(s);return n.exists()?{id:i,...n.data()}:null}catch(s){throw je.error("Error getting review:",s),s}},async create(i){try{const s={...i,created_at:new Date().toISOString(),is_approved:!1};return{id:(await Ts(Xe(ve,"reviews"),s)).id,...s}}catch(s){throw je.error("Error creating review:",s),s}},async update(i,s){try{const n=Ie(ve,"reviews",i);await Qt(n,s)}catch(n){throw je.error("Error updating review:",n),n}},async delete(i){try{const s=Ie(ve,"reviews",i);await Es(s)}catch(s){throw je.error("Error deleting review:",s),s}},async getApprovedByProduct(i){try{const s=ut(Xe(ve,"reviews"),mt("product_id","==",i),mt("is_approved","==",!0));return(await At(s)).docs.map(u=>({id:u.id,...u.data()}))}catch(s){throw je.error("Error getting approved reviews:",s),s}},async getAverageRating(i){try{const s=await this.getApprovedByProduct(i);if(s.length===0)return{average:0,count:0};const o=s.reduce((u,c)=>u+c.rating,0)/s.length;return{average:Math.round(o*10)/10,count:s.length}}catch(s){return je.error("Error calculating average rating:",s),{average:0,count:0}}},async hasUserReviewed(i,s){try{const n=ut(Xe(ve,"reviews"),mt("product_id","==",i),mt("user_id","==",s));return!(await At(n)).empty}catch(n){return je.error("Error checking user review:",n),!1}},async incrementHelpfulCount(i){try{const s=Ie(ve,"reviews",i),n=await qt(s);if(n.exists()){const o=n.data().helpful_count||0;await Qt(s,{helpful_count:o+1})}}catch(s){throw je.error("Error incrementing helpful count:",s),s}}},checkoutSettings:{get:async()=>await lt(async()=>{const i=await qt(Ie(ve,"settings","checkout"));return i.exists()?{id:i.id,...i.data(),created_at:i.data().created_at?.toDate()||new Date,updated_at:i.data().updated_at?.toDate()||new Date}:{tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}},{id:"aramex",name:"Aramex",name_ar:"",enabled:!0,is_free:!1,pricing_type:"api_calculated",base_cost_omr:1.73,base_cost_usd:4.5,base_cost_sar:16.86,estimated_delivery_days:"2-3 days",description:"International shipping via Aramex",description_ar:"   ",api_settings:{provider:"aramex",api_url:"https://ws.aramex.net/ShippingAPI.V2/RateCalculator/Service_1_0.svc",username:"aramex_username",password:"aramex_password",account_number:"aramex_account"}}],payment_gateway:{provider:"bank_muscat",enabled:!0,test_mode:!1,merchant_id:"224",access_code:"AVDP00LA16BE47PDEB",working_key:"841FEAE32609C3E892C4D0B1393A7ACC",supported_currencies:["OMR","USD","SAR"],additional_settings:{return_url:"https://spirithubcafe.com/checkout/success",cancel_url:"https://spirithubcafe.com/checkout/cancel",webhook_url:"https://spirithubcafe.com/api/payment/webhook"}},created_at:new Date,updated_at:new Date}},null,"getCheckoutSettings"),update:async i=>await lt(async()=>{const s=Ie(ve,"settings","checkout");return await Qt(s,{...i,updated_at:rt()}),je.log(" Checkout settings updated successfully"),!0},!1,"updateCheckoutSettings"),initialize:async()=>await lt(async()=>{if(!(await qt(Ie(ve,"settings","checkout"))).exists()){const s={tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}},{id:"aramex",name:"Aramex",name_ar:"",enabled:!0,is_free:!1,pricing_type:"api_calculated",base_cost_omr:1.73,base_cost_usd:4.5,base_cost_sar:16.86,estimated_delivery_days:"2-3 days",description:"International shipping via Aramex",description_ar:"   ",api_settings:{provider:"aramex",api_url:"https://ws.aramex.net/ShippingAPI.V2/RateCalculator/Service_1_0.svc",username:"aramex_username",password:"aramex_password",account_number:"aramex_account"}}],payment_gateway:{provider:"bank_muscat",enabled:!0,test_mode:!1,merchant_id:"224",access_code:"AVDP00LA16BE47PDEB",working_key:"841FEAE32609C3E892C4D0B1393A7ACC",supported_currencies:["OMR","USD","SAR"],additional_settings:{return_url:"https://spirithubcafe.com/checkout/success",cancel_url:"https://spirithubcafe.com/checkout/cancel",webhook_url:"https://spirithubcafe.com/api/payment/webhook"}},created_at:rt(),updated_at:rt()};await si(Ie(ve,"settings","checkout"),s),je.log(" Default checkout settings initialized")}return!0},!1,"initializeCheckoutSettings")}},Ja={upload:async(i,s)=>{try{const n=bt.currentUser;if(!n)throw new Error("User must be authenticated to upload files");await new Promise(g=>{setTimeout(()=>{g(!0)},100)});const o=Hc(no,i),u={contentType:s.type,customMetadata:{uploadedBy:n.uid,uploadedAt:new Date().toISOString()}},c=await xy(o,s,u);return await vy(c.ref)}catch(n){throw je.error("Error uploading file:",n),n.code==="storage/unauthorized"?new Error("Unauthorized: Please make sure you are logged in and have permission to upload files"):n.code==="storage/quota-exceeded"?new Error("Storage quota exceeded"):n.code==="storage/unauthenticated"?new Error("Authentication required"):n.code==="storage/retry-limit-exceeded"?new Error("Upload failed: Too many retries"):n.code==="storage/invalid-format"?new Error("Invalid file format"):n.code==="storage/invalid-checksum"?new Error("File upload failed: Invalid checksum"):n.message.includes("CORS")?new Error("CORS error: Please check Firebase Storage configuration"):new Error(`Upload failed: ${n.message||"Unknown error"}`)}},uploadMultiple:async(i,s)=>{try{const n=s.map(async(o,u)=>{const c=`${Date.now()}_${u}_${o.name}`,m=`${i}/${c}`;return Ja.upload(m,o)});return await Promise.all(n)}catch(n){throw je.error("Error uploading multiple files:",n),n}},uploadAsDataURL:async i=>new Promise((s,n)=>{const o=new FileReader;o.onload=()=>{typeof o.result=="string"?s(o.result):n(new Error("Failed to convert file to data URL"))},o.onerror=()=>n(new Error("Error reading file")),o.readAsDataURL(i)}),canUseFirebaseStorage:async()=>{try{return bt.currentUser?(Hc(no,"test/connection.txt"),!0):!1}catch{return!1}},deleteFile:async i=>{try{const s=Hc(no,i);await HN(s)}catch(s){throw je.error("Error deleting file:",s),s}},checkoutSettings:{get:async()=>await lt(async()=>{const i=await qt(Ie(ve,"settings","checkout"));return i.exists()?{id:i.id,...i.data(),created_at:i.data().created_at?.toDate()||new Date,updated_at:i.data().updated_at?.toDate()||new Date}:{tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}},{id:"aramex",name:"Aramex",name_ar:"",enabled:!0,is_free:!1,pricing_type:"api_calculated",base_cost_omr:1.73,base_cost_usd:4.5,base_cost_sar:16.86,estimated_delivery_days:"2-3 days",description:"International shipping via Aramex",description_ar:"   ",api_settings:{provider:"aramex",api_url:"https://ws.aramex.net/ShippingAPI.V2/RateCalculator/Service_1_0.svc",username:"aramex_username",password:"aramex_password",account_number:"aramex_account"}}],payment_gateway:{provider:"bank_muscat",enabled:!0,test_mode:!1,merchant_id:"224",access_code:"AVDP00LA16BE47PDEB",working_key:"841FEAE32609C3E892C4D0B1393A7ACC",supported_currencies:["OMR","USD","SAR"],additional_settings:{return_url:"https://spirithubcafe.com/checkout/success",cancel_url:"https://spirithubcafe.com/checkout/cancel",webhook_url:"https://spirithubcafe.com/api/payment/webhook"}},created_at:new Date,updated_at:new Date}},null,"getCheckoutSettings"),update:async i=>await lt(async()=>{const s=Ie(ve,"settings","checkout");return await Qt(s,{...i,updated_at:rt()}),je.log(" Checkout settings updated successfully"),!0},!1,"updateCheckoutSettings"),initialize:async()=>await lt(async()=>{if(!(await qt(Ie(ve,"settings","checkout"))).exists()){const s={tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}},{id:"aramex",name:"Aramex",name_ar:"",enabled:!0,is_free:!1,pricing_type:"api_calculated",base_cost_omr:1.73,base_cost_usd:4.5,base_cost_sar:16.86,estimated_delivery_days:"2-3 days",description:"International shipping via Aramex",description_ar:"   ",api_settings:{provider:"aramex",api_url:"https://ws.aramex.net/ShippingAPI.V2/RateCalculator/Service_1_0.svc",username:"aramex_username",password:"aramex_password",account_number:"aramex_account"}}],payment_gateway:{provider:"bank_muscat",enabled:!0,test_mode:!1,merchant_id:"224",access_code:"AVDP00LA16BE47PDEB",working_key:"841FEAE32609C3E892C4D0B1393A7ACC",supported_currencies:["OMR","USD","SAR"],additional_settings:{return_url:"https://spirithubcafe.com/checkout/success",cancel_url:"https://spirithubcafe.com/checkout/cancel",webhook_url:"https://spirithubcafe.com/api/payment/webhook"}},created_at:rt(),updated_at:rt()};await si(Ie(ve,"settings","checkout"),s),je.log(" Default checkout settings initialized")}return!0},!1,"initializeCheckoutSettings")}},Zy=Object.freeze(Object.defineProperty({__proto__:null,get analytics(){return Xy},auth:bt,authService:Na,get db(){return ve},firestoreService:we,getProductFinalPrice:$c,getProductPriceDetails:Vh,storage:no,storageService:Ja},Symbol.toStringTag,{value:"Module"})),e1=async(i,s={})=>{try{const n=bt.currentUser,o=i||n?.uid;if(!o)throw new Error("No user ID provided and no authenticated user found");if(!n)throw new Error("No authenticated user found");const u=Ie(ve,"users",o),c=await qt(u);if(c.exists())return je.log("User document already exists"),{id:c.id,...c.data()};const m={uid:o,email:n.email||"",displayName:n.displayName||"",role:"customer",status:"active",created:rt(),updated:rt(),profile:{firstName:"",lastName:"",phone:"",address:{street:"",city:"",state:"",postalCode:"",country:"OM"}},preferences:{language:"en",currency:"OMR",newsletter:!1},...s};return await si(u,m),je.log(" User document created successfully"),We.success("User profile created successfully"),m}catch(n){return je.error(" Error creating user document:",n),We.error(`Failed to create user profile: ${n.message}`),null}},t1=async()=>{try{const i=bt.currentUser;if(!i)return je.warn("No authenticated user found"),null;const s=Ie(ve,"users",i.uid),n=await qt(s);return n.exists()?{id:n.id,...n.data()}:(je.log("User document missing, creating..."),await e1())}catch(i){return je.error("Error ensuring user document:",i),null}},Jy=_.createContext(void 0);function a1({children:i}){const[s,n]=_.useState(null),[o,u]=_.useState(null),[c,m]=_.useState(!0),g=_.useCallback(async()=>{if(o)try{await o.reload();const h=await Na.getUserProfile(o.uid);h&&(h.email_verified=o.emailVerified,o.emailVerified&&!h.email_verified&&await Na.checkEmailVerification()),n(h)}catch(h){console.error("Error refreshing user:",h)}},[o]);_.useEffect(()=>{let h=null;(async()=>{try{const{onAuthStateChanged:b}=await dh(async()=>{const{onAuthStateChanged:U}=await import("./firebase-D5CpxhIx.js").then(C=>C.W);return{onAuthStateChanged:U}},[]),{auth:v}=await dh(async()=>{const{auth:U}=await Promise.resolve().then(()=>Zy);return{auth:U}},void 0);h=b(v,async U=>{if(console.log("Auth state changed:",U?"User logged in":"User logged out"),u(U),U){const C=await Na.getUserProfile(U.uid);if(C)C.email_verified=U.emailVerified,U.emailVerified&&!C.email_verified&&await Na.checkEmailVerification(),n(C);else{console.log("No user profile found, ensuring user document exists..."),await t1();const R=await Na.getUserProfile(U.uid);R&&(R.email_verified=U.emailVerified),n(R)}}else n(null);m(!1)})}catch(b){console.error("Error setting up auth listener:",b),m(!1)}})();const E=async()=>{o&&await g()};return window.addEventListener("focus",E),()=>{h&&h(),window.removeEventListener("focus",E)}},[]);const x=async(h,p)=>{try{m(!0),console.log("Attempting login with:",{email:h,passwordLength:p.length});const E=await Na.login(h,p);return console.log("Login response:",E),m(!1),E}catch(E){return console.error("Login exception:",E),m(!1),{success:!1,error:E.message}}},j=async(h,p,E)=>{try{m(!0),console.log("Attempting registration with:",{email:h,userData:E});const b=await Na.register(h,p,E);return console.log("Registration response:",b),m(!1),b}catch(b){return console.error("Registration exception:",b),m(!1),{success:!1,error:b.message}}},y=async()=>{try{return await Na.sendEmailVerification()}catch(h){return console.error("Send email verification error:",h),{success:!1,error:h.message}}},w=async()=>{try{const h=await Na.checkEmailVerification();return h.success&&h.verified&&s&&n({...s,email_verified:!0}),h}catch(h){return console.error("Check email verification error:",h),{success:!1,verified:!1,error:h.message}}},A=async()=>{try{await Na.logout()}catch(h){console.error("Logout error:",h)}};return e.jsx(Jy.Provider,{value:{currentUser:s,firebaseUser:o,loading:c,login:x,logout:A,register:j,sendEmailVerification:y,checkEmailVerification:w,refreshUser:g},children:i})}function Ws(){const i=_.useContext(Jy);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}const eb=_.createContext(void 0);function di(){const i=_.useContext(eb);if(i===void 0)throw new Error("useCart must be used within a CartProvider");return i}const Lm="spirithub_cart";function s1({children:i}){const{i18n:s}=Me(),{currentUser:n}=Ws(),{currency:o}=Fa(),[u,c]=_.useState([]),[m,g]=_.useState(!1),x={id:"local_cart",user_id:n?.id||"guest",items:u},j=_.useCallback(async()=>{try{g(!0);const U=localStorage.getItem(Lm);if(!U){c([]);return}const C=JSON.parse(U);if(!Array.isArray(C)){c([]);return}const S=(await Promise.all(C.map(async N=>{try{const z=await we.products.get(String(N.product_id));return{...N,product:z}}catch(z){return console.error("Error loading product for cart item:",z),null}}))).filter(N=>N!==null&&N.product!==null);c(S)}catch(U){console.error("Error loading cart:",U),c([])}finally{g(!1)}},[]),y=_.useCallback(U=>{try{const C=U.map(R=>({id:R.id,product_id:R.product_id,quantity:R.quantity,selectedProperties:R.selectedProperties,selectedPropertyOptions:R.selectedPropertyOptions,base_price_omr:R.base_price_omr,base_price_usd:R.base_price_usd,base_price_sar:R.base_price_sar,total_price_omr:R.total_price_omr,total_price_usd:R.total_price_usd,total_price_sar:R.total_price_sar,created:R.created,updated:R.updated||new Date}));localStorage.setItem(Lm,JSON.stringify(C))}catch(C){console.error("Error saving cart to localStorage:",C)}},[]);_.useEffect(()=>{j()},[j]);const w=async()=>{await j()},A=async(U,C=1,R)=>{try{let S=R;if((!S||Object.keys(S).length===0)&&U.properties&&U.properties.length>0){const W=U.properties.find(he=>he.affects_price&&he.options&&he.options.length>0);if(W){const he=B=>{const F=new Date,ue=B.on_sale&&(!B.sale_start_date||new Date(B.sale_start_date)<=F)&&(!B.sale_end_date||new Date(B.sale_end_date)>=F);if(typeof B.price_omr=="number"&&B.price_omr>0)return ue&&typeof B.sale_price_omr=="number"&&B.sale_price_omr>0?B.sale_price_omr:B.price_omr;const X=ue?B.sale_price_modifier_omr??B.price_modifier_omr??B.price_modifier:B.price_modifier_omr??B.price_modifier;return typeof X=="number"&&X>0?X:Number.MAX_SAFE_INTEGER};let ee=W.options[0],k=he(ee);for(const B of W.options){const F=he(B);F<k&&(ee=B,k=F)}S={[W.name]:ee.value}}}const N=`${U.id}_${Date.now()}_${Math.random()}`,z={omr:U.price_omr||0,usd:U.price_usd||0,sar:U.price_sar||0},L={omr:z.omr*C,usd:z.usd*C,sar:z.sar*C},T=u.findIndex(W=>W.product_id===U.id&&JSON.stringify(W.selectedProperties||{})===JSON.stringify(S||{}));let O;if(T>=0){O=[...u];const W=O[T],he=W.quantity+C;O[T]={...W,quantity:he,total_price_omr:z.omr*he,total_price_usd:z.usd*he,total_price_sar:z.sar*he,updated:new Date}}else{const W={id:N,user_id:n?.id||"guest",product_id:U.id,quantity:C,selectedProperties:S,base_price_omr:z.omr,base_price_usd:z.usd,base_price_sar:z.sar,total_price_omr:L.omr,total_price_usd:L.usd,total_price_sar:L.sar,created:new Date,updated:new Date,product:U};O=[...u,W]}c(O),y(O);const I=s.language==="ar"&&U.name_ar||U.name;let H="";if(S&&U.properties&&Object.keys(S).length>0){const W=[];for(const[he,ee]of Object.entries(S)){const k=U.properties.find(F=>F.name===he),B=k?.options?.find(F=>F.value===ee);if(k&&B){const F=s.language==="ar"&&k.name_ar||k.name,ue=s.language==="ar"&&B.label_ar||B.label;W.push(`${F}: ${ue}`)}}W.length>0&&(H=` (${W.join(", ")})`)}te.success(s.language==="ar"?`  ${I}${H}  `:`${I}${H} added to cart`)}catch(S){console.error("Error adding to cart:",S),te.error(s.language==="ar"?"     ":"Error adding to cart")}},h=async U=>{try{const C=u.filter(R=>R.id!==U);c(C),y(C),te.success(s.language==="ar"?"    ":"Product removed from cart")}catch(C){console.error("Error removing from cart:",C),te.error(s.language==="ar"?"     ":"Error removing from cart")}},p=async(U,C)=>{if(C<=0){await h(U);return}try{if(!u.find(N=>N.id===U)){console.warn("Cart item not found:",U);return}const S=u.map(N=>{if(N.id===U){const z={omr:N.base_price_omr,usd:N.base_price_usd,sar:N.base_price_sar};return{...N,quantity:C,total_price_omr:z.omr*C,total_price_usd:z.usd*C,total_price_sar:z.sar*C,updated:new Date}}return N});c(S),y(S)}catch(R){console.error("Error updating cart:",R),te.error(s.language==="ar"?"   ":"Error updating cart")}},E=async()=>{try{c([]),localStorage.removeItem(Lm),te.success(s.language==="ar"?"  ":"Cart cleared")}catch(U){console.error("Error clearing cart:",U),te.error(s.language==="ar"?"    ":"Error clearing cart")}},b=()=>u.reduce((U,C)=>{if(!C.product)return U;let R=0;if(C.product.properties&&C.product.properties.some(z=>z.affects_price)&&C.product.properties){if(C.selectedProperties&&Object.keys(C.selectedProperties).length>0)for(const[z,L]of Object.entries(C.selectedProperties)){const T=C.product.properties.find(O=>O.name===z);if(T&&T.affects_price){const O=T.options.find(I=>I.value===L);if(O){O.price_omr?O.on_sale&&O.sale_price_omr?R=O.sale_price_omr:R=O.price_omr:(O.price_modifier_omr||O.price_modifier)&&(R=O.price_modifier_omr||O.price_modifier||0);break}}}if(R===0){const z=C.product.properties.find(L=>L.affects_price);if(z&&z.options.length>0){const L=z.options[0];L.price_omr?L.on_sale&&L.sale_price_omr?R=L.sale_price_omr:R=L.price_omr:(L.price_modifier_omr||L.price_modifier)&&(R=L.price_modifier_omr||L.price_modifier||0)}}}else C.product.sale_price_omr&&C.product.sale_price_omr<(C.product.price_omr||0)?R=C.product.sale_price_omr:R=C.product.price_omr||0;const N=R*Nt[o];return U+N*C.quantity},0),v=()=>u.reduce((U,C)=>U+C.quantity,0);return e.jsx(eb.Provider,{value:{cart:x,cartItems:u,loading:m,addToCart:A,removeFromCart:h,updateQuantity:p,clearCart:E,getTotalPrice:b,getTotalItems:v,refreshCart:w},children:i})}class r1{collection="settings";cache=new Map;cacheTimeout=30*1e3;isCacheValid(s){const n=this.cache.get(s);return n?Date.now()-n.timestamp<this.cacheTimeout:!1}getFromCache(s){return this.isCacheValid(s)&&this.cache.get(s)?.data||null}setCache(s,n){this.cache.set(s,{data:n,timestamp:Date.now()})}invalidateCache(s){this.cache.delete(s)}async getFooterSettings(){const s="footer",n=this.getFromCache(s);if(n)return n;try{const o=await we.getDocument(this.collection,"footer");if(o.exists()){const c=o.data();return this.setCache(s,c),c}const u=this.getDefaultFooterSettings();return this.setCache(s,u),u}catch{return this.getDefaultFooterSettings()}}async updateFooterSettings(s){try{await we.setDocument(this.collection,"footer",s),this.invalidateCache("footer")}catch(n){throw n}}getDefaultFooterSettings(){return{companyName:"SpiritHub",companyNameAr:" ",description:"Premium coffee roasted with passion and expertise.",descriptionAr:"    .",address:"Al Mouj Street, Muscat, Oman",addressAr:"   ",phone:"+968 9190 0005",phone2:"+968 7272 6999",email:"info@spirithubcafe.com",whatsapp:"+968 7272 6999",instagram:"@spirithubcafe",facebook:"spirithubcafe",twitter:"spirithubcafe",workingHours:"Daily: 8 AM - 11 PM",workingHoursAr:"  : 8  - 11 ",backgroundVideoBlur:50,videoOverlayOpacity:30,enableVideoOverlay:!0,enableVideoBlur:!0,enableGradientOverlay:!1,gradientOverlayOpacity:80}}async getCategoriesSettings(){const s="categories",n=this.getFromCache(s);if(n)return n;try{const o=await we.getDocument(this.collection,"categories");if(o.exists()){const c=o.data();return this.setCache(s,c),c}const u=this.getDefaultCategoriesSettings();return this.setCache(s,u),u}catch(o){return console.error("Error getting categories settings:",o),this.getDefaultCategoriesSettings()}}async updateCategoriesSettings(s){try{await we.setDocument(this.collection,"categories",s),this.invalidateCache("categories")}catch(n){throw n}}getDefaultCategoriesSettings(){return{backgroundVideo:"/video/back.mp4",backgroundVideoBlur:30,showBackgroundVideo:!0,overlayOpacity:70}}async getHomepageSettings(){const s="homepage",n=this.getFromCache(s);if(n)return n;try{const o=await we.getDocument(this.collection,"homepage");if(o.exists()){const c=o.data();return this.setCache(s,c),c}const u=this.getDefaultHomepageSettings();return this.setCache(s,u),u}catch(o){return console.error("Error getting homepage settings:",o),this.getDefaultHomepageSettings()}}async updateHomepageSettings(s){try{await we.setDocument(this.collection,"homepage",s),this.invalidateCache("homepage")}catch(n){throw n}}getDefaultHomepageSettings(){return{backgroundVideo:"/video/back.mp4",backgroundVideoBlur:30,showBackgroundVideo:!0,overlayOpacity:30,coffeeSelectionTitle:"COFFEE SELECTION",coffeeSelectionTitleAr:" ",coffeeSelectionDescription:"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",coffeeSelectionDescriptionAr:"         .                   .           .",coffeeSelectionButtonText:"SHOP NOW",coffeeSelectionButtonTextAr:" ",missionBackgroundImage:"/images/back.jpg",showMissionSection:!0,missionTitle:"SUSTAINABILITY, QUALITY, COMMITMENT",missionTitleAr:"  ",missionDescription:"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",missionDescriptionAr:"         .                   .           .",missionButtonText:"SHOP NOW",missionButtonTextAr:" ",communityBackgroundImage:"/images/back.jpg",showCommunitySection:!0,communityText:"Become an integral part of our Spirit Hub family! Connect with us on social media for exclusive updates, behind-the-scenes glimpses, and thrilling content. Follow us to stay in the loop. From sneak peeks into our creative process to special promotions, our social channels are your ticket to the latest. Engage with like-minded enthusiasts, share your experiences, and be a crucial member of our dynamic online community. Don't miss out on the excitement; join us today!",communityTextAr:"       !                .     .               .                .      !",communityImage1:"/images/gallery/1.jpg",communityImage2:"/images/gallery/2.jpg",communityImage3:"/images/gallery/3.jpg",communityImage4:"/images/gallery/4.webp",instagramUrl:"https://instagram.com/spirithubcafe",facebookUrl:"https://facebook.com/spirithubcafe",showFeatureSection:!0,featureSectionTitle:"Exceptional Coffee Experience",featureSectionTitleAr:"  ",featureSectionDescription:"Discover the world of premium coffee with our carefully curated selection of the finest roasted beans. Every cup tells a story of passion and craftsmanship.",featureSectionDescriptionAr:"            .       .",featureSectionButtonText:"Discover More",featureSectionButtonTextAr:" ",featureSectionImage:"/images/back.jpg",homepageCategoryIds:[]}}async getNewsletterSettings(){const s="newsletter",n=this.getFromCache(s);if(n)return n;try{const o=await we.getDocument(this.collection,"newsletter");if(o.exists()){const c=o.data();return this.setCache(s,c),c}const u=this.getDefaultNewsletterSettings();return this.setCache(s,u),u}catch(o){return console.error("Error getting newsletter settings:",o),this.getDefaultNewsletterSettings()}}async updateNewsletterSettings(s){try{await we.setDocument(this.collection,"newsletter",s),this.invalidateCache("newsletter")}catch(n){throw console.error("Error updating newsletter settings:",n),n}}getDefaultNewsletterSettings(){return{showNewsletterSection:!0,newsletterBackgroundType:"color",newsletterBackgroundColor:"#f8fafc",newsletterBackgroundColorLight:"#f8fafc",newsletterBackgroundColorDark:"#1e293b",newsletterBackgroundImage:"/images/back.jpg",newsletterImage:"/images/cats/specialty-coffee-capsules.webp",newsletterTitle:"Stay Updated with Spirit Hub Cafe!",newsletterTitleAr:"        !",newsletterDescription:"Sign up to our newsletter and be the first to know about our new products and special offers.",newsletterDescriptionAr:"            ."}}invalidateAllCache(){this.cache.clear()}forceRefreshCategories(){this.invalidateCache("categories")}forceRefreshHomepage(){this.invalidateCache("homepage")}forceRefreshNewsletter(){this.invalidateCache("newsletter")}forceRefreshFooter(){this.invalidateCache("footer")}}const Pa=new r1;class i1{collection="settings";heroDocId="hero";async getHeroSettings(){try{const s=await we.getDocument(this.collection,this.heroDocId);if(s.exists()){const o=s.data(),u=this.getDefaultHeroSettings();return this.mergeWithDefaults(o,u)}const n=this.getDefaultHeroSettings();return await this.updateHeroSettings(n),n}catch(s){return console.error("Error getting hero settings:",s),this.getDefaultHeroSettings()}}mergeWithDefaults(s,n){return{...n,...s,global_typography:{...n.global_typography,...s.global_typography},global_animation:{...n.global_animation,...s.global_animation},global_button_settings:{primary_button_style:{...n.global_button_settings?.primary_button_style,...s.global_button_settings?.primary_button_style},secondary_button_style:{...n.global_button_settings?.secondary_button_style,...s.global_button_settings?.secondary_button_style}},global_layout:{...n.global_layout,...s.global_layout,responsive_breakpoints:{mobile:{...n.global_layout?.responsive_breakpoints?.mobile,...s.global_layout?.responsive_breakpoints?.mobile},tablet:{...n.global_layout?.responsive_breakpoints?.tablet,...s.global_layout?.responsive_breakpoints?.tablet},desktop:{...n.global_layout?.responsive_breakpoints?.desktop,...s.global_layout?.responsive_breakpoints?.desktop}}},global_effects:{...n.global_effects,...s.global_effects,particle_system:{...n.global_effects?.particle_system,...s.global_effects?.particle_system},gradient_overlay:{...n.global_effects?.gradient_overlay,...s.global_effects?.gradient_overlay}},slides:s.slides.map(o=>({...o,typography:{...n.slides[0]?.typography,...o.typography},animation:{...n.slides[0]?.animation,...o.animation},button_settings:{primary_button_style:{...n.slides[0]?.button_settings?.primary_button_style,...o.button_settings?.primary_button_style},secondary_button_style:{...n.slides[0]?.button_settings?.secondary_button_style,...o.button_settings?.secondary_button_style}},layout:{...n.slides[0]?.layout,...o.layout,responsive_breakpoints:{mobile:{...n.slides[0]?.layout?.responsive_breakpoints?.mobile,...o.layout?.responsive_breakpoints?.mobile},tablet:{...n.slides[0]?.layout?.responsive_breakpoints?.tablet,...o.layout?.responsive_breakpoints?.tablet},desktop:{...n.slides[0]?.layout?.responsive_breakpoints?.desktop,...o.layout?.responsive_breakpoints?.desktop}}},effects:{...n.slides[0]?.effects,...o.effects,particle_system:{...n.slides[0]?.effects?.particle_system,...o.effects?.particle_system},gradient_overlay:{...n.slides[0]?.effects?.gradient_overlay,...o.effects?.gradient_overlay}}}))}}async updateHeroSettings(s){try{await we.setDocument(this.collection,this.heroDocId,{...s,updated_at:new Date().toISOString()})}catch(n){throw console.error("Error updating hero settings:",n),n}}async addSlide(s){try{const n=await this.getHeroSettings(),o={...s,id:this.generateSlideId(),created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return n.slides.push(o),n.slides.sort((u,c)=>u.sort_order-c.sort_order),await this.updateHeroSettings(n),o}catch(n){throw console.error("Error adding slide:",n),n}}async updateSlide(s,n){try{const o=await this.getHeroSettings(),u=o.slides.findIndex(c=>c.id===s);if(u===-1)throw new Error("Slide not found");o.slides[u]={...o.slides[u],...n,updated_at:new Date().toISOString()},o.slides.sort((c,m)=>c.sort_order-m.sort_order),await this.updateHeroSettings(o)}catch(o){throw console.error("Error updating slide:",o),o}}async deleteSlide(s){try{const n=await this.getHeroSettings();n.slides=n.slides.filter(o=>o.id!==s),await this.updateHeroSettings(n)}catch(n){throw console.error("Error deleting slide:",n),n}}async reorderSlides(s){try{const n=await this.getHeroSettings();n.slides=n.slides.map(o=>{const u=s.indexOf(o.id);return{...o,sort_order:u!==-1?u:o.sort_order,updated_at:new Date().toISOString()}}).sort((o,u)=>o.sort_order-u.sort_order),await this.updateHeroSettings(n)}catch(n){throw console.error("Error reordering slides:",n),n}}async initializeAdvancedSettings(){try{const s=await this.getHeroSettings();await this.updateHeroSettings(s)}catch(s){throw console.error("Error initializing advanced settings:",s),s}}async toggleSlideStatus(s){try{const n=await this.getHeroSettings(),o=n.slides.findIndex(u=>u.id===s);if(o===-1)throw new Error("Slide not found");n.slides[o].is_active=!n.slides[o].is_active,n.slides[o].updated_at=new Date().toISOString(),await this.updateHeroSettings(n)}catch(n){throw console.error("Error toggling slide status:",n),n}}generateSlideId(){return`slide_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getDefaultHeroSettings(){return{autoplay:!0,autoplay_delay:5e3,show_arrows:!1,show_dots:!0,show_progress:!0,transition_effect:"slide",transition_duration:800,enable_swipe:!0,pause_on_hover:!0,infinite_loop:!0,global_typography:{title_font_family:"Inter, sans-serif",title_font_family_ar:"Tajawal, sans-serif",title_font_size:"3rem",title_font_size_ar:"3rem",title_font_weight:700,title_font_weight_ar:700,title_color:"#ffffff",title_color_ar:"#ffffff",subtitle_font_family:"Inter, sans-serif",subtitle_font_family_ar:"Tajawal, sans-serif",subtitle_font_size:"1.25rem",subtitle_font_size_ar:"1.25rem",subtitle_font_weight:500,subtitle_font_weight_ar:500,subtitle_color:"#e5e7eb",subtitle_color_ar:"#e5e7eb",description_font_family:"Inter, sans-serif",description_font_family_ar:"Tajawal, sans-serif",description_font_size:"1rem",description_font_size_ar:"1rem",description_font_weight:400,description_font_weight_ar:400,description_color:"#d1d5db",description_color_ar:"#d1d5db"},global_animation:{title_animation:"fadeIn",title_animation_delay:0,title_animation_duration:1e3,subtitle_animation:"fadeIn",subtitle_animation_delay:300,subtitle_animation_duration:1e3,description_animation:"fadeIn",description_animation_delay:600,description_animation_duration:1e3,buttons_animation:"fadeIn",buttons_animation_delay:900,buttons_animation_duration:1e3},global_button_settings:{primary_button_style:{background_color:"#d97706",text_color:"#ffffff",border_radius:"0.375rem",font_size:"1rem",font_weight:500,padding:"0.75rem 1.5rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition_duration:300,hover_background_color:"#b45309",hover_transform:"translateY(-2px)",hover_shadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},secondary_button_style:{background_color:"rgba(255,255,255,0.1)",text_color:"#ffffff",border_color:"rgba(255,255,255,0.3)",border_width:1,border_radius:"0.375rem",font_size:"1rem",font_weight:500,padding:"0.75rem 1.5rem",hover_background_color:"rgba(255,255,255,0.2)"}},global_layout:{container_max_width:"1200px",content_width:"100%",content_padding:"2rem",content_margin:"0 auto",vertical_alignment:"center",horizontal_alignment:"center",background_overlay_shape:"none",background_overlay_shape_color:"#000000",background_overlay_shape_opacity:50,responsive_breakpoints:{mobile:{title_font_size:"2rem",content_padding:"1rem"},tablet:{title_font_size:"3rem",content_padding:"1.5rem"},desktop:{title_font_size:"4rem",content_padding:"2rem"}}},global_effects:{parallax_enabled:!1,parallax_speed:.5,ken_burns_effect:!1,ken_burns_direction:"zoom-in",ken_burns_duration:10,particle_system:{enabled:!1,type:"stars",density:50,speed:5,color:"#ffffff",opacity:50},gradient_overlay:{enabled:!1,type:"linear",direction:"to bottom",opacity:50,colors:["#000000","#ffffff"]}},slides:[{id:"default_slide_1",title:"Discover Premium Coffee",title_ar:"  ",subtitle:"Roasted with passion, served with excellence",subtitle_ar:"   ",description:"Experience the finest coffee blends from around the world, carefully selected and expertly roasted.",description_ar:"           .",media_type:"video",media_url:"/video/back.mp4",blur_intensity:6,brightness:50,contrast:130,saturation:80,duration:6,button_text:"Shop Now",button_text_ar:" ",button_link:"/shop",button_variant:"primary",secondary_button_text:"About Us",secondary_button_text_ar:" ",secondary_button_link:"/about",text_position:"center",text_alignment:"center",overlay_opacity:70,overlay_color:"#000000",is_active:!0,sort_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),typography:{title_font_family:"Inter, sans-serif",title_font_family_ar:"Tajawal, sans-serif",title_font_size:"3rem",title_font_size_ar:"3rem",title_font_weight:700,title_font_weight_ar:700,title_color:"#ffffff",title_color_ar:"#ffffff",subtitle_font_family:"Inter, sans-serif",subtitle_font_family_ar:"Tajawal, sans-serif",subtitle_font_size:"1.25rem",subtitle_font_size_ar:"1.25rem",subtitle_font_weight:500,subtitle_font_weight_ar:500,subtitle_color:"#e5e7eb",subtitle_color_ar:"#e5e7eb",description_font_family:"Inter, sans-serif",description_font_family_ar:"Tajawal, sans-serif",description_font_size:"1rem",description_font_size_ar:"1rem",description_font_weight:400,description_font_weight_ar:400,description_color:"#d1d5db",description_color_ar:"#d1d5db"},animation:{title_animation:"fadeIn",title_animation_delay:0,title_animation_duration:1e3,subtitle_animation:"fadeIn",subtitle_animation_delay:300,subtitle_animation_duration:1e3,description_animation:"fadeIn",description_animation_delay:600,description_animation_duration:1e3,buttons_animation:"fadeIn",buttons_animation_delay:900,buttons_animation_duration:1e3},button_settings:{primary_button_style:{background_color:"#d97706",text_color:"#ffffff",border_radius:"0.375rem",font_size:"1rem",font_weight:500,padding:"0.75rem 1.5rem",shadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition_duration:300,hover_background_color:"#b45309",hover_transform:"translateY(-2px)",hover_shadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},secondary_button_style:{background_color:"rgba(255,255,255,0.1)",text_color:"#ffffff",border_color:"rgba(255,255,255,0.3)",border_width:1,border_radius:"0.375rem",font_size:"1rem",font_weight:500,padding:"0.75rem 1.5rem",hover_background_color:"rgba(255,255,255,0.2)"}},layout:{container_max_width:"1200px",content_width:"100%",content_padding:"2rem",content_margin:"0 auto",vertical_alignment:"center",horizontal_alignment:"center",background_overlay_shape:"none",background_overlay_shape_color:"#000000",background_overlay_shape_opacity:50,responsive_breakpoints:{mobile:{title_font_size:"2rem",content_padding:"1rem"},tablet:{title_font_size:"3rem",content_padding:"1.5rem"},desktop:{title_font_size:"4rem",content_padding:"2rem"}}},effects:{parallax_enabled:!1,parallax_speed:.5,ken_burns_effect:!1,ken_burns_direction:"zoom-in",ken_burns_duration:10,particle_system:{enabled:!1,type:"stars",density:50,speed:5,color:"#ffffff",opacity:50},gradient_overlay:{enabled:!1,type:"linear",direction:"to bottom",opacity:50,colors:["#000000","#ffffff"]}}}]}}}const ms=new i1;class n1{cache=new Map;hitCount=0;missCount=0;maxSize=50*1024*1024;version="1.0.0";compress(s){try{return btoa(JSON.stringify(s))}catch{return JSON.stringify(s)}}decompress(s){try{return JSON.parse(atob(s))}catch{return JSON.parse(s)}}calculateSize(s){return new Blob([JSON.stringify(s)]).size}evictLRU(){const s=Array.from(this.cache.entries());s.sort((u,c)=>{const m={high:3,medium:2,low:1},g=m[u[1].priority],x=m[c[1].priority];return g!==x?g-x:u[1].timestamp-c[1].timestamp}).slice(0,Math.floor(s.length*.3)).forEach(([u])=>this.cache.delete(u))}checkSize(){this.getCurrentSize()>this.maxSize&&this.evictLRU()}getCurrentSize(){let s=0;return this.cache.forEach(n=>{s+=this.calculateSize(n)}),s}set(s,n,o={}){const{ttl:u=5*60*1e3,compression:c=!1,priority:m="medium",tags:g=[],persist:x=!1}=o,j={data:c?this.compress(n):n,timestamp:Date.now(),ttl:u,tags:g,priority:m,compressed:c,version:this.version};if(this.cache.set(s,j),x)try{const y=JSON.stringify(j).length,w=this.getAvailableStorage();y>w&&this.clearOldItems(),localStorage.setItem(`cache_${s}`,JSON.stringify(j))}catch(y){if(y instanceof DOMException&&y.name==="QuotaExceededError"){this.clearOldItems();try{localStorage.setItem(`cache_${s}`,JSON.stringify(j))}catch{}}}this.checkSize()}get(s){let n=this.cache.get(s);if(!n)try{const o=localStorage.getItem(`cache_${s}`);o&&(n=JSON.parse(o),n&&this.cache.set(s,n))}catch(o){console.warn("Failed to retrieve from localStorage:",o)}return n?Date.now()-n.timestamp>n.ttl?(this.delete(s),this.missCount++,null):n.version!==this.version?(this.delete(s),this.missCount++,null):(this.hitCount++,n.timestamp=Date.now(),n.compressed?this.decompress(n.data):n.data):(this.missCount++,null)}isStale(s,n){const o=this.cache.get(s);return o?Date.now()-o.timestamp>(n||o.ttl*.8):!0}delete(s){const n=this.cache.delete(s);try{localStorage.removeItem(`cache_${s}`)}catch(o){console.warn("Failed to remove from localStorage:",o)}return n}clearByTags(s){let n=0;return this.cache.forEach((o,u)=>{s.some(c=>o.tags.includes(c))&&(this.delete(u),n++)}),n}clear(){this.cache.clear(),this.hitCount=0,this.missCount=0;try{Object.keys(localStorage).forEach(s=>{s.startsWith("cache_")&&localStorage.removeItem(s)})}catch(s){console.warn("Failed to clear localStorage cache:",s)}}cleanup(){let s=0;const n=Date.now();return this.cache.forEach((o,u)=>{n-o.timestamp>o.ttl&&(this.delete(u),s++)}),s}getStats(){const s=this.hitCount+this.missCount;return{totalSize:this.getCurrentSize(),itemCount:this.cache.size,hitRate:s>0?this.hitCount/s*100:0,lastCleanup:Date.now()}}async preload(s,n={}){const o=s.map(async u=>{try{const c=await fetch(u);if(c.ok){const m=c.headers.get("content-type")||"";let g;m.includes("application/json")?g=await c.json():m.includes("text/")?g=await c.text():g={url:u,cached:!0,timestamp:Date.now()},this.set(u,g,{...n,tags:["preload"]})}}catch{}});await Promise.all(o)}getAvailableStorage(){try{let s=0;for(let o in localStorage)localStorage.hasOwnProperty(o)&&o.startsWith("cache_")&&(s+=localStorage[o].length);const n=5*1024*1024;return Math.max(0,n-s)}catch{return 0}}clearOldItems(){try{const n=Object.keys(localStorage).filter(u=>u.startsWith("cache_")).map(u=>{try{const c=JSON.parse(localStorage[u]);return{key:u,timestamp:c.timestamp||0}}catch{return{key:u,timestamp:0}}}).sort((u,c)=>u.timestamp-c.timestamp),o=Math.ceil(n.length*.25);for(let u=0;u<o;u++){localStorage.removeItem(n[u].key);const c=n[u].key.replace("cache_","");this.cache.delete(c)}}catch{Object.keys(localStorage).forEach(s=>{s.startsWith("cache_")&&localStorage.removeItem(s)}),this.cache.clear()}}}const Bs=new n1;function Mi(i,s,n={}){const[o,u]=_.useState(null),[c,m]=_.useState(!0),[g,x]=_.useState(null),{enabled:j=!0,staleWhileRevalidate:y=!0,refetchInterval:w,onError:A,onSuccess:h,...p}=n,E=_.useCallback(async(U=!1)=>{if(j){U||m(!0),x(null);try{const C=Bs.get(i);if(C){u(C),U||m(!1),h&&h(C),y&&Bs.isStale(i)&&setTimeout(()=>E(!0),0);return}const R=await s();Bs.set(i,R,p),u(R),h&&h(R)}catch(C){const R=C instanceof Error?C:new Error("Unknown error");x(R),A&&A(R)}finally{U||m(!1)}}},[i,j,y,s,A,h,p]);_.useEffect(()=>{E()},[E]),_.useEffect(()=>{if(!w)return;const U=setInterval(()=>{E(!0)},w);return()=>clearInterval(U)},[w,E]);const b=_.useCallback(async U=>{U?(Bs.set(i,U,p),u(U)):await E()},[i,p,E]),v=_.useCallback(()=>{Bs.delete(i),u(null),x(null)},[i]);return{data:o,loading:c,error:g,mutate:b,invalidate:v,refetch:()=>E()}}function l1(){const[i,s]=_.useState(null),[n,o]=_.useState(!1),u=_.useCallback(()=>{s(Bs.getStats())},[]),c=_.useCallback(async()=>{o(!0);try{Bs.clear(),u(),We.success("Cache cleared successfully")}catch{We.error("Failed to clear cache")}finally{o(!1)}},[u]),m=_.useCallback(async()=>{o(!0);try{const x=Bs.cleanup();u(),We.success(`Cleaned ${x} expired items`)}catch{We.error("Failed to cleanup cache")}finally{o(!1)}},[u]),g=_.useCallback(async x=>{o(!0);try{await Bs.preload(x,{ttl:30*60*1e3,priority:"high",persist:!0,tags:["critical","preload"]}),u()}catch{}finally{o(!1)}},[u]);return _.useEffect(()=>{u();const x=setInterval(()=>{Bs.cleanup(),u()},5*60*1e3);return()=>clearInterval(x)},[u]),{stats:i,loading:n,clearCache:c,cleanupExpired:m,preloadCritical:g,refreshStats:u}}const tb=_.createContext(void 0);function o1({children:i}){const[s,n]=_.useState(!0),{data:o,loading:u,refetch:c,invalidate:m}=Mi("products",async()=>(await we.products.list()).items,{ttl:10*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"high",tags:["products","critical"]}),{data:g,loading:x,refetch:j,invalidate:y}=Mi("categories",async()=>(await we.categories.list()).items,{ttl:15*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"high",tags:["categories","critical"]}),w=o||[],A=g||[],{data:h,loading:p,refetch:E,invalidate:b}=Mi("homepage-settings",()=>Pa.getHomepageSettings(),{ttl:30*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"medium",tags:["settings","homepage"]}),{data:v,loading:U,refetch:C,invalidate:R}=Mi("footer-settings",()=>Pa.getFooterSettings(),{ttl:30*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"medium",tags:["settings","footer"]}),{data:S,loading:N,refetch:z,invalidate:L}=Mi("categories-settings",()=>Pa.getCategoriesSettings(),{ttl:30*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"medium",tags:["settings","categories"]}),{data:T,loading:O,refetch:I,invalidate:H}=Mi("hero-settings",()=>ms.getHeroSettings(),{ttl:30*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"medium",tags:["settings","hero"]}),{data:W,loading:he,refetch:ee,invalidate:k}=Mi("newsletter-settings",()=>Pa.getNewsletterSettings(),{ttl:30*60*1e3,staleWhileRevalidate:!0,persist:!0,priority:"medium",tags:["settings","newsletter"]});_.useEffect(()=>{n(u||x)},[u,x,p,U,N,O,he]);const oe={products:w,categories:A,homepageSettings:h,footerSettings:v,categoriesSettings:S,heroSettings:T,newsletterSettings:W,loadingProducts:u,loadingCategories:x,loadingHomepageSettings:p,loadingFooterSettings:U,loadingCategoriesSettings:N,loadingHeroSettings:O,loadingNewsletterSettings:he,isInitialLoading:s,refreshProducts:c,refreshCategories:j,refreshHomepageSettings:E,refreshFooterSettings:C,refreshCategoriesSettings:z,refreshHeroSettings:I,refreshNewsletterSettings:ee,refreshAllData:async()=>{await Promise.allSettled([c(),j(),E(),C(),z(),I(),ee()])},getProduct:ce=>w.find(V=>V.id===ce),getProductBySlug:ce=>w.find(V=>V.slug===ce),getCategory:ce=>A.find(V=>V.id===ce),clearDataCache:()=>{m(),y(),b(),R(),L(),H(),k()}};return e.jsx(tb.Provider,{value:oe,children:i})}function yo(){const i=_.useContext(tb);if(i===void 0)throw new Error("useData must be used within a DataProvider");return i}function ab(){const{products:i,loadingProducts:s}=yo();return{products:i,loading:s}}function sb(){const{categories:i,loadingCategories:s}=yo();return{categories:i,loading:s}}function c1(){const{homepageSettings:i,loadingHomepageSettings:s}=yo();return{settings:i,loading:s}}function d1(){const{newsletterSettings:i,loadingNewsletterSettings:s}=yo();return{settings:i,loading:s}}function rb(){return d1()}function ib(i){var s,n,o="";if(typeof i=="string"||typeof i=="number")o+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(s=0;s<u;s++)i[s]&&(n=ib(i[s]))&&(o&&(o+=" "),o+=n)}else for(n in i)i[n]&&(o&&(o+=" "),o+=n);return o}function nb(){for(var i,s,n=0,o="",u=arguments.length;n<u;n++)(i=arguments[n])&&(s=ib(i))&&(o&&(o+=" "),o+=s);return o}const yv=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,bv=nb,Gh=(i,s)=>n=>{var o;if(s?.variants==null)return bv(i,n?.class,n?.className);const{variants:u,defaultVariants:c}=s,m=Object.keys(u).map(j=>{const y=n?.[j],w=c?.[j];if(y===null)return null;const A=yv(y)||yv(w);return u[j][A]}),g=n&&Object.entries(n).reduce((j,y)=>{let[w,A]=y;return A===void 0||(j[w]=A),j},{}),x=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((j,y)=>{let{class:w,className:A,...h}=y;return Object.entries(h).every(p=>{let[E,b]=p;return Array.isArray(b)?b.includes({...c,...g}[E]):{...c,...g}[E]===b})?[...j,w,A]:j},[]);return bv(i,m,x,n?.class,n?.className)},Yh="-",u1=i=>{const s=h1(i),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=i;return{getClassGroupId:m=>{const g=m.split(Yh);return g[0]===""&&g.length!==1&&g.shift(),lb(g,s)||m1(m)},getConflictingClassGroupIds:(m,g)=>{const x=n[m]||[];return g&&o[m]?[...x,...o[m]]:x}}},lb=(i,s)=>{if(i.length===0)return s.classGroupId;const n=i[0],o=s.nextPart.get(n),u=o?lb(i.slice(1),o):void 0;if(u)return u;if(s.validators.length===0)return;const c=i.join(Yh);return s.validators.find(({validator:m})=>m(c))?.classGroupId},jv=/^\[(.+)\]$/,m1=i=>{if(jv.test(i)){const s=jv.exec(i)[1],n=s?.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},h1=i=>{const{theme:s,classGroups:n}=i,o={nextPart:new Map,validators:[]};for(const u in n)hh(n[u],o,u,s);return o},hh=(i,s,n,o)=>{i.forEach(u=>{if(typeof u=="string"){const c=u===""?s:_v(s,u);c.classGroupId=n;return}if(typeof u=="function"){if(f1(u)){hh(u(o),s,n,o);return}s.validators.push({validator:u,classGroupId:n});return}Object.entries(u).forEach(([c,m])=>{hh(m,_v(s,c),n,o)})})},_v=(i,s)=>{let n=i;return s.split(Yh).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},f1=i=>i.isThemeGetter,g1=i=>{if(i<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,o=new Map;const u=(c,m)=>{n.set(c,m),s++,s>i&&(s=0,o=n,n=new Map)};return{get(c){let m=n.get(c);if(m!==void 0)return m;if((m=o.get(c))!==void 0)return u(c,m),m},set(c,m){n.has(c)?n.set(c,m):u(c,m)}}},fh="!",gh=":",p1=gh.length,x1=i=>{const{prefix:s,experimentalParseClassName:n}=i;let o=u=>{const c=[];let m=0,g=0,x=0,j;for(let p=0;p<u.length;p++){let E=u[p];if(m===0&&g===0){if(E===gh){c.push(u.slice(x,p)),x=p+p1;continue}if(E==="/"){j=p;continue}}E==="["?m++:E==="]"?m--:E==="("?g++:E===")"&&g--}const y=c.length===0?u:u.substring(x),w=v1(y),A=w!==y,h=j&&j>x?j-x:void 0;return{modifiers:c,hasImportantModifier:A,baseClassName:w,maybePostfixModifierPosition:h}};if(s){const u=s+gh,c=o;o=m=>m.startsWith(u)?c(m.substring(u.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:m,maybePostfixModifierPosition:void 0}}if(n){const u=o;o=c=>n({className:c,parseClassName:u})}return o},v1=i=>i.endsWith(fh)?i.substring(0,i.length-1):i.startsWith(fh)?i.substring(1):i,y1=i=>{const s=Object.fromEntries(i.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const u=[];let c=[];return o.forEach(m=>{m[0]==="["||s[m]?(u.push(...c.sort(),m),c=[]):c.push(m)}),u.push(...c.sort()),u}},b1=i=>({cache:g1(i.cacheSize),parseClassName:x1(i),sortModifiers:y1(i),...u1(i)}),j1=/\s+/,_1=(i,s)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:c}=s,m=[],g=i.trim().split(j1);let x="";for(let j=g.length-1;j>=0;j-=1){const y=g[j],{isExternal:w,modifiers:A,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:E}=n(y);if(w){x=y+(x.length>0?" "+x:x);continue}let b=!!E,v=o(b?p.substring(0,E):p);if(!v){if(!b){x=y+(x.length>0?" "+x:x);continue}if(v=o(p),!v){x=y+(x.length>0?" "+x:x);continue}b=!1}const U=c(A).join(":"),C=h?U+fh:U,R=C+v;if(m.includes(R))continue;m.push(R);const S=u(v,b);for(let N=0;N<S.length;++N){const z=S[N];m.push(C+z)}x=y+(x.length>0?" "+x:x)}return x};function w1(){let i=0,s,n,o="";for(;i<arguments.length;)(s=arguments[i++])&&(n=ob(s))&&(o&&(o+=" "),o+=n);return o}const ob=i=>{if(typeof i=="string")return i;let s,n="";for(let o=0;o<i.length;o++)i[o]&&(s=ob(i[o]))&&(n&&(n+=" "),n+=s);return n};function N1(i,...s){let n,o,u,c=m;function m(x){const j=s.reduce((y,w)=>w(y),i());return n=b1(j),o=n.cache.get,u=n.cache.set,c=g,g(x)}function g(x){const j=o(x);if(j)return j;const y=_1(x,n);return u(x,y),y}return function(){return c(w1.apply(null,arguments))}}const ia=i=>{const s=n=>n[i]||[];return s.isThemeGetter=!0,s},cb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,db=/^\((?:(\w[\w-]*):)?(.+)\)$/i,S1=/^\d+\/\d+$/,C1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,k1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,E1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dn=i=>S1.test(i),Je=i=>!!i&&!Number.isNaN(Number(i)),Xr=i=>!!i&&Number.isInteger(Number(i)),Um=i=>i.endsWith("%")&&Je(i.slice(0,-1)),pr=i=>C1.test(i),D1=()=>!0,O1=i=>k1.test(i)&&!A1.test(i),ub=()=>!1,R1=i=>E1.test(i),M1=i=>T1.test(i),I1=i=>!Ee(i)&&!Te(i),P1=i=>$n(i,fb,ub),Ee=i=>cb.test(i),Ii=i=>$n(i,gb,O1),Bm=i=>$n(i,F1,Je),wv=i=>$n(i,mb,ub),z1=i=>$n(i,hb,M1),zc=i=>$n(i,pb,R1),Te=i=>db.test(i),Wl=i=>Vn(i,gb),L1=i=>Vn(i,H1),Nv=i=>Vn(i,mb),U1=i=>Vn(i,fb),B1=i=>Vn(i,hb),Lc=i=>Vn(i,pb,!0),$n=(i,s,n)=>{const o=cb.exec(i);return o?o[1]?s(o[1]):n(o[2]):!1},Vn=(i,s,n=!1)=>{const o=db.exec(i);return o?o[1]?s(o[1]):n:!1},mb=i=>i==="position"||i==="percentage",hb=i=>i==="image"||i==="url",fb=i=>i==="length"||i==="size"||i==="bg-size",gb=i=>i==="length",F1=i=>i==="number",H1=i=>i==="family-name",pb=i=>i==="shadow",q1=()=>{const i=ia("color"),s=ia("font"),n=ia("text"),o=ia("font-weight"),u=ia("tracking"),c=ia("leading"),m=ia("breakpoint"),g=ia("container"),x=ia("spacing"),j=ia("radius"),y=ia("shadow"),w=ia("inset-shadow"),A=ia("text-shadow"),h=ia("drop-shadow"),p=ia("blur"),E=ia("perspective"),b=ia("aspect"),v=ia("ease"),U=ia("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...R(),Te,Ee],N=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],L=()=>[Te,Ee,x],T=()=>[Dn,"full","auto",...L()],O=()=>[Xr,"none","subgrid",Te,Ee],I=()=>["auto",{span:["full",Xr,Te,Ee]},Xr,Te,Ee],H=()=>[Xr,"auto",Te,Ee],W=()=>["auto","min","max","fr",Te,Ee],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...L()],B=()=>[Dn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],F=()=>[i,Te,Ee],ue=()=>[...R(),Nv,wv,{position:[Te,Ee]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",U1,P1,{size:[Te,Ee]}],oe=()=>[Um,Wl,Ii],ce=()=>["","none","full",j,Te,Ee],V=()=>["",Je,Wl,Ii],K=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Je,Um,Nv,wv],De=()=>["","none",p,Te,Ee],Ye=()=>["none",Je,Te,Ee],Ke=()=>["none",Je,Te,Ee],Qe=()=>[Je,Te,Ee],$e=()=>[Dn,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pr],breakpoint:[pr],color:[D1],container:[pr],"drop-shadow":[pr],ease:["in","out","in-out"],font:[I1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pr],shadow:[pr],spacing:["px",Je],text:[pr],"text-shadow":[pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dn,Ee,Te,b]}],container:["container"],columns:[{columns:[Je,Ee,Te,g]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Xr,"auto",Te,Ee]}],basis:[{basis:[Dn,"full","auto",g,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Dn,"auto","initial","none",Ee]}],grow:[{grow:["",Je,Te,Ee]}],shrink:[{shrink:["",Je,Te,Ee]}],order:[{order:[Xr,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[g,"screen",...B()]}],"min-w":[{"min-w":[g,"screen","none",...B()]}],"max-w":[{"max-w":[g,"screen","none","prose",{screen:[m]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Wl,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Te,Bm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Um,Ee]}],"font-family":[{font:[L1,Ee,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,Te,Ee]}],"line-clamp":[{"line-clamp":[Je,"none",Te,Bm]}],leading:[{leading:[c,...L()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Te,Ii]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Je,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xr,Te,Ee],radial:["",Te,Ee],conic:[Xr,Te,Ee]},B1,z1]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...K(),"hidden","none"]}],"divide-style":[{divide:[...K(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...K(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Te,Ee]}],"outline-w":[{outline:["",Je,Wl,Ii]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",y,Lc,zc]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",w,Lc,zc]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Je,Ii]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",A,Lc,zc]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Je,Te,Ee]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:De()}],brightness:[{brightness:[Je,Te,Ee]}],contrast:[{contrast:[Je,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",h,Lc,zc]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Je,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Je,Te,Ee]}],invert:[{invert:["",Je,Te,Ee]}],saturate:[{saturate:[Je,Te,Ee]}],sepia:[{sepia:["",Je,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":De()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Je,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Te,Ee]}],ease:[{ease:["linear","initial",v,Te,Ee]}],delay:[{delay:[Je,Te,Ee]}],animate:[{animate:["none",U,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Te,Ee]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:Ye()}],"rotate-x":[{"rotate-x":Ye()}],"rotate-y":[{"rotate-y":Ye()}],"rotate-z":[{"rotate-z":Ye()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Je,Wl,Ii,Bm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$1=N1(q1);function _e(...i){return $1(nb(i))}const Wh=Gh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90 dark:bg-primary dark:text-primary-foreground dark:hover:bg-primary/80 dark:shadow-lg",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60 dark:hover:bg-destructive/70",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-background/80 dark:border-input dark:hover:bg-accent/80 dark:text-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80 dark:bg-secondary/80 dark:text-secondary-foreground dark:hover:bg-secondary/70 dark:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/30 dark:text-foreground dark:hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function q({className:i,variant:s,size:n,asChild:o=!1,...u}){const c=o?Gv:"button";return e.jsx(c,{"data-slot":"button",className:_e(Wh({variant:s,size:n,className:i})),...u})}const V1=Gh("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Se({className:i,variant:s,asChild:n=!1,...o}){const u=n?Gv:"span";return e.jsx(u,{"data-slot":"badge",className:_e(V1({variant:s}),i),...o})}function Qh({...i}){return e.jsx(xw,{"data-slot":"dropdown-menu",...i})}function Kh({...i}){return e.jsx(vw,{"data-slot":"dropdown-menu-trigger",...i})}function Xh({className:i,sideOffset:s=4,...n}){return e.jsx(yw,{children:e.jsx(bw,{"data-slot":"dropdown-menu-content",sideOffset:s,className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",i),...n})})}function Ln({className:i,inset:s,variant:n="default",...o}){return e.jsx(jw,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":n,className:_e("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...o})}function Sv({className:i}={}){const{theme:s,setTheme:n}=ci(),{t:o}=Me(),u=()=>s==="system"?e.jsx(th,{className:"h-[1.2rem] w-[1.2rem]"}):s==="dark"?e.jsx(eh,{className:"h-[1.2rem] w-[1.2rem]"}):e.jsx(Jm,{className:"h-[1.2rem] w-[1.2rem]"});return e.jsxs(Qh,{children:[e.jsx(Kh,{asChild:!0,children:e.jsxs(q,{variant:"outline",size:"icon",className:i,children:[u(),e.jsx("span",{className:"sr-only",children:o("common.toggleTheme")})]})}),e.jsxs(Xh,{align:"end",children:[e.jsxs(Ln,{onClick:()=>n("light"),children:[e.jsx(Jm,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:o("common.themeLight")})]}),e.jsxs(Ln,{onClick:()=>n("dark"),children:[e.jsx(eh,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:o("common.themeDark")})]}),e.jsxs(Ln,{onClick:()=>n("system"),children:[e.jsx(th,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:o("common.themeSystem")})]})]})]})}function Fm({className:i}={}){const{i18n:s,t:n}=Me(),o=u=>{s.changeLanguage(u),document.documentElement.lang=u,document.documentElement.dir=u==="ar"?"rtl":"ltr",u==="ar"?document.body.classList.add("font-arabic"):document.body.classList.remove("font-arabic")};return _.useEffect(()=>{const u=s.language;document.documentElement.dir=u==="ar"?"rtl":"ltr",u==="ar"?document.body.classList.add("font-arabic"):document.body.classList.remove("font-arabic")},[s.language]),e.jsxs(Qh,{children:[e.jsx(Kh,{asChild:!0,children:e.jsxs(q,{variant:"outline",size:"icon",className:i,children:[e.jsx(_w,{className:"h-[1.2rem] w-[1.2rem]"}),e.jsx("span",{className:"sr-only",children:n("common.toggleLanguage")})]})}),e.jsxs(Xh,{align:"end",children:[e.jsxs(Ln,{onClick:()=>o("en"),children:[e.jsx("span",{className:"mr-2",children:""}),"English"]}),e.jsxs(Ln,{onClick:()=>o("ar"),children:[e.jsx("span",{className:"mr-2",children:""}),""]})]})]})}function Cv({className:i}={}){const{currency:s,setCurrency:n}=Fa(),{t:o}=Me(),u=[{code:"USD",flag:"",name:o("currency.usd")},{code:"SAR",flag:"",name:o("currency.sar")},{code:"OMR",flag:"",name:o("currency.omr")}];return e.jsxs(Qh,{children:[e.jsx(Kh,{asChild:!0,children:e.jsxs(q,{variant:"outline",size:"icon",className:i,children:[e.jsx(id,{className:"h-[1.2rem] w-[1.2rem]"}),e.jsx("span",{className:"sr-only",children:o("common.toggleCurrency")})]})}),e.jsx(Xh,{align:"end",children:u.map(c=>e.jsxs(Ln,{onClick:()=>n(c.code),className:s===c.code?"bg-accent":"",children:[e.jsx("span",{className:"mr-2",children:c.flag}),e.jsx("span",{className:"font-medium",children:c.code}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:c.name})]},c.code))})]})}function kv({className:i}={}){const{t:s}=Me(),[n,o]=_.useState(!1),[u,c]=_.useState(!1);_.useEffect(()=>{m(),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",x=>{x.data?.type==="SW_UPDATE_AVAILABLE"&&o(!0)})},[]);const m=async()=>{try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.getRegistration();if(x){if(x.waiting){o(!0);return}await x.update(),setTimeout(async()=>{const j=await navigator.serviceWorker.getRegistration();j&&j.waiting&&o(!0)},1e3)}}}catch(x){console.error("Update check failed:",x)}},g=async()=>{if(!n){te(s("common.noUpdatesAvailable"));return}c(!0);try{if("serviceWorker"in navigator){const x=await navigator.serviceWorker.getRegistration();x&&x.waiting?(x.waiting.postMessage({type:"SKIP_WAITING"}),te.success(s("common.updateInstalled")),setTimeout(()=>{window.location.reload()},1e3)):te(s("common.noUpdatesAvailable"))}else te.error(s("common.serviceWorkerNotSupported"))}catch(x){console.error("Update failed:",x),te.error(s("common.updateCheckFailed"))}finally{c(!1)}};return n?e.jsxs(q,{variant:"outline",size:"icon",className:i,onClick:g,disabled:u,title:s("common.installUpdate"),children:[e.jsx(nd,{className:"h-[1.2rem] w-[1.2rem]"}),e.jsx("span",{className:"sr-only",children:s("common.installUpdate")})]}):null}function bo({stock:i,className:s,showIcon:n=!0,variant:o="default",lowStockThreshold:u=10,outOfStockThreshold:c=0}){const{i18n:m}=Me(),g=m.language==="ar",j=i<=c?{status:"out-of-stock",label:g?" ":"Out of Stock",color:"destructive",bgColor:"bg-red-50 dark:bg-red-950/20",textColor:"text-red-700 dark:text-red-400",borderColor:"border-red-200 dark:border-red-800",icon:$s}:i<=u?{status:"low-stock",label:g?" ":"Low Stock",color:"secondary",bgColor:"bg-amber-50 dark:bg-amber-950/20",textColor:"text-amber-700 dark:text-amber-400",borderColor:"border-amber-200 dark:border-amber-800",icon:Vs}:{status:"in-stock",label:g?"":"In Stock",color:"default",bgColor:"bg-green-50 dark:bg-green-950/20",textColor:"text-green-700 dark:text-green-400",borderColor:"border-green-200 dark:border-green-800",icon:Ca},y=j.icon;if(o==="compact"){const A=j.status==="low-stock"?g?`${i}  `:`Only ${i} left`:j.label;return e.jsxs("div",{className:_e("inline-flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium border",j.bgColor,j.textColor,j.borderColor,s),children:[n&&e.jsx(y,{className:"h-3 w-3"}),e.jsx("span",{children:A})]})}if(o==="detailed")return e.jsxs("div",{className:_e("flex items-center justify-between p-3 rounded-lg border",j.bgColor,j.borderColor,s),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx(y,{className:_e("h-4 w-4",j.textColor)}),e.jsx("span",{className:_e("font-medium",j.textColor),children:j.label})]}),e.jsxs("div",{className:_e("text-sm font-bold",j.textColor),children:[i>0?i:0," ",g?"":"items"]})]});const w=j.status==="low-stock"?g?`${i}  `:`Only ${i} left`:j.label;return e.jsxs(Se,{variant:j.color,className:_e("flex items-center gap-1.5 text-xs",j.status==="out-of-stock"&&"bg-red-100 text-red-800 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400",j.status==="low-stock"&&"bg-amber-100 text-amber-800 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400",j.status==="in-stock"&&"bg-green-100 text-green-800 hover:bg-green-100 dark:bg-green-900/20 dark:text-green-400",s),children:[n&&e.jsx(y,{className:"h-3 w-3"}),w]})}function G1({...i}){return e.jsx(kh,{"data-slot":"sheet",...i})}function Y1({...i}){return e.jsx(Ah,{"data-slot":"sheet-trigger",...i})}function W1({...i}){return e.jsx(Dh,{"data-slot":"sheet-portal",...i})}function Q1({className:i,...s}){return e.jsx(Oh,{"data-slot":"sheet-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...s})}function K1({className:i,children:s,side:n="right",...o}){return e.jsxs(W1,{children:[e.jsx(Q1,{}),e.jsxs(Eh,{"data-slot":"sheet-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",i),...o,children:[s,e.jsxs(ld,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none rtl:right-auto rtl:left-4 ltr:right-4 ltr:left-auto",children:[e.jsx(St,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function X1({className:i,...s}){return e.jsx("div",{"data-slot":"sheet-header",className:_e("flex flex-col gap-1.5 p-4",i),...s})}function Z1({className:i,...s}){return e.jsx(Th,{"data-slot":"sheet-title",className:_e("text-foreground font-semibold",i),...s})}function J1(){const{t:i,i18n:s}=Me(),{theme:n}=ci(),{cart:o,updateQuantity:u,removeFromCart:c,getTotalItems:m,getTotalPrice:g}=di(),{formatPrice:x,currency:j}=Fa(),{currentUser:y}=Ws(),w=s.language==="ar",[A,h]=_.useState(!1),[p,E]=_.useState([]),b=li(),v=(S,N)=>{let z=0;if(S.properties&&S.properties.some(T=>T.affects_price)&&S.properties){if(N&&Object.keys(N).length>0)for(const[T,O]of Object.entries(N)){const I=S.properties.find(H=>H.name===T);if(I&&I.affects_price){const H=I.options.find(W=>W.value===O);if(H){H.price_omr?H.on_sale&&H.sale_price_omr?z=H.sale_price_omr:z=H.price_omr:(H.price_modifier_omr||H.price_modifier)&&(z=H.price_modifier_omr||H.price_modifier||0);break}}}if(z===0){const T=S.properties.find(O=>O.affects_price);if(T&&T.options.length>0){const O=T.options[0];O.price_omr?O.on_sale&&O.sale_price_omr?z=O.sale_price_omr:z=O.price_omr:(O.price_modifier_omr||O.price_modifier)&&(z=O.price_modifier_omr||O.price_modifier||0)}}}else S.sale_price_omr&&S.sale_price_omr<(S.price_omr||0)?z=S.sale_price_omr:z=S.price_omr||0;return z*Nt[j]};_.useEffect(()=>{(async()=>{try{const N=await we.categories.list();E(N.items)}catch(N){console.error("Error loading categories:",N)}})()},[]);const U=S=>{const N=p.find(z=>z.id===S);return N?s.language==="ar"&&N.name_ar||N.name:s.language==="ar"?"":"General"},C=m(),R=g();return e.jsxs(G1,{open:A,onOpenChange:h,children:[e.jsx(Y1,{asChild:!0,children:e.jsxs(q,{variant:"outline",size:"icon",className:"h-9 w-9 relative bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white transition-all duration-200",children:[e.jsx(ri,{className:"h-4 w-4"}),C>0&&e.jsx(Se,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:C})]})}),e.jsx(K1,{side:w?"right":"left",className:"w-full sm:max-w-lg p-0 flex flex-col",children:e.jsxs("div",{className:"flex flex-col h-full max-h-screen",children:[e.jsx(X1,{className:"p-6 pb-4 flex-shrink-0",children:e.jsxs(Z1,{className:"flex items-center gap-2",children:[e.jsx(ri,{className:"h-5 w-5"}),i("cart.title"),C>0&&e.jsxs(Se,{variant:"secondary",children:[C," ",i(C===1?"cart.item":"cart.items")]})]})}),e.jsx("div",{className:"flex-1 flex flex-col px-6 min-h-0",children:!o||!o.items||o.items.length===0?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("img",{src:n==="dark"?"/images/logo/logo-light.png":"/images/logo/logo-dark.png",alt:"SpiritHub Cafe Logo",className:"h-20 w-auto object-contain mx-auto opacity-50"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:i("cart.empty")}),e.jsx("p",{className:"text-muted-foreground",children:i("cart.emptyDescription")})]}),e.jsx(q,{onClick:()=>{h(!1),setTimeout(()=>b("/shop"),200)},children:i("cart.shopNow")})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto py-2 space-y-4 min-h-0 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:o.items?.map(S=>e.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg bg-card",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-950 rounded-md flex items-center justify-center flex-shrink-0 overflow-hidden",children:S.product?.image||S.product?.image_url||S.product?.images?.[0]||S.product?.gallery?.[0]?e.jsx("img",{src:S.product.image||S.product.image_url||S.product.images?.[0]||S.product.gallery?.[0]||"/images/logo-s.png",alt:s.language==="ar"&&S.product.name_ar||S.product.name,className:"w-full h-full object-cover",onError:N=>{N.currentTarget.src="/images/logo-s.png"}}):e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-10 w-10 object-contain"})}),e.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h4",{className:"font-medium text-sm leading-tight",children:s.language==="ar"?S.product?.name_ar:S.product?.name}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>c(S.id),className:"h-6 w-6 p-0 hover:bg-destructive/10 flex-shrink-0",children:e.jsx(St,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:S.product?.category_id?U(S.product.category_id):s.language==="ar"?"":"General"}),S.selectedProperties&&Object.keys(S.selectedProperties).length>0&&e.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:Object.entries(S.selectedProperties).map(([N,z])=>{const L=S.product?.properties?.find(I=>I.name===N),T=L?.options?.find(I=>I.value===z),O=s.language==="ar"&&T?.label_ar||T?.label;return e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s.language==="ar"&&L?.name_ar||L?.name,":"]}),e.jsx("span",{children:O})]},N)})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center ltr",children:[e.jsx(q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-r-none",onClick:()=>u(S.id,S.quantity-1),disabled:S.quantity<=1,children:e.jsx(Rh,{className:"h-3 w-3"})}),e.jsx("div",{className:"flex h-8 w-12 items-center justify-center border-t border-b bg-background text-sm font-medium",children:S.quantity}),e.jsx(q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-l-none",onClick:()=>u(S.id,S.quantity+1),children:e.jsx(Ba,{className:"h-3 w-3"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-amber-600",children:S.product&&(()=>{const N=v(S.product,S.selectedProperties);return x(N*S.quantity)})()}),e.jsx(bo,{stock:S.product?.stock_quantity||S.product?.stock||0,variant:"compact",lowStockThreshold:5})]})]})]})]},S.id))}),e.jsxs("div",{className:"border-t pt-4 pb-6 space-y-4 flex-shrink-0 bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold",children:[e.jsx("span",{children:i("cart.total")}),e.jsx("span",{className:"text-amber-600 currency",children:x(R)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"w-full",onClick:()=>{if(!y){const S=s.language==="ar";te.error(S?"     ":"Please log in to proceed to checkout"),h(!1),setTimeout(()=>b("/login",{state:{from:"/checkout"}}),200);return}h(!1),setTimeout(()=>b("/checkout"),200)},children:i("cart.checkout")}),e.jsx(q,{variant:"outline",className:"w-full",onClick:()=>{h(!1),setTimeout(()=>b("/shop"),200)},children:i("cart.continueShopping")})]})]})]})})]})})]})}const Av="spirithub_wishlist";class ek{getLocalWishlist(){try{const s=localStorage.getItem(Av);if(!s)return[];const n=JSON.parse(s);return Array.isArray(n)?n:[]}catch(s){return console.error("Error reading wishlist from localStorage:",s),[]}}saveLocalWishlist(s){try{localStorage.setItem(Av,JSON.stringify(s))}catch(n){console.error("Error saving wishlist to localStorage:",n)}}async addToWishlist(s,n){try{if(await this.isInWishlist(s,n))throw new Error("Product already in wishlist");const u=this.getLocalWishlist(),c={id:`${n}_${Date.now()}_${Math.random()}`,user_id:s,product_id:n,created_at:new Date().toISOString()};u.push(c),this.saveLocalWishlist(u)}catch(o){throw console.error("Error adding to wishlist:",o),o}}async removeFromWishlist(s,n){try{const u=this.getLocalWishlist().filter(c=>c.product_id!==n);this.saveLocalWishlist(u)}catch(o){throw console.error("Error removing from wishlist:",o),o}}async isInWishlist(s,n){try{return this.getLocalWishlist().some(u=>u.product_id===n)}catch(o){return console.error("Error checking wishlist:",o),!1}}async getUserWishlist(s){try{return this.getLocalWishlist()}catch(n){return console.error("Error getting wishlist:",n),[]}}async toggleWishlist(s,n){try{return await this.isInWishlist(s,n)?(await this.removeFromWishlist(s,n),!1):(await this.addToWishlist(s,n),!0)}catch(o){throw console.error("Error toggling wishlist:",o),o}}}const Ql=new ek,jo=()=>{const{firebaseUser:i}=Ws(),{t:s}=Me(),[n,o]=_.useState([]),[u,c]=_.useState(!1),[m,g]=_.useState(new Set);_.useEffect(()=>{(async()=>{c(!0);try{const p=i?.uid||"guest",E=await Ql.getUserWishlist(p);o(E),g(new Set(E.map(b=>b.product_id)))}catch(p){console.error("Error loading wishlist:",p),o([]),g(new Set)}finally{c(!1)}})()},[i]);const x=async()=>{try{const h=i?.uid||"guest",p=await Ql.getUserWishlist(h);o(p),g(new Set(p.map(E=>E.product_id)))}catch(h){console.error("Error refreshing wishlist:",h)}};return{wishlist:n,wishlistItems:m,loading:u,addToWishlist:async h=>{try{c(!0);const p=i?.uid||"guest";return await Ql.addToWishlist(p,h),await x(),te.success(s("wishlist.addedToWishlist")||"Added to wishlist"),!0}catch(p){return console.error("Error adding to wishlist:",p),te.error("Failed to add to wishlist"),!1}finally{c(!1)}},removeFromWishlist:async h=>{try{c(!0);const p=i?.uid||"guest";return await Ql.removeFromWishlist(p,h),await x(),te.success(s("wishlist.removedFromWishlist")||"Removed from wishlist"),!0}catch(p){return console.error("Error removing from wishlist:",p),te.error("Failed to remove from wishlist"),!1}finally{c(!1)}},toggleWishlist:async h=>{try{c(!0);const p=i?.uid||"guest",E=await Ql.toggleWishlist(p,h);return await x(),E?te.success(s("wishlist.addedToWishlist")||"Added to wishlist"):te.success(s("wishlist.removedFromWishlist")||"Removed from wishlist"),E}catch(p){return console.error("Error toggling wishlist:",p),te.error("Failed to update wishlist"),!1}finally{c(!1)}},isInWishlist:h=>m.has(h),wishlistCount:n.length,refreshWishlist:x}};function Zh(){const[i,s]=_.useState(0),[n,o]=_.useState(!0),[u,c]=_.useState(null),m=async()=>{try{o(!0),c(null);const j=(await we.orders.list()).items.filter(y=>(y.payment_status==="paid"||y.payment_status==="partially_paid")&&(y.status==="confirmed"||y.status==="preparing"));s(j.length)}catch(x){console.error("Error fetching pending orders:",x),c("Failed to fetch pending orders"),s(0)}finally{o(!1)}},g=()=>{m()};return _.useEffect(()=>{m();const x=setInterval(m,3e4);return()=>clearInterval(x)},[]),{pendingCount:i,loading:n,error:u,refreshCount:g}}function tk(){const[i,s]=_.useState(!1);return _.useEffect(()=>{if((async()=>{try{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistration();if(o){if(o.waiting){s(!0);return}await o.update(),setTimeout(async()=>{const u=await navigator.serviceWorker.getRegistration();u&&u.waiting&&s(!0)},1e3)}}}catch(o){console.error("Update check failed:",o)}})(),"serviceWorker"in navigator){const o=u=>{u.data?.type==="SW_UPDATE_AVAILABLE"&&s(!0)};return navigator.serviceWorker.addEventListener("message",o),()=>{navigator.serviceWorker.removeEventListener("message",o)}}},[]),i}const xb=_.memo(()=>{const{t:i,i18n:s}=Me(),{resolvedTheme:n}=ci(),o=Ws(),{logout:u}=o,{getTotalItems:c,getTotalPrice:m}=di(),{wishlistCount:g}=jo(),{pendingCount:x}=Zh(),j=qn(),y=li(),[w,A]=_.useState(!1),[h,p]=_.useState([]),[E,b]=_.useState(!0),[v,U]=_.useState(!1),C=s.language==="ar",R=tk(),S=c(),N=m(),z=j.pathname==="/";_.useEffect(()=>{if(!z)return;const I=()=>{const H=window.pageYOffset||document.documentElement.scrollTop;U(H>0)};return U(!1),window.addEventListener("scroll",I,{passive:!0}),I(),()=>window.removeEventListener("scroll",I)},[z]),_.useEffect(()=>{(async()=>{try{b(!0);const H=await we.categories.list();p(H.items)}catch(H){console.error("Error loading categories:",H)}finally{b(!1)}})()},[]),_.useEffect(()=>{A(!1)},[j.pathname]),_.useEffect(()=>{const I=()=>{window.innerWidth>=768&&A(!1)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),_.useEffect(()=>(w?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[w]);const L=[{href:"/",label:i("navigation.home")},{href:"/about",label:i("navigation.about")},{href:"/contact",label:i("navigation.contact")}],T=I=>j.pathname===I,O=()=>{u(),A(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("nav",{className:_e("sticky top-0 w-full nav-smooth-transition","z-20",w&&"z-[60] shadow-2xl",z&&!v?"bg-transparent backdrop-blur-0 border-transparent shadow-none":"nav-coffee border-b"),children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 items-center justify-between nav-justify-between max-w-7xl mx-auto",children:[e.jsx("div",{className:_e("flex items-center gap-2 flex-shrink-0",C?"order-3":"order-1"),children:e.jsx(Ge,{to:"/",className:"flex items-center gap-2 transition-all duration-500 ease-out logo-hover pointer-events-auto",children:e.jsx("img",{src:n==="dark"?"/images/logo/logo-light.png":"/images/logo/logo-dark.png",alt:"SPIRITHUB ROASTERY Logo",className:"h-12 w-auto object-contain no-flip transition-all duration-500 ease-out"})})}),e.jsxs("div",{className:_e("hidden md:flex items-center gap-1","order-2"),children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("nav-link h-9 px-4 py-2 font-medium pointer-events-auto transition-all duration-200","bg-[#1a0e0d] text-white border border-[#1a0e0d]","hover:bg-[#0f0705] hover:text-white",T("/")&&"bg-[#0f0705]"),children:e.jsx(Ge,{to:"/",children:i("navigation.home")})}),e.jsxs("div",{className:"relative group",children:[e.jsx(q,{variant:"ghost",size:"sm",className:_e("nav-link h-9 px-4 py-2 font-medium pointer-events-auto transition-all duration-200 flex items-center gap-1","bg-[#1a0e0d] text-white border border-[#1a0e0d]","hover:bg-[#0f0705] hover:text-white",j.pathname.startsWith("/shop")&&"bg-[#0f0705]"),children:e.jsxs(Ge,{to:"/shop",className:"flex items-center gap-1",children:[i("navigation.shop"),e.jsx(Mh,{className:"h-3 w-3 transition-transform group-hover:rotate-180"})]})}),e.jsx("div",{className:_e("absolute top-full mt-1 w-64 bg-background border rounded-lg shadow-lg z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 pointer-events-auto",C?"right-0":"left-0"),children:e.jsxs("div",{className:"p-2 space-y-1",children:[e.jsx(Ge,{to:"/shop",className:_e("dropdown-item block px-3 py-2 text-sm rounded-md hover:bg-[#1a0e0d] hover:text-white transition-colors text-gray-800 dark:text-gray-200 dark:hover:bg-[#1a0e0d] dark:hover:text-white",C?"text-right":"text-left"),onClick:I=>{I.preventDefault(),y("/shop?reset=true",{replace:!0})},children:e.jsx("div",{className:"font-medium",children:C?" ":"All Products"})}),h.length>0&&e.jsx("div",{className:"border-t my-2"}),E?e.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:C?" ...":"Loading..."}):h.slice(0,6).map(I=>e.jsx(Ge,{to:`/shop?category=${I.id}`,className:_e("dropdown-item block px-3 py-2 text-sm rounded-md hover:bg-[#1a0e0d] hover:text-white transition-colors text-gray-800 dark:text-gray-200 dark:hover:bg-[#1a0e0d] dark:hover:text-white",C?"text-right":"text-left"),children:e.jsx("div",{className:"font-medium",children:C&&I.name_ar||I.name})},I.id)),h.length>6&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t my-2"}),e.jsx(Ge,{to:"/shop",className:_e("block px-3 py-2 text-sm rounded-md hover:bg-[#2a1812] hover:text-white transition-colors text-[#8B4513] dark:text-[#D2691E] font-medium dark:hover:bg-[#2a1812] dark:hover:text-white",C?"text-right":"text-left"),onClick:I=>{I.preventDefault(),y("/shop?reset=true",{replace:!0})},children:C?`   (${h.length})`:`View all categories (${h.length})`})]})]})})]}),L.slice(1).map(I=>e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("nav-link h-9 px-4 py-2 font-medium pointer-events-auto transition-all duration-200","bg-[#1a0e0d] text-white border border-[#1a0e0d]","hover:bg-[#0f0705] hover:text-white",T(I.href)&&"bg-[#0f0705]"),children:e.jsx(Ge,{to:I.href,children:I.label})},I.href))]}),e.jsxs("div",{className:_e("flex items-center gap-2",C?"order-1 md:order-1":"order-3"),children:[e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx(Sv,{className:"h-9 px-3 text-white border border-[#1a0e0d] hover:text-white transition-all duration-200 pointer-events-auto bg-[#1a0e0d] hover:bg-[#0f0705]"}),e.jsx(Fm,{className:"h-9 px-3 text-white border border-[#1a0e0d] hover:text-white transition-all duration-200 pointer-events-auto bg-[#1a0e0d] hover:bg-[#0f0705]"}),e.jsx(Cv,{className:"h-9 px-3 text-white border border-[#1a0e0d] hover:text-white transition-all duration-200 pointer-events-auto bg-[#1a0e0d] hover:bg-[#0f0705]"}),e.jsx(kv,{className:"h-9 px-3 text-white border border-[#1a0e0d] hover:text-white transition-all duration-200 pointer-events-auto bg-[#1a0e0d] hover:bg-[#0f0705]"})]}),o.currentUser&&e.jsx(q,{variant:"outline",size:"icon",asChild:!0,className:"h-9 w-9 relative transition-all duration-200 pointer-events-auto bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white",children:e.jsxs(Ge,{to:"/wishlist",children:[e.jsx(ii,{className:"h-4 w-4"}),g>0&&e.jsx(Se,{className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500 hover:bg-red-600",children:g>99?"99+":g})]})}),e.jsx("div",{className:"pointer-events-auto",children:e.jsx(J1,{})}),o.currentUser?e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:"h-9 px-4 py-2 font-medium pointer-events-auto transition-all duration-200 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white",children:e.jsxs(Ge,{to:"/dashboard",className:"flex items-center gap-2 relative",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:block",children:i("navigation.dashboard")}),(o.currentUser?.role==="admin"||o.currentUser?.role==="shop_owner"||o.currentUser?.role==="employee")&&x>0&&e.jsx(Se,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:x>99?"99+":x})]})}),e.jsxs(q,{variant:"ghost",size:"sm",onClick:O,className:"h-9 px-4 py-2 font-medium pointer-events-auto transition-all duration-200 bg-red-800 text-white border border-red-700 hover:bg-red-700 hover:border-red-600 hover:text-white dark:bg-red-800 dark:text-white dark:border-red-700 dark:hover:bg-red-700 dark:hover:border-red-600 flex items-center gap-2",children:[e.jsx(ah,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden lg:block",children:i("navigation.logout")})]})]}):e.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:"h-9 px-4 py-2 font-medium transition-all duration-200 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white",children:e.jsx(Ge,{to:"/login",children:i("navigation.login")})}),e.jsx(q,{size:"sm",asChild:!0,className:"h-9 px-4 py-2 font-medium transition-all duration-200 bg-[#2a1812] text-white border border-[#1a0e0d] hover:bg-[#1a0e0d] hover:text-white",children:e.jsx(Ge,{to:"/register",children:i("navigation.register")})})]}),e.jsx("div",{className:"md:hidden pointer-events-auto",children:e.jsx(Fm,{className:"h-9 px-3 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white transition-all duration-200 pointer-events-auto"})}),e.jsx(q,{variant:"outline",size:"icon",className:"md:hidden transition-all duration-200 pointer-events-auto h-9 w-9 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white",onClick:()=>A(!w),"aria-label":"Toggle menu",children:w?e.jsx(St,{className:"h-4 w-4"}):e.jsx(Yv,{className:"h-4 w-4"})})]})]})})}),w&&e.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>A(!1)}),e.jsx("div",{className:_e("fixed top-16 bottom-0 mobile-menu-coffee border-t shadow-2xl","animate-in duration-300 w-80 max-w-[calc(100vw-1rem)]",C?"right-0 slide-in-from-right-2":"left-0 slide-in-from-left-2"),children:e.jsxs("div",{className:_e("flex flex-col h-full",C?"text-right":"text-left"),dir:C?"rtl":"ltr",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:_e("text-sm font-semibold text-muted-foreground uppercase tracking-wider",C?"text-right":"text-left"),children:i("navigation.menu","Menu")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("w-full h-9 text-base font-medium mobile-nav-link","bg-[#1a0e0d] text-white border border-[#1a0e0d]","hover:bg-[#0f0705] hover:text-white",C?"justify-end text-right":"justify-start text-left",T("/")&&"bg-[#0f0705]"),style:{animationDelay:"0ms"},children:e.jsx(Ge,{to:"/",onClick:()=>A(!1),className:_e("w-full flex",C?"text-right justify-end":"text-left justify-start"),children:i("navigation.home")})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("w-full h-9 text-base font-medium mobile-nav-link","bg-[#1a0e0d] text-white border border-[#1a0e0d]","hover:bg-[#0f0705] hover:text-white",C?"justify-end text-right":"justify-start text-left",j.pathname.startsWith("/shop")&&"bg-[#0f0705]"),style:{animationDelay:"50ms"},children:e.jsx(Ge,{to:"/shop",onClick:I=>{I.preventDefault(),A(!1),y("/shop?reset=true",{replace:!0})},className:_e("w-full flex",C?"text-right justify-end":"text-left justify-start"),children:i("navigation.shop")})}),h.length>0&&e.jsxs("div",{className:_e("ml-4 space-y-1",C?"mr-4 ml-0":"ml-4"),children:[h.slice(0,8).map((I,H)=>e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("w-full h-8 text-sm font-normal mobile-nav-link","bg-amber-800 text-amber-100 border border-amber-700","hover:bg-amber-700 hover:border-amber-600 hover:text-white","dark:bg-amber-800 dark:text-amber-100 dark:border-amber-700","dark:hover:bg-amber-700 dark:hover:border-amber-600",C?"justify-end text-right":"justify-start text-left"),style:{animationDelay:`${(H+2)*50}ms`},children:e.jsx(Ge,{to:`/shop?category=${I.id}`,onClick:()=>A(!1),className:_e("w-full flex",C?"text-right justify-end":"text-left justify-start"),children:e.jsx("span",{className:"truncate",children:C&&I.name_ar||I.name})})},I.id)),h.length>8&&e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("w-full h-8 text-sm font-normal mobile-nav-link","bg-amber-600 text-white border border-amber-500","hover:bg-amber-700 hover:border-amber-600 hover:text-white","dark:bg-amber-600 dark:text-white dark:border-amber-500","dark:hover:bg-amber-700 dark:hover:border-amber-600",C?"justify-end text-right":"justify-start text-left"),children:e.jsx(Ge,{to:"/shop",onClick:I=>{I.preventDefault(),A(!1),y("/shop?reset=true",{replace:!0})},className:_e("w-full flex",C?"text-right justify-end":"text-left justify-start"),children:C?`   (${h.length})`:`View all categories (${h.length})`})})]})]}),L.slice(1).map((I,H)=>e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:_e("w-full h-9 text-base font-medium mobile-nav-link","bg-amber-900 text-white border border-amber-800","hover:bg-amber-800 hover:border-amber-700 hover:text-white","dark:bg-amber-900 dark:text-white dark:border-amber-800","dark:hover:bg-amber-800 dark:hover:border-amber-700",C?"justify-end text-right":"justify-start text-left",T(I.href)&&"bg-amber-800 border-amber-700"),style:{animationDelay:`${(H+10)*50}ms`},children:e.jsx(Ge,{to:I.href,onClick:()=>A(!1),className:_e("w-full flex",C?"text-right justify-end":"text-left justify-start"),children:I.label})},I.href))]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx("h3",{className:_e("text-sm font-semibold text-muted-foreground uppercase tracking-wider",C?"text-right":"text-left"),children:i("navigation.settings")}),e.jsxs("div",{className:_e(R?"grid grid-cols-2 gap-2":"grid grid-cols-3 gap-2",C?"grid-flow-row-dense":"grid-flow-row"),children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg border bg-muted/50",children:[e.jsx(Sv,{}),e.jsx("span",{className:"text-xs text-muted-foreground text-center",children:C?"":"Theme"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg border bg-muted/50",children:[e.jsx(Fm,{}),e.jsx("span",{className:"text-xs text-muted-foreground text-center",children:C?"":"Language"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg border bg-muted/50",children:[e.jsx(Cv,{}),e.jsx("span",{className:"text-xs text-muted-foreground text-center",children:C?"":"Currency"})]}),R&&e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg border bg-muted/50",children:[e.jsx(kv,{}),e.jsx("span",{className:"text-xs text-muted-foreground text-center",children:C?"":"Update"})]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsx("h3",{className:_e("text-sm font-semibold text-muted-foreground uppercase tracking-wider",C?"text-right":"text-left"),children:i("cart.title")}),e.jsxs("div",{className:_e("flex items-center gap-3 p-4 rounded-lg border bg-muted/50 flex-row-reverse"),children:[e.jsx(ri,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:_e("flex-1 min-w-0",C?"text-right":"text-left"),children:[e.jsxs("p",{className:"text-sm font-medium truncate",children:[S," ",i(S===1?"cart.item":"cart.items")]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i("cart.total"),": ",N.toFixed(2)]})]}),S>0&&e.jsx(Se,{variant:"secondary",className:"flex-shrink-0",children:S})]})]})]})}),e.jsx("div",{className:"border-t p-6 bg-muted/20",children:o.currentUser?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:_e("flex items-center gap-3 p-3 rounded-lg bg-background border",C?"flex-row-reverse":"flex-row"),children:[e.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-950 rounded-full flex items-center justify-center",children:e.jsx(Ds,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{className:_e("flex-1",C?"text-right":"text-left"),children:[e.jsx("p",{className:"font-medium text-sm",children:o.currentUser?.full_name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.currentUser?.email})]})]}),e.jsxs("div",{className:_e("grid grid-cols-2 gap-2",C?"grid-flow-row-dense":"grid-flow-row"),children:[e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:"h-9 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white dark:bg-[#1a0e0d] dark:text-white dark:border-[#1a0e0d] dark:hover:bg-[#0f0705] dark:hover:text-white",children:e.jsxs(Ge,{to:"/dashboard",onClick:()=>A(!1),className:_e("flex items-center gap-2 justify-center relative",C?"flex-row-reverse":"flex-row"),children:[e.jsx(Ds,{className:"h-4 w-4"}),i("navigation.dashboard"),(o.currentUser?.role==="admin"||o.currentUser?.role==="shop_owner"||o.currentUser?.role==="employee")&&x>0&&e.jsx(Se,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:x>99?"99+":x})]})}),o.currentUser?.role==="admin"&&e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:"h-9 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white dark:bg-[#1a0e0d] dark:text-white dark:border-[#1a0e0d] dark:hover:bg-[#0f0705] dark:hover:text-white",children:e.jsxs(Ge,{to:"/dashboard",onClick:()=>A(!1),className:_e("flex items-center gap-2 justify-center",C?"flex-row-reverse":"flex-row"),children:[e.jsx(Fc,{className:"h-4 w-4"}),C?"":"Admin Panel"]})}),e.jsx(q,{variant:"ghost",size:"sm",asChild:!0,className:"h-9 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white dark:bg-[#1a0e0d] dark:text-white dark:border-[#1a0e0d] dark:hover:bg-[#0f0705] dark:hover:text-white",children:e.jsxs(Ge,{to:"/wishlist",onClick:()=>A(!1),className:_e("flex items-center gap-2 justify-center relative",C?"flex-row-reverse":"flex-row"),children:[e.jsx(ii,{className:"h-4 w-4"}),C?"":"Wishlist",g>0&&e.jsx(Se,{className:"ml-1 h-4 w-4 flex items-center justify-center p-0 text-xs bg-red-500",children:g>99?"99+":g})]})}),e.jsxs(q,{variant:"ghost",size:"sm",onClick:O,className:_e("col-span-2 h-9 bg-red-800 text-white border border-red-700 hover:bg-red-700 hover:border-red-600 hover:text-white dark:bg-red-800 dark:text-white dark:border-red-700 dark:hover:bg-red-700 dark:hover:border-red-600 flex items-center gap-2 justify-center",C?"flex-row-reverse":"flex-row"),children:[e.jsx(ah,{className:"h-4 w-4"}),i("navigation.logout")]})]})]}):e.jsxs("div",{className:_e("grid grid-cols-2 gap-2",C?"grid-flow-row-dense":"grid-flow-row"),children:[e.jsx(q,{variant:"ghost",asChild:!0,className:"h-9 bg-[#1a0e0d] text-white border border-[#1a0e0d] hover:bg-[#0f0705] hover:text-white dark:bg-[#1a0e0d] dark:text-white dark:border-[#1a0e0d] dark:hover:bg-[#0f0705] dark:hover:text-white",children:e.jsx(Ge,{to:"/login",onClick:()=>A(!1),className:"flex items-center justify-center",children:i("navigation.login")})}),e.jsx(q,{asChild:!0,className:"h-9 bg-[#2a1812] text-white border border-[#1a0e0d] hover:bg-[#1a0e0d] hover:text-white dark:bg-[#2a1812] dark:text-white dark:border-[#1a0e0d] dark:hover:bg-[#1a0e0d] dark:hover:text-white",children:e.jsx(Ge,{to:"/register",onClick:()=>A(!1),className:"flex items-center justify-center",children:i("navigation.register")})})]})})]})})]})]})});xb.displayName="Navigation";const ak=xb;function sk(){const[i,s]=_.useState(null),[n,o]=_.useState(!0),[u,c]=_.useState(null);_.useEffect(()=>{m();const x=y=>{y.key==="footer-settings-updated"&&m()},j=()=>{m()};return window.addEventListener("storage",x),window.addEventListener("footer-settings-updated",j),()=>{window.removeEventListener("storage",x),window.removeEventListener("footer-settings-updated",j)}},[]);const m=async()=>{try{o(!0),c(null);const x=await Pa.getFooterSettings();s(x)}catch{c("Failed to load footer settings");const j=Pa.getDefaultFooterSettings();s(j)}finally{o(!1)}};return{settings:i,loading:n,error:u,loadSettings:m,updateSettings:async x=>{try{return await Pa.updateFooterSettings(x),s(x),window.dispatchEvent(new CustomEvent("footer-settings-updated")),!0}catch{return c("Failed to update footer settings"),!1}}}}function rk(){const{t:i,i18n:s}=Me(),{theme:n}=ci(),{settings:o}=sk(),[u,c]=_.useState([]),m=s.language==="ar";_.useEffect(()=>{(async()=>{try{const z=await we.pages.getFooterPages();c(z)}catch(z){console.error("Error loading footer pages:",z)}})()},[]);const g=m?o?.descriptionAr||o?.description||i("footer.description"):o?.description||i("footer.description"),x=m?o?.addressAr||o?.address||i("contact.info.address"):o?.address||i("contact.info.address"),j=o?.phone||i("contact.info.phone"),y=o?.phone2,w=o?.email||i("contact.info.email"),A=m?o?.workingHoursAr||o?.workingHours||i("contact.info.hours"):o?.workingHours||i("contact.info.hours"),h=o?.backgroundVideoBlur??50;_.useEffect(()=>{},[o,h]);const p=_.useCallback(()=>h<=20?"bg-black/30":h<=40?"bg-black/40":h<=60?"bg-black/50":h<=80?"bg-black/60":"bg-black/70",[h]),E=_.useCallback(()=>{const N=o?.colorTheme||"auto";let z=n;return N==="light"?z="light":N==="dark"&&(z="dark"),{textColor:o?.textColor||(z==="dark"?"#ffffff":"#000000"),headingColor:o?.headingColor||(z==="dark"?"#ffffff":"#000000"),linkColor:o?.linkColor||(z==="dark"?"rgba(255,255,255,0.8)":"rgba(0,0,0,0.8)"),linkHoverColor:o?.linkHoverColor||(z==="dark"?"#ffffff":"#000000"),borderColor:o?.borderColor||(z==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)"),socialIconsColor:o?.socialIconsColor||(z==="dark"?"rgba(255,255,255,0.8)":"rgba(0,0,0,0.8)"),socialIconsHoverColor:o?.socialIconsHoverColor||(z==="dark"?"#ffffff":"#000000")}},[o,n]),b=_.useCallback(()=>{const N=o?.logoTheme||"auto",z=o?.colorTheme||"auto";if(N==="light")return"/images/logo/logo-light.png";if(N==="dark")return"/images/logo/logo-dark.png";{let L=n;return z==="light"?L="light":z==="dark"&&(L="dark"),L==="dark"?"/images/logo/logo-light.png":"/images/logo/logo-dark.png"}},[o,n]),v=E(),U=b(),C=({to:N,children:z,...L})=>e.jsx(Ge,{to:N,className:"text-base transition-all hover:scale-105 transform duration-200",style:{color:v.linkColor},onMouseEnter:T=>{T.currentTarget.style.color=v.linkHoverColor},onMouseLeave:T=>{T.currentTarget.style.color=v.linkColor},...L,children:z}),R=({href:N,children:z,label:L})=>e.jsx("a",{href:N,className:"transition-all duration-300 hover:scale-110 transform p-3 rounded-full backdrop-blur-sm shadow-lg",style:{color:v.socialIconsColor,backgroundColor:"rgba(255,255,255,0.1)",borderColor:"rgba(255,255,255,0.2)",border:"1px solid"},onMouseEnter:T=>{T.currentTarget.style.color=v.socialIconsHoverColor,T.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)"},onMouseLeave:T=>{T.currentTarget.style.color=v.socialIconsColor,T.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)"},target:"_blank",rel:"noopener noreferrer","aria-label":L,children:z}),S=()=>h<=12.5?"blur-none":h<=25?"blur-sm":h<=50?"blur":h<=75?"blur-md":"blur-lg";return e.jsxs("footer",{className:"shadow-inner w-full relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[!o?.transparentVideoMode&&e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover ${S()}`,children:e.jsx("source",{src:"/video/back.mp4",type:"video/mp4"})}),!o?.transparentVideoMode&&o?.enableVideoOverlay!==!1&&e.jsx("div",{className:`absolute inset-0 ${p()}`,style:{opacity:o?.videoOverlayOpacity?o.videoOverlayOpacity/100:void 0}}),!o?.transparentVideoMode&&o?.enableGradientOverlay!==!1&&e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.9) 100%)",opacity:o?.gradientOverlayOpacity?o.gradientOverlayOpacity/100:1}})]}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-10",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-3",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("img",{src:U,alt:"SpiritHub Cafe Logo",className:"h-20 w-auto object-contain no-flip flex-shrink-0 drop-shadow-lg"})}),e.jsx("div",{className:"text-base leading-relaxed prose prose-base max-w-none drop-shadow-sm",style:{color:v.textColor},dangerouslySetInnerHTML:{__html:g}})]}),e.jsx("div",{className:"lg:hidden",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:v.headingColor},children:i("footer.quickLinks")}),e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsx(C,{to:"/",children:i("navigation.home")}),e.jsx(C,{to:"/shop",children:i("navigation.shop")}),e.jsx(C,{to:"/about",children:i("navigation.about")}),e.jsx(C,{to:"/contact",children:i("navigation.contact")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:v.headingColor},children:m?" ":"Legal Pages"}),e.jsxs("nav",{className:"flex flex-col space-y-3",children:[u.map(N=>e.jsx(C,{to:`/page/${N.slug}`,children:m?N.title_ar:N.title},N.id)),u.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/privacy-policy",children:m?" ":"Privacy Policy"}),e.jsx(C,{to:"/terms-and-conditions",children:m?" ":"Terms & Conditions"}),e.jsx(C,{to:"/refund-policy",children:m?"  ":"Refund Policy"}),e.jsx(C,{to:"/delivery-policy",children:m?" ":"Delivery Policy"}),e.jsx(C,{to:"/faq",children:m?" ":"FAQ"})]})]})]})]})}),e.jsxs("div",{className:"hidden lg:block space-y-4 lg:mt-24",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:v.headingColor},children:i("footer.quickLinks")}),e.jsxs("nav",{className:"flex flex-col space-y-3",children:[e.jsx(C,{to:"/",children:i("navigation.home")}),e.jsx(C,{to:"/shop",children:i("navigation.shop")}),e.jsx(C,{to:"/about",children:i("navigation.about")}),e.jsx(C,{to:"/contact",children:i("navigation.contact")})]})]}),e.jsxs("div",{className:"hidden lg:block space-y-4 lg:mt-24",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:v.headingColor},children:m?" ":"Legal Pages"}),e.jsxs("nav",{className:"flex flex-col space-y-3",children:[u.map(N=>e.jsx(C,{to:`/page/${N.slug}`,children:m?N.title_ar:N.title},N.id)),u.length===0&&e.jsxs(e.Fragment,{children:[e.jsx(C,{to:"/privacy-policy",children:m?" ":"Privacy Policy"}),e.jsx(C,{to:"/terms-and-conditions",children:m?" ":"Terms & Conditions"}),e.jsx(C,{to:"/refund-policy",children:m?"  ":"Refund Policy"}),e.jsx(C,{to:"/delivery-policy",children:m?" ":"Delivery Policy"}),e.jsx(C,{to:"/faq",children:m?" ":"FAQ"})]})]})]}),e.jsxs("div",{className:"space-y-4 lg:mt-24",children:[e.jsx("h3",{className:"text-base font-semibold",style:{color:v.headingColor},children:i("navigation.contact")}),e.jsxs("div",{className:"space-y-3 text-base",style:{color:v.textColor},children:[e.jsx("p",{children:x}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ltr",children:j}),y&&e.jsx("p",{className:"ltr",children:y})]}),e.jsx("p",{className:"ltr",children:w}),e.jsx("div",{className:"prose prose-base max-w-none text-base",style:{color:v.textColor},dangerouslySetInnerHTML:{__html:A}})]})]})]}),e.jsx("div",{className:"border-t mt-12 pt-12",style:{borderColor:v.borderColor},children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold drop-shadow-sm",style:{color:v.headingColor},children:i("footer.followUs")}),e.jsxs("div",{className:"flex justify-center gap-6",children:[o?.facebook&&e.jsx(R,{href:`https://facebook.com/${o.facebook}`,label:"Facebook",children:e.jsx(Fx,{className:"h-6 w-6 no-flip"})}),o?.twitter&&e.jsx(R,{href:`https://twitter.com/${o.twitter}`,label:"Twitter",children:e.jsx(Hx,{className:"h-6 w-6 no-flip"})}),o?.instagram&&e.jsx(R,{href:`https://instagram.com/${o.instagram.replace("@","")}`,label:"Instagram",children:e.jsx(sh,{className:"h-6 w-6 no-flip"})}),o?.whatsapp&&e.jsx(R,{href:`https://wa.me/${o.whatsapp.replace(/\D/g,"")}`,label:"WhatsApp",children:e.jsx(Wv,{className:"h-6 w-6 no-flip"})}),o?.email&&e.jsx(R,{href:`mailto:${o.email}`,label:"Email",children:e.jsx(gs,{className:"h-6 w-6 no-flip"})}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(R,{href:"#",label:"Facebook",children:e.jsx(Fx,{className:"h-6 w-6 no-flip"})}),e.jsx(R,{href:"#",label:"Twitter",children:e.jsx(Hx,{className:"h-6 w-6 no-flip"})}),e.jsx(R,{href:"#",label:"Instagram",children:e.jsx(sh,{className:"h-6 w-6 no-flip"})})]})]})]})}),e.jsx("div",{className:"border-t mt-12 pt-12 text-center",style:{borderColor:v.borderColor},children:e.jsx("p",{className:"text-base drop-shadow-sm font-medium",style:{color:v.textColor},children:i("footer.copyright")})})]})})]})}function On({children:i,requiredRole:s}){const{currentUser:n,loading:o}=Ws(),u=qn(),{t:c}=Me();return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:c("common.loading")})]})}):n?s&&n.role!==s?e.jsx(ev,{to:"/dashboard",replace:!0}):e.jsx(e.Fragment,{children:i}):e.jsx(ev,{to:"/login",state:{from:u},replace:!0})}class ik extends _.Component{state={hasError:!1};static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("ErrorBoundary caught an error:",s,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[e.jsx($s,{className:"h-16 w-16 text-destructive mx-auto"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground",children:"We apologize for the inconvenience. Please try refreshing the page."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{onClick:()=>window.location.reload(),className:"w-full",children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),"Refresh Page"]}),e.jsx(q,{variant:"outline",onClick:()=>window.history.back(),className:"w-full",children:"Go Back"})]})]})}):this.props.children}}function Pt({...i}){return e.jsx(kh,{"data-slot":"dialog",...i})}function Jh({...i}){return e.jsx(Ah,{"data-slot":"dialog-trigger",...i})}function nk({...i}){return e.jsx(Dh,{"data-slot":"dialog-portal",...i})}function lk({className:i,...s}){return e.jsx(Oh,{"data-slot":"dialog-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",i),...s})}function zt({className:i,children:s,showCloseButton:n=!0,...o}){return e.jsxs(nk,{"data-slot":"dialog-portal",children:[e.jsx(lk,{}),e.jsxs(Eh,{"data-slot":"dialog-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200",i),...o,children:[s,n&&e.jsxs(ld,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(St,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Jt({className:i,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:_e("flex flex-col gap-2 text-center sm:text-left",i),...s})}function fs({className:i,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:_e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",i),...s})}function ea({className:i,...s}){return e.jsx(Th,{"data-slot":"dialog-title",className:_e("text-lg leading-none font-semibold",i),...s})}function ps({className:i,...s}){return e.jsx(Qv,{"data-slot":"dialog-description",className:_e("text-muted-foreground text-sm",i),...s})}const _o=_.forwardRef(({className:i,size:s="md",...n},o)=>{const u={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-[3px]"};return e.jsx("div",{ref:o,className:_e("animate-spin rounded-full border-muted border-t-primary",u[s],i),...n})});_o.displayName="Loader";function ok({className:i=""}){const{t:s,i18n:n}=Me(),{resolvedTheme:o}=ci(),u=n.language==="ar",[c,m]=_.useState(null),[g,x]=_.useState(0),[j,y]=_.useState(!0),[w,A]=_.useState(!1),[h,p]=_.useState(!1),[E,b]=_.useState("right"),v=_.useRef(null),U=_.useRef([]),C=_.useRef(null);_.useEffect(()=>{const Y=async()=>{try{const V=await ms.getHeroSettings();m(V),y(V.autoplay)}catch(V){console.error("Error loading hero settings:",V)}};Y();const oe=V=>{V.key==="hero-settings-updated"&&Y()},ce=()=>{Y()};return window.addEventListener("storage",oe),window.addEventListener("hero-settings-updated",ce),()=>{window.removeEventListener("storage",oe),window.removeEventListener("hero-settings-updated",ce)}},[]);const R=_.useMemo(()=>c?.slides.filter(Y=>Y.is_active)||[],[c?.slides]),S=_.useCallback(()=>{R.length<=1||(x(Y=>c?.infinite_loop?(Y+1)%R.length:Math.min(Y+1,R.length-1)),p(!1),setTimeout(()=>p(!0),300))},[R.length,c?.infinite_loop]),N=_.useCallback(()=>{R.length<=1||(x(Y=>c?.infinite_loop?(Y-1+R.length)%R.length:Math.max(Y-1,0)),p(!1),setTimeout(()=>p(!0),300))},[R.length,c?.infinite_loop]),z=_.useCallback(Y=>{x(Y),p(!1),setTimeout(()=>p(!0),300)},[]);_.useEffect(()=>{if(!c||!j||w&&c.pause_on_hover)return;const Y=R[g]?.duration?R[g].duration*1e3:c.autoplay_delay;return v.current=setInterval(S,Y),()=>{v.current&&clearInterval(v.current)}},[c,j,w,S,g,R]),_.useEffect(()=>{p(!1);const Y=setTimeout(()=>p(!0),500);return()=>clearTimeout(Y)},[g]),_.useEffect(()=>{const Y=oe=>{oe.key==="ArrowLeft"?u?S():N():oe.key==="ArrowRight"?u?N():S():oe.key===" "&&(oe.preventDefault(),y(ce=>!ce))};return window.addEventListener("keydown",Y),()=>window.removeEventListener("keydown",Y)},[S,N,u]);const L=_.useCallback(Y=>{if(!C.current)return;const oe=C.current.getBoundingClientRect(),ce=Y.clientX-oe.left,V=oe.width/2;b(ce<V?"left":"right")},[]),T=_.useCallback(Y=>{if(R.length<=1||!C.current)return;const oe=C.current.getBoundingClientRect(),ce=Y.clientX-oe.left,V=oe.width/2;ce<V?u?S():N():u?N():S()},[R.length,u,S,N]),O=_.useCallback((Y,oe)=>{const ce=Y.typography,V=c?.global_typography,K=(vs,Tt)=>ce?.[vs]||V?.[Tt],ye=u?"_ar":"",me=`${oe}_`,De={},Ye=K(`${me}font_family${ye}`,`${me}font_family${ye}`),Ke=K(`${me}font_size${ye}`,`${me}font_size${ye}`),Qe=K(`${me}font_weight${ye}`,`${me}font_weight${ye}`),$e=K(`${me}line_height${ye}`,`${me}line_height${ye}`),jt=K(`${me}letter_spacing${ye}`,`${me}letter_spacing${ye}`),Et=K(`${me}text_transform${ye}`,`${me}text_transform${ye}`),Ha=K(`${me}color${ye}`,`${me}color${ye}`);return Ha&&typeof Ha=="string"?De.color=Ha:De.color="#ffffff",De.textShadow="1px 1px 2px rgba(0, 0, 0, 0.4)",Ye&&typeof Ye=="string"&&(De.fontFamily=Ye),Ke&&typeof Ke=="string"&&(De.fontSize=Ke),Qe&&typeof Qe=="number"&&(De.fontWeight=Qe),$e&&typeof $e=="number"&&(De.lineHeight=$e),jt&&typeof jt=="string"&&(De.letterSpacing=jt),Et&&typeof Et=="string"&&(De.textTransform=Et),De},[u,c?.global_typography]),I=_.useCallback((Y,oe)=>{const ce=Y.animation,V=c?.global_animation,K=ce?.[`${oe}_animation`]||V?.[`${oe}_animation`];return!K||K==="none"?"":`hero-animate-${K}`},[c?.global_animation]),H=_.useCallback((Y,oe)=>{const ce=Y.animation,V=c?.global_animation,K=ce?.[`${oe}_animation_delay`]||V?.[`${oe}_animation_delay`]||0,ye=ce?.[`${oe}_animation_duration`]||V?.[`${oe}_animation_duration`]||500;return{animationDelay:`${K}ms`,animationDuration:`${ye}ms`}},[c?.global_animation]),W=_.useCallback((Y,oe)=>{const ce=Y.button_settings,V=c?.global_button_settings,K=oe==="primary"?ce?.primary_button_style||V?.primary_button_style:ce?.secondary_button_style||V?.secondary_button_style;if(!K)return{};const ye={};return K.background_color&&(ye.backgroundColor=K.background_color),K.background_gradient&&(ye.backgroundImage=K.background_gradient),ye.color="#ffffff",ye.textShadow="0.5px 0.5px 1px rgba(0, 0, 0, 0.3)",K.border_color&&(ye.borderColor=K.border_color),K.border_width&&(ye.borderWidth=`${K.border_width}px`),K.border_radius&&(ye.borderRadius=K.border_radius),K.font_family&&(ye.fontFamily=K.font_family),K.font_size&&(ye.fontSize=K.font_size),K.font_weight&&(ye.fontWeight=K.font_weight),K.padding&&(ye.padding=K.padding),K.margin&&(ye.margin=K.margin),K.shadow&&(ye.boxShadow=K.shadow),K.transition_duration&&(ye.transition=`all ${K.transition_duration}ms ease`),ye},[c?.global_button_settings]),he=_.useCallback(Y=>{const oe=Y.layout,ce=c?.global_layout,V=oe||ce;if(!V)return{};const K={};return V.container_max_width&&(K.maxWidth=V.container_max_width),V.content_padding&&(K.padding=V.content_padding),V.content_margin&&(K.margin=V.content_margin),V.content_width&&(K.width=V.content_width),K},[c?.global_layout]),ee=Y=>{const oe=`hero-filter-blur-${Y.blur_intensity}`,ce=`hero-brightness-${Y.brightness}`,V=`hero-contrast-${Y.contrast}`,K=`hero-saturate-${Y.saturation}`;return`hero-slider-media ${oe} ${ce} ${V} ${K}`},k=Y=>{const oe=[];return Y.hue_rotation&&oe.push(`hue-rotate(${Y.hue_rotation}deg)`),Y.sepia&&oe.push(`sepia(${Y.sepia}%)`),Y.grayscale&&oe.push(`grayscale(${Y.grayscale}%)`),Y.invert&&oe.push("invert(1)"),oe.length>0?{filter:oe.join(" ")}:{}},B=()=>"absolute inset-0",F=Y=>{const oe=Y.overlay_color.replace("#",""),ce=parseInt(oe.substr(0,2),16),V=parseInt(oe.substr(2,2),16),K=parseInt(oe.substr(4,2),16);return{backgroundColor:`rgba(${ce}, ${V}, ${K}, ${Y.overlay_opacity/100})`}},ue=Y=>{const oe=Y.effects?.gradient_overlay;if(!oe?.enabled)return{};const ce=(oe.opacity||50)/100,V=["#000000","#333333"],K=["#ffffff","#f0f0f0"],ye=oe.colors||(o==="dark"?V:K),me=oe.direction||"to bottom",De=oe.type||"linear";let Ye="";if(De==="linear"){const Ke=ye.map((Qe,$e)=>{const jt=$e===0?"0%":$e===ye.length-1?"100%":`${$e/(ye.length-1)*100}%`;return`${Qe} ${jt}`}).join(", ");Ye=`linear-gradient(${me}, ${Ke})`}else De==="radial"?Ye=`radial-gradient(circle, ${ye.map((Qe,$e)=>{const jt=$e===0?"0%":$e===ye.length-1?"100%":`${$e/(ye.length-1)*100}%`;return`${Qe} ${jt}`}).join(", ")})`:De==="conic"&&(Ye=`conic-gradient(from 0deg, ${ye.map((Qe,$e)=>{const jt=`${$e/(ye.length-1)*360}deg`;return`${Qe} ${jt}`}).join(", ")})`);return{background:Ye,opacity:ce}};if(!c||R.length===0)return e.jsx("div",{className:"w-full min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-6",children:[e.jsx("div",{className:"relative mx-auto mb-8 w-40 h-40 sm:w-48 sm:h-48 md:w-56 md:h-56 flex items-center justify-center",children:e.jsx(_o,{size:"lg"})}),e.jsx("h3",{className:"text-foreground font-semibold text-xl mb-2",children:s("common.loading","Loading...")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:u?"   ...":"Preparing your premium experience..."})]})});const X=R[g];return X?e.jsxs("section",{ref:C,className:`relative w-full min-h-screen flex items-center overflow-hidden hero-slider-container ${R.length>1?E==="left"?"cursor-left":"cursor-right":""} ${i}`,onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onMouseMove:L,onClick:T,children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[R.map((Y,oe)=>e.jsxs("div",{ref:ce=>{U.current[oe]=ce},className:`absolute inset-0 transition-all duration-${c.transition_duration} ease-out ${oe===g?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[Y.media_type==="video"?e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:ee(Y),style:k(Y),poster:Y.media_thumbnail,children:e.jsx("source",{src:Y.media_url,type:"video/mp4"})}):e.jsx("img",{src:Y.media_url,alt:u&&Y.title_ar||Y.title,className:ee(Y),style:k(Y)}),e.jsx("div",{className:B(),style:F(Y)})]},Y.id)),X.effects?.gradient_overlay?.enabled===!1?null:X.effects?.gradient_overlay?.enabled===!0?e.jsx("div",{className:"absolute inset-0",style:ue(X)}):e.jsx(e.Fragment,{children:o==="dark"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/30 via-transparent to-black/30"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/40"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 via-transparent to-white/20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/10 via-transparent to-white/30"})]})})]}),e.jsx("div",{className:"w-full relative z-5 px-4 sm:px-6 lg:px-8 pt-16",children:e.jsx("div",{className:`max-w-6xl mx-auto ${X.text_position==="left"?"text-left":X.text_position==="right"?"text-right":"text-center"}`,style:he(X),children:e.jsxs("div",{className:`space-y-6 transition-all duration-1000 ease-out ${h?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[e.jsxs("div",{className:"space-y-4",children:[(X.subtitle||X.subtitle_ar)&&e.jsxs("div",{className:`inline-flex items-center px-6 py-3 rounded-full bg-white/15 backdrop-blur-md border border-white/25 text-white text-sm font-medium shadow-xl ${I(X,"subtitle")}`,style:{...O(X,"subtitle"),...H(X,"subtitle")},children:[e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-5 w-5 mr-2 object-contain no-flip"}),u&&X.subtitle_ar||X.subtitle]}),e.jsx("h1",{className:`text-4xl md:text-6xl lg:text-7xl xl:text-8xl font-black tracking-tight text-white drop-shadow-md leading-tight ${X.text_alignment==="left"?"text-left":X.text_alignment==="right"?"text-right":"text-center"} ${I(X,"title")}`,style:{...O(X,"title"),...H(X,"title")},children:e.jsx("span",{className:"block",children:u&&X.title_ar||X.title})})]}),(X.description||X.description_ar)&&e.jsx("p",{className:`text-xl md:text-2xl text-white/90 max-w-3xl leading-relaxed drop-shadow-sm ${X.text_position==="left"?"mx-0":X.text_position==="right"?"ml-auto":"mx-auto"} ${X.text_alignment==="left"?"text-left":X.text_alignment==="right"?"text-right":"text-center"} ${I(X,"description")}`,style:{...O(X,"description"),...H(X,"description")},children:u&&X.description_ar||X.description}),(X.button_text||X.secondary_button_text)&&e.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 pt-6 ${X.text_alignment==="left"?"justify-start":X.text_alignment==="right"?"justify-end":"justify-center"} ${I(X,"buttons")}`,style:H(X,"buttons"),children:[X.button_text&&e.jsx("a",{href:X.button_link||"#",className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium rounded-md shadow-xl hover:shadow-2xl transition-all duration-300 backdrop-blur-sm",style:{...W(X,"primary"),backgroundColor:X.button_variant==="primary"?"#d97706":X.button_variant==="secondary"?"rgba(255,255,255,0.2)":"transparent",color:"white",border:X.button_variant==="outline"?"1px solid rgba(255,255,255,0.5)":"none"},children:u&&X.button_text_ar||X.button_text}),X.secondary_button_text&&e.jsx("a",{href:X.secondary_button_link||"#",className:"inline-flex items-center justify-center px-6 py-3 text-base font-medium rounded-md bg-white/10 hover:bg-white/20 text-white border border-white/30 shadow-lg hover:shadow-xl transition-all duration-300",style:W(X,"secondary"),children:u&&X.secondary_button_text_ar||X.secondary_button_text})]})]})})}),c.show_dots&&R.length>1&&e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-3",children:R.map((Y,oe)=>e.jsx("button",{onClick:()=>z(oe),className:`w-3 h-3 rounded-full transition-all duration-300 ${oe===g?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`${s("common.goToSlide","Go to slide")} ${oe+1}`},oe))})]}):null}const ck=(i,s)=>{const n=qn();_.useEffect(()=>{const u=setTimeout(()=>{const c=document.documentElement;if(c&&c.scrollTo)c.scrollTo({top:0,behavior:"smooth"});else if(c){const m=c.scrollTop,g=m,x=500;let j=null;const y=w=>{j===null&&(j=w);const A=w-j,h=Math.min(A/x,1),E=(b=>b<.5?2*b*b:-1+(4-2*b)*b)(h);c.scrollTop=m-g*E,h<1&&requestAnimationFrame(y)};requestAnimationFrame(y)}},100);return()=>clearTimeout(u)},[n.pathname,i,s])},Rs=()=>{ck()};function $({className:i,type:s,...n}){return e.jsx("input",{type:s,"data-slot":"input",className:_e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),...n})}function dk(){const{i18n:i}=Me(),{resolvedTheme:s}=ci(),{settings:n}=rb(),[o,u]=_.useState(""),[c,m]=_.useState(!1),[g,x]=_.useState(!1),j=i.language==="ar",y=A=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A),w=async A=>{if(A.preventDefault(),!o.trim()){te.error(j?"    ":"Please enter your email address");return}if(!y(o)){te.error(j?"     ":"Please enter a valid email address");return}m(!0);try{je.log(" Checking for duplicate email:",o.toLowerCase().trim());const h=await we.newsletters.list();je.log(" Existing subscriptions found:",h.items.length);const p=o.toLowerCase().trim(),E=h.items.some(U=>{const C=U.email?.toLowerCase().trim();return je.log(" Comparing:",p,"vs",C),C===p});if(je.log(" Email exists check result:",E),E){te.error(j?"    ":"This email is already subscribed"),m(!1);return}const b={email:p,subscribed_at:new Date().toISOString(),status:"active",source:"homepage"};je.log(" Creating newsletter subscription with data:",b);const v=await we.newsletters.create(b);if(je.log(" Newsletter subscription result:",v),!v)throw new Error("Failed to create subscription - no result returned");x(!0),u(""),te.success(j?"  !":"Successfully subscribed!"),setTimeout(()=>{u(""),x(!1)},3e3)}catch(h){je.error(" Newsletter subscription error:",h),h instanceof Error&&h.message.includes("already exists")?te.error(j?"    ":"This email is already subscribed"):te.error(j?"     ":"An error occurred, please try again")}finally{m(!1)}};return g?e.jsxs("section",{className:"py-12 lg:py-16 relative",style:{backgroundColor:n?.newsletterBackgroundType==="color"?s==="dark"?n?.newsletterBackgroundColorDark||n?.newsletterBackgroundColor:n?.newsletterBackgroundColorLight||n?.newsletterBackgroundColor:void 0,backgroundImage:n?.newsletterBackgroundType==="image"&&n?.newsletterBackgroundImage?`url(${n.newsletterBackgroundImage})`:void 0,backgroundSize:n?.newsletterBackgroundType==="image"?"cover":void 0,backgroundPosition:n?.newsletterBackgroundType==="image"?"center":void 0,backgroundRepeat:n?.newsletterBackgroundType==="image"?"no-repeat":void 0,backgroundAttachment:n?.newsletterBackgroundType==="image"?"fixed":void 0},children:[n?.newsletterBackgroundType==="image"&&n?.newsletterBackgroundImage&&e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsx("div",{className:`${j?"lg:order-2":"lg:order-1"}`,children:e.jsxs("div",{className:"relative h-[280px] lg:h-[400px] rounded-xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:n?.newsletterImage||"/images/cats/specialty-coffee-capsules.webp",alt:"Coffee Newsletter",className:"w-full h-full object-cover",onError:A=>{A.target.src="/images/back.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]})}),e.jsx("div",{className:`${j?"lg:order-1":"lg:order-2"}`,children:e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 text-center",children:[e.jsx(Ca,{className:"h-12 w-12 text-green-600 dark:text-green-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-800 dark:text-green-200 mb-2",children:j?" !":"Thank You!"}),e.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm",children:j?"     .     !":"You have successfully subscribed to our newsletter. You'll receive the latest news and offers soon!"})]})})]})})]}):e.jsxs("section",{className:"py-12 lg:py-16 relative",style:{backgroundColor:n?.newsletterBackgroundType==="color"?s==="dark"?n?.newsletterBackgroundColorDark||n?.newsletterBackgroundColor:n?.newsletterBackgroundColorLight||n?.newsletterBackgroundColor:void 0,backgroundImage:n?.newsletterBackgroundType==="image"&&n?.newsletterBackgroundImage?`url(${n.newsletterBackgroundImage})`:void 0,backgroundSize:n?.newsletterBackgroundType==="image"?"cover":void 0,backgroundPosition:n?.newsletterBackgroundType==="image"?"center":void 0,backgroundRepeat:n?.newsletterBackgroundType==="image"?"no-repeat":void 0,backgroundAttachment:n?.newsletterBackgroundType==="image"?"fixed":void 0},children:[n?.newsletterBackgroundType==="image"&&n?.newsletterBackgroundImage&&e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsx("div",{className:`${j?"lg:order-2":"lg:order-1"}`,children:e.jsxs("div",{className:"relative h-[280px] lg:h-[400px] rounded-xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:n?.newsletterImage||"/images/cats/specialty-coffee-capsules.webp",alt:"Coffee Newsletter",className:"w-full h-full object-cover",onError:A=>{A.target.src="/images/back.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]})}),e.jsx("div",{className:`${j?"lg:order-1":"lg:order-2"}`,children:e.jsxs("div",{className:"max-w-lg",children:[e.jsx("h2",{className:`text-2xl md:text-3xl font-bold mb-4 leading-tight ${n?.newsletterBackgroundType==="image"?"text-white":"text-foreground"}`,children:j?n?.newsletterTitleAr||"        !":n?.newsletterTitle||"Stay Updated with Spirit Hub Cafe!"}),e.jsx("p",{className:`text-base mb-6 leading-relaxed ${n?.newsletterBackgroundType==="image"?"text-gray-200":"text-muted-foreground"}`,children:j?n?.newsletterDescriptionAr||"            .":n?.newsletterDescription||"Sign up to our newsletter and be the first to know about our new products and special offers."}),e.jsx("form",{onSubmit:w,className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{type:"email",placeholder:j?"  ":"Your email address",value:o,onChange:A=>u(A.target.value),className:"h-12 text-base w-full",disabled:c,dir:j?"rtl":"ltr"}),e.jsx(q,{type:"submit",disabled:c,className:"h-12 px-6 font-semibold w-full transition-all duration-200",children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),j?" ...":"Subscribing..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5"}),j?"":"Subscribe"]})})]})})]})})]})})]})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:vb,setPrototypeOf:Ev,isFrozen:uk,getPrototypeOf:mk,getOwnPropertyDescriptor:hk}=Object;let{freeze:ka,seal:xs,create:yb}=Object,{apply:ph,construct:xh}=typeof Reflect<"u"&&Reflect;ka||(ka=function(s){return s});xs||(xs=function(s){return s});ph||(ph=function(s,n){for(var o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];return s.apply(n,u)});xh||(xh=function(s){for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return new s(...o)});const Uc=Aa(Array.prototype.forEach),fk=Aa(Array.prototype.lastIndexOf),Tv=Aa(Array.prototype.pop),Kl=Aa(Array.prototype.push),gk=Aa(Array.prototype.splice),Vc=Aa(String.prototype.toLowerCase),Hm=Aa(String.prototype.toString),qm=Aa(String.prototype.match),Xl=Aa(String.prototype.replace),pk=Aa(String.prototype.indexOf),xk=Aa(String.prototype.trim),ks=Aa(Object.prototype.hasOwnProperty),wa=Aa(RegExp.prototype.test),Zl=vk(TypeError);function Aa(i){return function(s){s instanceof RegExp&&(s.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];return ph(i,s,o)}}function vk(i){return function(){for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return xh(i,n)}}function st(i,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vc;Ev&&Ev(i,null);let o=s.length;for(;o--;){let u=s[o];if(typeof u=="string"){const c=n(u);c!==u&&(uk(s)||(s[o]=c),u=c)}i[u]=!0}return i}function yk(i){for(let s=0;s<i.length;s++)ks(i,s)||(i[s]=null);return i}function vr(i){const s=yb(null);for(const[n,o]of vb(i))ks(i,n)&&(Array.isArray(o)?s[n]=yk(o):o&&typeof o=="object"&&o.constructor===Object?s[n]=vr(o):s[n]=o);return s}function Jl(i,s){for(;i!==null;){const o=hk(i,s);if(o){if(o.get)return Aa(o.get);if(typeof o.value=="function")return Aa(o.value)}i=mk(i)}function n(){return null}return n}const Dv=ka(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$m=ka(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vm=ka(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bk=ka(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gm=ka(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jk=ka(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ov=ka(["#text"]),Rv=ka(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ym=ka(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Mv=ka(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bc=ka(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_k=xs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wk=xs(/<%[\w\W]*|[\w\W]*%>/gm),Nk=xs(/\$\{[\w\W]*/gm),Sk=xs(/^data-[\-\w.\u00B7-\uFFFF]+$/),Ck=xs(/^aria-[\-\w]+$/),bb=xs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kk=xs(/^(?:\w+script|data):/i),Ak=xs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jb=xs(/^html$/i),Ek=xs(/^[a-z][.\w]*(-[.\w]+)+$/i);var Iv=Object.freeze({__proto__:null,ARIA_ATTR:Ck,ATTR_WHITESPACE:Ak,CUSTOM_ELEMENT:Ek,DATA_ATTR:Sk,DOCTYPE_NAME:jb,ERB_EXPR:wk,IS_ALLOWED_URI:bb,IS_SCRIPT_OR_DATA:kk,MUSTACHE_EXPR:_k,TMPLIT_EXPR:Nk});const eo={element:1,text:3,progressingInstruction:7,comment:8,document:9},Tk=function(){return typeof window>"u"?null:window},Dk=function(s,n){if(typeof s!="object"||typeof s.createPolicy!="function")return null;let o=null;const u="data-tt-policy-suffix";n&&n.hasAttribute(u)&&(o=n.getAttribute(u));const c="dompurify"+(o?"#"+o:"");try{return s.createPolicy(c,{createHTML(m){return m},createScriptURL(m){return m}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},Pv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function _b(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tk();const s=Oe=>_b(Oe);if(s.version="3.2.7",s.removed=[],!i||!i.document||i.document.nodeType!==eo.document||!i.Element)return s.isSupported=!1,s;let{document:n}=i;const o=n,u=o.currentScript,{DocumentFragment:c,HTMLTemplateElement:m,Node:g,Element:x,NodeFilter:j,NamedNodeMap:y=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:w,DOMParser:A,trustedTypes:h}=i,p=x.prototype,E=Jl(p,"cloneNode"),b=Jl(p,"remove"),v=Jl(p,"nextSibling"),U=Jl(p,"childNodes"),C=Jl(p,"parentNode");if(typeof m=="function"){const Oe=n.createElement("template");Oe.content&&Oe.content.ownerDocument&&(n=Oe.content.ownerDocument)}let R,S="";const{implementation:N,createNodeIterator:z,createDocumentFragment:L,getElementsByTagName:T}=n,{importNode:O}=o;let I=Pv();s.isSupported=typeof vb=="function"&&typeof C=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:W,TMPLIT_EXPR:he,DATA_ATTR:ee,ARIA_ATTR:k,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:ue}=Iv;let{IS_ALLOWED_URI:X}=Iv,Y=null;const oe=st({},[...Dv,...$m,...Vm,...Gm,...Ov]);let ce=null;const V=st({},[...Rv,...Ym,...Mv,...Bc]);let K=Object.seal(yb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ye=null,me=null,De=!0,Ye=!0,Ke=!1,Qe=!0,$e=!1,jt=!0,Et=!1,Ha=!1,vs=!1,Tt=!1,Yi=!1,hi=!1,Yn=!0,fi=!1;const jd="user-content-";let Wi=!0,gi=!1,Sr={},ts=null;const xa=st({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ys=null;const va=st({},["audio","video","img","source","image","track"]);let Wn=null;const wo=st({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qi="http://www.w3.org/1998/Math/MathML",Qs="http://www.w3.org/2000/svg",Ea="http://www.w3.org/1999/xhtml";let Ta=Ea,Cr=!1,Ks=null;const _d=st({},[Qi,Qs,Ea],Hm);let pi=st({},["mi","mo","mn","ms","mtext"]),xi=st({},["annotation-xml"]);const Qn=st({},["title","style","font","a","script"]);let bs=null;const wd=["application/xhtml+xml","text/html"],No="text/html";let Lt=null,Ms=null;const Kn=n.createElement("form"),Xn=function(J){return J instanceof RegExp||J instanceof Function},Zn=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ms&&Ms===J)){if((!J||typeof J!="object")&&(J={}),J=vr(J),bs=wd.indexOf(J.PARSER_MEDIA_TYPE)===-1?No:J.PARSER_MEDIA_TYPE,Lt=bs==="application/xhtml+xml"?Hm:Vc,Y=ks(J,"ALLOWED_TAGS")?st({},J.ALLOWED_TAGS,Lt):oe,ce=ks(J,"ALLOWED_ATTR")?st({},J.ALLOWED_ATTR,Lt):V,Ks=ks(J,"ALLOWED_NAMESPACES")?st({},J.ALLOWED_NAMESPACES,Hm):_d,Wn=ks(J,"ADD_URI_SAFE_ATTR")?st(vr(wo),J.ADD_URI_SAFE_ATTR,Lt):wo,ys=ks(J,"ADD_DATA_URI_TAGS")?st(vr(va),J.ADD_DATA_URI_TAGS,Lt):va,ts=ks(J,"FORBID_CONTENTS")?st({},J.FORBID_CONTENTS,Lt):xa,ye=ks(J,"FORBID_TAGS")?st({},J.FORBID_TAGS,Lt):vr({}),me=ks(J,"FORBID_ATTR")?st({},J.FORBID_ATTR,Lt):vr({}),Sr=ks(J,"USE_PROFILES")?J.USE_PROFILES:!1,De=J.ALLOW_ARIA_ATTR!==!1,Ye=J.ALLOW_DATA_ATTR!==!1,Ke=J.ALLOW_UNKNOWN_PROTOCOLS||!1,Qe=J.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=J.SAFE_FOR_TEMPLATES||!1,jt=J.SAFE_FOR_XML!==!1,Et=J.WHOLE_DOCUMENT||!1,Tt=J.RETURN_DOM||!1,Yi=J.RETURN_DOM_FRAGMENT||!1,hi=J.RETURN_TRUSTED_TYPE||!1,vs=J.FORCE_BODY||!1,Yn=J.SANITIZE_DOM!==!1,fi=J.SANITIZE_NAMED_PROPS||!1,Wi=J.KEEP_CONTENT!==!1,gi=J.IN_PLACE||!1,X=J.ALLOWED_URI_REGEXP||bb,Ta=J.NAMESPACE||Ea,pi=J.MATHML_TEXT_INTEGRATION_POINTS||pi,xi=J.HTML_INTEGRATION_POINTS||xi,K=J.CUSTOM_ELEMENT_HANDLING||{},J.CUSTOM_ELEMENT_HANDLING&&Xn(J.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=J.CUSTOM_ELEMENT_HANDLING.tagNameCheck),J.CUSTOM_ELEMENT_HANDLING&&Xn(J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=J.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),J.CUSTOM_ELEMENT_HANDLING&&typeof J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=J.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(Ye=!1),Yi&&(Tt=!0),Sr&&(Y=st({},Ov),ce=[],Sr.html===!0&&(st(Y,Dv),st(ce,Rv)),Sr.svg===!0&&(st(Y,$m),st(ce,Ym),st(ce,Bc)),Sr.svgFilters===!0&&(st(Y,Vm),st(ce,Ym),st(ce,Bc)),Sr.mathMl===!0&&(st(Y,Gm),st(ce,Mv),st(ce,Bc))),J.ADD_TAGS&&(Y===oe&&(Y=vr(Y)),st(Y,J.ADD_TAGS,Lt)),J.ADD_ATTR&&(ce===V&&(ce=vr(ce)),st(ce,J.ADD_ATTR,Lt)),J.ADD_URI_SAFE_ATTR&&st(Wn,J.ADD_URI_SAFE_ATTR,Lt),J.FORBID_CONTENTS&&(ts===xa&&(ts=vr(ts)),st(ts,J.FORBID_CONTENTS,Lt)),Wi&&(Y["#text"]=!0),Et&&st(Y,["html","head","body"]),Y.table&&(st(Y,["tbody"]),delete ye.tbody),J.TRUSTED_TYPES_POLICY){if(typeof J.TRUSTED_TYPES_POLICY.createHTML!="function")throw Zl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof J.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Zl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=J.TRUSTED_TYPES_POLICY,S=R.createHTML("")}else R===void 0&&(R=Dk(h,u)),R!==null&&typeof S=="string"&&(S=R.createHTML(""));ka&&ka(J),Ms=J}},js=st({},[...$m,...Vm,...bk]),ta=st({},[...Gm,...jk]),ya=function(J){let Ne=C(J);(!Ne||!Ne.tagName)&&(Ne={namespaceURI:Ta,tagName:"template"});const ke=Vc(J.tagName),_t=Vc(Ne.tagName);return Ks[J.namespaceURI]?J.namespaceURI===Qs?Ne.namespaceURI===Ea?ke==="svg":Ne.namespaceURI===Qi?ke==="svg"&&(_t==="annotation-xml"||pi[_t]):!!js[ke]:J.namespaceURI===Qi?Ne.namespaceURI===Ea?ke==="math":Ne.namespaceURI===Qs?ke==="math"&&xi[_t]:!!ta[ke]:J.namespaceURI===Ea?Ne.namespaceURI===Qs&&!xi[_t]||Ne.namespaceURI===Qi&&!pi[_t]?!1:!ta[ke]&&(Qn[ke]||!js[ke]):!!(bs==="application/xhtml+xml"&&Ks[J.namespaceURI]):!1},ma=function(J){Kl(s.removed,{element:J});try{C(J).removeChild(J)}catch{b(J)}},_s=function(J,Ne){try{Kl(s.removed,{attribute:Ne.getAttributeNode(J),from:Ne})}catch{Kl(s.removed,{attribute:null,from:Ne})}if(Ne.removeAttribute(J),J==="is")if(Tt||Yi)try{ma(Ne)}catch{}else try{Ne.setAttribute(J,"")}catch{}},So=function(J){let Ne=null,ke=null;if(vs)J="<remove></remove>"+J;else{const Dt=qm(J,/^[\r\n\t ]+/);ke=Dt&&Dt[0]}bs==="application/xhtml+xml"&&Ta===Ea&&(J='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+J+"</body></html>");const _t=R?R.createHTML(J):J;if(Ta===Ea)try{Ne=new A().parseFromString(_t,bs)}catch{}if(!Ne||!Ne.documentElement){Ne=N.createDocument(Ta,"template",null);try{Ne.documentElement.innerHTML=Cr?S:_t}catch{}}const aa=Ne.body||Ne.documentElement;return J&&ke&&aa.insertBefore(n.createTextNode(ke),aa.childNodes[0]||null),Ta===Ea?T.call(Ne,Et?"html":"body")[0]:Et?Ne.documentElement:aa},Co=function(J){return z.call(J.ownerDocument||J,J,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},Ki=function(J){return J instanceof w&&(typeof J.nodeName!="string"||typeof J.textContent!="string"||typeof J.removeChild!="function"||!(J.attributes instanceof y)||typeof J.removeAttribute!="function"||typeof J.setAttribute!="function"||typeof J.namespaceURI!="string"||typeof J.insertBefore!="function"||typeof J.hasChildNodes!="function")},kr=function(J){return typeof g=="function"&&J instanceof g};function qa(Oe,J,Ne){Uc(Oe,ke=>{ke.call(s,J,Ne,Ms)})}const Xs=function(J){let Ne=null;if(qa(I.beforeSanitizeElements,J,null),Ki(J))return ma(J),!0;const ke=Lt(J.nodeName);if(qa(I.uponSanitizeElement,J,{tagName:ke,allowedTags:Y}),jt&&J.hasChildNodes()&&!kr(J.firstElementChild)&&wa(/<[/\w!]/g,J.innerHTML)&&wa(/<[/\w!]/g,J.textContent)||J.nodeType===eo.progressingInstruction||jt&&J.nodeType===eo.comment&&wa(/<[/\w]/g,J.data))return ma(J),!0;if(!Y[ke]||ye[ke]){if(!ye[ke]&&Ar(ke)&&(K.tagNameCheck instanceof RegExp&&wa(K.tagNameCheck,ke)||K.tagNameCheck instanceof Function&&K.tagNameCheck(ke)))return!1;if(Wi&&!ts[ke]){const _t=C(J)||J.parentNode,aa=U(J)||J.childNodes;if(aa&&_t){const Dt=aa.length;for(let ba=Dt-1;ba>=0;--ba){const Da=E(aa[ba],!0);Da.__removalCount=(J.__removalCount||0)+1,_t.insertBefore(Da,v(J))}}}return ma(J),!0}return J instanceof x&&!ya(J)||(ke==="noscript"||ke==="noembed"||ke==="noframes")&&wa(/<\/no(script|embed|frames)/i,J.innerHTML)?(ma(J),!0):($e&&J.nodeType===eo.text&&(Ne=J.textContent,Uc([H,W,he],_t=>{Ne=Xl(Ne,_t," ")}),J.textContent!==Ne&&(Kl(s.removed,{element:J.cloneNode()}),J.textContent=Ne)),qa(I.afterSanitizeElements,J,null),!1)},Zs=function(J,Ne,ke){if(Yn&&(Ne==="id"||Ne==="name")&&(ke in n||ke in Kn))return!1;if(!(Ye&&!me[Ne]&&wa(ee,Ne))){if(!(De&&wa(k,Ne))){if(!ce[Ne]||me[Ne]){if(!(Ar(J)&&(K.tagNameCheck instanceof RegExp&&wa(K.tagNameCheck,J)||K.tagNameCheck instanceof Function&&K.tagNameCheck(J))&&(K.attributeNameCheck instanceof RegExp&&wa(K.attributeNameCheck,Ne)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(Ne,J))||Ne==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&wa(K.tagNameCheck,ke)||K.tagNameCheck instanceof Function&&K.tagNameCheck(ke))))return!1}else if(!Wn[Ne]){if(!wa(X,Xl(ke,F,""))){if(!((Ne==="src"||Ne==="xlink:href"||Ne==="href")&&J!=="script"&&pk(ke,"data:")===0&&ys[J])){if(!(Ke&&!wa(B,Xl(ke,F,"")))){if(ke)return!1}}}}}}return!0},Ar=function(J){return J!=="annotation-xml"&&qm(J,ue)},Js=function(J){qa(I.beforeSanitizeAttributes,J,null);const{attributes:Ne}=J;if(!Ne||Ki(J))return;const ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ce,forceKeepAttr:void 0};let _t=Ne.length;for(;_t--;){const aa=Ne[_t],{name:Dt,namespaceURI:ba,value:Da}=aa,ws=Lt(Dt),$a=Da;let Ut=Dt==="value"?$a:xk($a);if(ke.attrName=ws,ke.attrValue=Ut,ke.keepAttr=!0,ke.forceKeepAttr=void 0,qa(I.uponSanitizeAttribute,J,ke),Ut=ke.attrValue,fi&&(ws==="id"||ws==="name")&&(_s(Dt,J),Ut=jd+Ut),jt&&wa(/((--!?|])>)|<\/(style|title|textarea)/i,Ut)){_s(Dt,J);continue}if(ws==="attributename"&&qm(Ut,"href")){_s(Dt,J);continue}if(ke.forceKeepAttr)continue;if(!ke.keepAttr){_s(Dt,J);continue}if(!Qe&&wa(/\/>/i,Ut)){_s(Dt,J);continue}$e&&Uc([H,W,he],er=>{Ut=Xl(Ut,er," ")});const Jn=Lt(J.nodeName);if(!Zs(Jn,ws,Ut)){_s(Dt,J);continue}if(R&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!ba)switch(h.getAttributeType(Jn,ws)){case"TrustedHTML":{Ut=R.createHTML(Ut);break}case"TrustedScriptURL":{Ut=R.createScriptURL(Ut);break}}if(Ut!==$a)try{ba?J.setAttributeNS(ba,Dt,Ut):J.setAttribute(Dt,Ut),Ki(J)?ma(J):Tv(s.removed)}catch{_s(Dt,J)}}qa(I.afterSanitizeAttributes,J,null)},Vt=function Oe(J){let Ne=null;const ke=Co(J);for(qa(I.beforeSanitizeShadowDOM,J,null);Ne=ke.nextNode();)qa(I.uponSanitizeShadowNode,Ne,null),Xs(Ne),Js(Ne),Ne.content instanceof c&&Oe(Ne.content);qa(I.afterSanitizeShadowDOM,J,null)};return s.sanitize=function(Oe){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=null,ke=null,_t=null,aa=null;if(Cr=!Oe,Cr&&(Oe="<!-->"),typeof Oe!="string"&&!kr(Oe))if(typeof Oe.toString=="function"){if(Oe=Oe.toString(),typeof Oe!="string")throw Zl("dirty is not a string, aborting")}else throw Zl("toString is not a function");if(!s.isSupported)return Oe;if(Ha||Zn(J),s.removed=[],typeof Oe=="string"&&(gi=!1),gi){if(Oe.nodeName){const Da=Lt(Oe.nodeName);if(!Y[Da]||ye[Da])throw Zl("root node is forbidden and cannot be sanitized in-place")}}else if(Oe instanceof g)Ne=So("<!---->"),ke=Ne.ownerDocument.importNode(Oe,!0),ke.nodeType===eo.element&&ke.nodeName==="BODY"||ke.nodeName==="HTML"?Ne=ke:Ne.appendChild(ke);else{if(!Tt&&!$e&&!Et&&Oe.indexOf("<")===-1)return R&&hi?R.createHTML(Oe):Oe;if(Ne=So(Oe),!Ne)return Tt?null:hi?S:""}Ne&&vs&&ma(Ne.firstChild);const Dt=Co(gi?Oe:Ne);for(;_t=Dt.nextNode();)Xs(_t),Js(_t),_t.content instanceof c&&Vt(_t.content);if(gi)return Oe;if(Tt){if(Yi)for(aa=L.call(Ne.ownerDocument);Ne.firstChild;)aa.appendChild(Ne.firstChild);else aa=Ne;return(ce.shadowroot||ce.shadowrootmode)&&(aa=O.call(o,aa,!0)),aa}let ba=Et?Ne.outerHTML:Ne.innerHTML;return Et&&Y["!doctype"]&&Ne.ownerDocument&&Ne.ownerDocument.doctype&&Ne.ownerDocument.doctype.name&&wa(jb,Ne.ownerDocument.doctype.name)&&(ba="<!DOCTYPE "+Ne.ownerDocument.doctype.name+`>
`+ba),$e&&Uc([H,W,he],Da=>{ba=Xl(ba,Da," ")}),R&&hi?R.createHTML(ba):ba},s.setConfig=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zn(Oe),Ha=!0},s.clearConfig=function(){Ms=null,Ha=!1},s.isValidAttribute=function(Oe,J,Ne){Ms||Zn({});const ke=Lt(Oe),_t=Lt(J);return Zs(ke,_t,Ne)},s.addHook=function(Oe,J){typeof J=="function"&&Kl(I[Oe],J)},s.removeHook=function(Oe,J){if(J!==void 0){const Ne=fk(I[Oe],J);return Ne===-1?void 0:gk(I[Oe],Ne,1)[0]}return Tv(I[Oe])},s.removeHooks=function(Oe){I[Oe]=[]},s.removeAllHooks=function(){I=Pv()},s}var Jc=_b();function Ok(){const{t:i,i18n:s}=Me(),{resolvedTheme:n}=ci(),[o,u]=_.useState(null),[c,m]=_.useState(!1),{formatPrice:g,currency:x}=Fa(),{products:j,loading:y}=ab(),{categories:w,loading:A}=sb(),{settings:h}=c1(),p=s.language==="ar",E=_.useMemo(()=>j.sort((R,S)=>new Date(S.created).getTime()-new Date(R.created).getTime()).slice(0,6),[j]),b=R=>{R&&(u(R),m(!0))},v=()=>{u(null),m(!1)};Rs();const U=R=>{let S=R.price_omr;if(x==="USD"&&R.price_usd?S=R.price_usd:x==="SAR"&&R.price_sar&&(S=R.price_sar),x!=="OMR"){const N=Nt[x]||1;return S*N}return S},C=R=>{let S=R.sale_price_omr;if(x==="USD"&&R.sale_price_usd?S=R.sale_price_usd:x==="SAR"&&R.sale_price_sar&&(S=R.sale_price_sar),!S)return null;if(x!=="OMR"){const N=Nt[x]||1;return S*N}return S};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("section",{className:"min-h-screen relative overflow-hidden z-0 -mt-16",children:e.jsx(ok,{})}),h?.showFeatureSection!==!1&&e.jsxs("section",{className:"py-12 lg:py-16 relative",style:{backgroundColor:h?.featureSectionBackgroundType==="color"&&(n==="dark"?h?.featureSectionBackgroundColorDark||h?.featureSectionBackgroundColor:h?.featureSectionBackgroundColorLight||h?.featureSectionBackgroundColor)?n==="dark"?h?.featureSectionBackgroundColorDark||h?.featureSectionBackgroundColor:h?.featureSectionBackgroundColorLight||h?.featureSectionBackgroundColor:void 0,backgroundImage:h?.featureSectionBackgroundType==="image"&&h?.featureSectionBackgroundImage?`url(${h.featureSectionBackgroundImage})`:void 0,backgroundSize:h?.featureSectionBackgroundType==="image"?"cover":void 0,backgroundPosition:h?.featureSectionBackgroundType==="image"?"center":void 0,backgroundRepeat:h?.featureSectionBackgroundType==="image"?"no-repeat":void 0},children:[h?.featureSectionBackgroundType==="image"&&h?.featureSectionBackgroundImage&&e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 text-foreground",dangerouslySetInnerHTML:{__html:Jc.sanitize(p?h?.featureSectionTitleAr||"  ":h?.featureSectionTitle||"Exceptional Coffee Experience")}}),e.jsx("div",{className:"w-16 h-1 bg-primary mx-auto rounded-full"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8 lg:gap-12",children:[e.jsx("div",{className:"flex-1 text-center lg:text-left order-2 lg:order-1",children:e.jsx("div",{className:"text-lg md:text-xl text-muted-foreground leading-relaxed feature-content",dangerouslySetInnerHTML:{__html:Jc.sanitize(p?h?.featureSectionDescriptionAr||"         .               .":h?.featureSectionDescription||"At Spirit Hub, we invite you to a perfect artisanal high-quality coffee experience. Enjoy exceptional flavors crafted with utmost care, and discover the world of coffee like never before.")}})}),e.jsx("div",{className:"flex-1 flex justify-center w-full order-1 lg:order-2",children:h?.featureSectionImage&&e.jsxs("div",{className:"w-full max-w-lg aspect-video overflow-hidden rounded-lg shadow-xl cursor-pointer hover:opacity-90 transition-all duration-300 relative group",onClick:()=>b(h.featureSectionImage),children:[e.jsx("img",{src:h.featureSectionImage,alt:"Feature",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:R=>{R.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(Gl,{className:"w-8 h-8 text-white"})})]})})]})]})})]}),e.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),h?.showLatestReleaseSection!==!1&&e.jsxs("section",{className:"py-12 md:py-16 lg:py-24 w-full relative",style:{backgroundColor:h?.latestReleaseBackgroundType==="color"&&(n==="dark"?h?.latestReleaseBackgroundColorDark||h?.latestReleaseBackgroundColor:h?.latestReleaseBackgroundColorLight||h?.latestReleaseBackgroundColor)?n==="dark"?h?.latestReleaseBackgroundColorDark||h?.latestReleaseBackgroundColor:h?.latestReleaseBackgroundColorLight||h?.latestReleaseBackgroundColor:void 0,backgroundImage:h?.latestReleaseBackgroundType==="image"&&h?.latestReleaseBackgroundImage?`url(${h.latestReleaseBackgroundImage})`:void 0,backgroundSize:h?.latestReleaseBackgroundType==="image"?"cover":void 0,backgroundPosition:h?.latestReleaseBackgroundType==="image"?"center":void 0,backgroundRepeat:h?.latestReleaseBackgroundType==="image"?"no-repeat":void 0,backgroundAttachment:h?.latestReleaseBackgroundType==="image"?"fixed":void 0},children:[h?.latestReleaseBackgroundType==="image"&&h?.latestReleaseBackgroundImage&&e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center space-y-4 mb-8 md:mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight text-foreground",children:p?h?.latestReleaseTitleAr||" ":h?.latestReleaseTitle||"LATEST RELEASE"}),e.jsx("div",{className:"w-16 h-1 bg-primary mx-auto rounded-full"})]}),y?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6 max-w-7xl mx-auto",children:[1,2,3,4,5,6].map(R=>e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"animate-pulse w-full aspect-square bg-muted rounded-lg"}),e.jsx("div",{className:"animate-pulse h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"animate-pulse h-3 bg-muted rounded w-1/2"})]},R))}):E.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6 max-w-7xl mx-auto",children:E.slice(0,6).map(R=>{const S=U(R),N=C(R),z=localStorage.getItem("i18nextLng")==="ar";return e.jsxs(Ge,{to:`/product/${R.slug||R.id}`,className:"group flex flex-col h-full bg-background border border-border rounded-lg overflow-hidden hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"w-full aspect-square overflow-hidden bg-muted",children:e.jsx("img",{src:R.image_url||R.image||R.images?.[0]||R.gallery?.[0]||R.gallery_images?.[0]||"/images/logo.png",alt:R.name||"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:L=>{L.currentTarget.src="/images/logo.png"}})}),e.jsxs("div",{className:"flex flex-col flex-1 p-3 space-y-2",children:[e.jsx("h3",{className:`font-semibold text-sm product-name-truncate transition-colors ${n==="dark"?"text-gray-100 hover:text-blue-300":"text-gray-900 hover:text-blue-600"}`,children:z&&R.name_ar||R.name}),e.jsx("p",{className:`text-xs leading-relaxed product-name-truncate ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:(z?R.notes_ar:R.notes)?z&&R.notes_ar||R.notes:z?"  ":"No notes available"}),e.jsx("div",{className:"mt-auto",children:e.jsx("div",{className:"product-price-container",children:N&&N<S?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-bold text-red-500",children:g(N)}),e.jsx("span",{className:"text-xs text-muted-foreground line-through",children:g(S)})]}):e.jsx("span",{className:"text-sm font-bold text-primary",children:g(S)})})})]})]},R.id)})}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:i("homepage.latestRelease.noProducts","No new products available at the moment")})})]})})]}),e.jsxs("section",{className:"relative py-12 md:py-16 lg:py-24 w-full overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full bg-fixed bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${h?.backgroundVideo||"/images/back.jpg"})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/60"}),e.jsx("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center space-y-4 md:space-y-6 mb-12 md:mb-16",children:[e.jsx("h2",{className:"text-2xl md:text-4xl lg:text-5xl xl:text-6xl font-bold tracking-tight text-white drop-shadow-lg",children:p?h?.coffeeSelectionTitleAr||" ":h?.coffeeSelectionTitle||"COFFEE SELECTION"}),e.jsx("p",{className:"text-sm md:text-lg lg:text-xl text-white/90 max-w-4xl mx-auto leading-relaxed drop-shadow-md px-2 md:px-0",children:p?h?.coffeeSelectionDescriptionAr||"         .                   .           .":h?.coffeeSelectionDescription||"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable."}),e.jsx("div",{className:"pt-4",children:e.jsx(q,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground px-8 py-4 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105",asChild:!0,children:e.jsx(Ge,{to:"/shop",className:"flex items-center gap-2",children:p?h?.coffeeSelectionButtonTextAr||" ":h?.coffeeSelectionButtonText||"SHOP NOW"})})})]})})})]}),e.jsx("section",{className:"py-12 md:py-16 lg:py-24 w-full bg-white",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center space-y-4 mb-8 md:mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight text-gray-900 dark:text-gray-900",children:i("homepage.categories.title","SpiritHub Categories")}),e.jsx("div",{className:"w-16 h-1 bg-primary mx-auto rounded-full"})]}),A?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 max-w-7xl mx-auto",children:[1,2,3,4,5,6,7,8,9,10].map(R=>e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"animate-pulse w-full aspect-square bg-muted rounded-lg"}),e.jsx("div",{className:"animate-pulse h-4 bg-muted rounded w-3/4"}),e.jsx("div",{className:"animate-pulse h-3 bg-muted rounded w-1/2"})]},R))}):w.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 max-w-7xl mx-auto",children:(()=>{const R=h?.homepageCategoryIds||[];return R&&R.length>0?R.map(S=>w.find(N=>N.id===S)).filter(Boolean).map(S=>{if(!S)return null;const z=localStorage.getItem("i18nextLng")==="ar"&&S.name_ar||S.name;return e.jsxs(Ge,{to:`/shop?category=${S.id}`,className:"group flex flex-col items-center text-center space-y-3 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"w-full aspect-square overflow-hidden rounded-lg bg-muted border border-border",children:e.jsx("img",{src:S.image||"/images/logo.png",alt:z,className:"w-full h-full object-cover",loading:"lazy",onError:L=>{L.currentTarget.src="/images/logo.png"}})}),e.jsx("div",{className:"space-y-1",children:e.jsx("h3",{className:"font-semibold text-base text-gray-900 dark:text-gray-900 hover:text-primary transition-colors category-name-truncate",title:z,children:z})})]},S.id)}):w.filter(S=>S.showOnHome!==!1).map(S=>{const z=localStorage.getItem("i18nextLng")==="ar"&&S.name_ar||S.name;return e.jsxs(Ge,{to:`/shop?category=${S.id}`,className:"group flex flex-col items-center text-center space-y-3 p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:"w-full aspect-square overflow-hidden rounded-lg bg-muted border border-border",children:e.jsx("img",{src:S.image||"/images/logo.png",alt:z,className:"w-full h-full object-cover",loading:"lazy",onError:L=>{L.currentTarget.src="/images/logo.png"}})}),e.jsx("div",{className:"space-y-1",children:e.jsx("h3",{className:"font-semibold text-base text-gray-900 dark:text-gray-900 hover:text-primary transition-colors category-name-truncate",title:z,children:z})})]},S.id)})})()}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-700 text-lg",children:i("homepage.categories.noCategories","No categories available at the moment")})})]})})}),h?.showCommunitySection!==!1&&e.jsxs("section",{className:"py-16 md:py-24 lg:py-32 xl:py-40 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full bg-scroll md:bg-fixed bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${h?.communityBackgroundImage||"/images/back.jpg"})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/60"}),e.jsx("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"text-center max-w-5xl mx-auto",children:[e.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 leading-relaxed drop-shadow-lg font-medium",children:p?h?.communityTextAr||"       !                .     .               .                .      !":h?.communityText||"Become an integral part of our Spirit Hub family! Connect with us on social media for exclusive updates, behind-the-scenes glimpses, and thrilling content. Follow us to stay in the loop. From sneak peeks into our creative process to special promotions, our social channels are your ticket to the latest. Engage with like-minded enthusiasts, share your experiences, and be a crucial member of our dynamic online community. Don't miss out on the excitement; join us today!"}),e.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[e.jsx(q,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-white/30 bg-white/10 backdrop-blur-sm hover:bg-white/20 hover:border-white/50 transition-all duration-300",asChild:!0,children:e.jsx("a",{href:h?.instagramUrl||"https://instagram.com/spirithubcafe",target:"_blank",rel:"noopener noreferrer",title:"Follow us on Instagram","aria-label":"Follow us on Instagram",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})}),e.jsx(q,{variant:"outline",size:"icon",className:"h-12 w-12 rounded-full border-white/30 bg-white/10 backdrop-blur-sm hover:bg-white/20 hover:border-white/50 transition-all duration-300",asChild:!0,children:e.jsx("a",{href:h?.facebookUrl||"https://facebook.com/spirithubcafe",target:"_blank",rel:"noopener noreferrer",title:"Follow us on Facebook","aria-label":"Follow us on Facebook",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})})})]})]}),(h?.communityImage1||h?.communityImage2||h?.communityImage3||h?.communityImage4)&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 lg:gap-8 max-w-7xl mx-auto px-4",children:[h?.communityImage1&&e.jsxs("div",{className:"aspect-[3/2] md:aspect-[4/3] lg:aspect-[16/10] overflow-hidden rounded-lg shadow-2xl border border-white/20 cursor-pointer hover:opacity-90 transition-all duration-300 relative group",onClick:()=>b(h.communityImage1),children:[e.jsx("img",{src:h.communityImage1,alt:"Community 1",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:R=>{R.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(Gl,{className:"w-8 h-8 text-white"})})]}),h?.communityImage2&&e.jsxs("div",{className:"aspect-[3/2] md:aspect-[4/3] lg:aspect-[16/10] overflow-hidden rounded-lg shadow-2xl border border-white/20 cursor-pointer hover:opacity-90 transition-all duration-300 relative group",onClick:()=>b(h.communityImage2),children:[e.jsx("img",{src:h.communityImage2,alt:"Community 2",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:R=>{R.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(Gl,{className:"w-8 h-8 text-white"})})]}),h?.communityImage3&&e.jsxs("div",{className:"aspect-[3/2] md:aspect-[4/3] lg:aspect-[16/10] overflow-hidden rounded-lg shadow-2xl border border-white/20 cursor-pointer hover:opacity-90 transition-all duration-300 relative group",onClick:()=>b(h.communityImage3),children:[e.jsx("img",{src:h.communityImage3,alt:"Community 3",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:R=>{R.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(Gl,{className:"w-8 h-8 text-white"})})]}),h?.communityImage4&&e.jsxs("div",{className:"aspect-[3/2] md:aspect-[4/3] lg:aspect-[16/10] overflow-hidden rounded-lg shadow-2xl border border-white/20 cursor-pointer hover:opacity-90 transition-all duration-300 relative group",onClick:()=>b(h.communityImage4),children:[e.jsx("img",{src:h.communityImage4,alt:"Community 4",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:R=>{R.currentTarget.style.display="none"}}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:e.jsx(Gl,{className:"w-8 h-8 text-white"})})]})]})]})})})]}),e.jsx(dk,{}),e.jsx(Pt,{open:c,onOpenChange:m,children:e.jsx(zt,{className:"max-w-4xl w-full p-0 bg-transparent border-none [&>button]:hidden",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 z-50 bg-black/30 hover:bg-black/50 text-white rounded-full p-3 transition-colors duration-200 backdrop-blur-sm border border-white/20","aria-label":p?"":"Close",children:e.jsx(St,{className:"w-6 h-6"})}),o&&e.jsx("img",{src:o,alt:p?" ":"Enlarged image",className:"w-full h-auto max-h-[90vh] object-contain rounded-lg",onError:R=>{R.currentTarget.src="/images/logo.png"}})]})})})]})}function ie({className:i,...s}){return e.jsx("div",{"data-slot":"card",className:_e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...s})}function ge({className:i,...s}){return e.jsx("div",{"data-slot":"card-header",className:_e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...s})}function pe({className:i,...s}){return e.jsx("div",{"data-slot":"card-title",className:_e("leading-none font-semibold",i),...s})}function Ce({className:i,...s}){return e.jsx("div",{"data-slot":"card-description",className:_e("text-muted-foreground text-sm",i),...s})}function ne({className:i,...s}){return e.jsx("div",{"data-slot":"card-content",className:_e("px-6",i),...s})}function zv(i,[s,n]){return Math.min(n,Math.max(s,i))}function ef(i){const s=_.useRef({value:i,previous:i});return _.useMemo(()=>(s.current.value!==i&&(s.current.previous=s.current.value,s.current.value=i),s.current.previous),[i])}var wb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rk="VisuallyHidden",Mk=_.forwardRef((i,s)=>e.jsx(ht.span,{...i,ref:s,style:{...wb,...i.style}}));Mk.displayName=Rk;var Ik=[" ","Enter","ArrowUp","ArrowDown"],Pk=[" ","Enter"],Vi="Select",[gd,pd,zk]=Nw(Vi),[Gn,ME]=ni(Vi,[zk,Kv]),xd=Kv(),[Lk,ui]=Gn(Vi),[Uk,Bk]=Gn(Vi),Nb=i=>{const{__scopeSelect:s,children:n,open:o,defaultOpen:u,onOpenChange:c,value:m,defaultValue:g,onValueChange:x,dir:j,name:y,autoComplete:w,disabled:A,required:h,form:p}=i,E=xd(s),[b,v]=_.useState(null),[U,C]=_.useState(null),[R,S]=_.useState(!1),N=Ih(j),[z,L]=uo({prop:o,defaultProp:u??!1,onChange:c,caller:Vi}),[T,O]=uo({prop:m,defaultProp:g,onChange:x,caller:Vi}),I=_.useRef(null),H=b?p||!!b.closest("form"):!0,[W,he]=_.useState(new Set),ee=Array.from(W).map(k=>k.props.value).join(";");return e.jsx(ww,{...E,children:e.jsxs(Lk,{required:h,scope:s,trigger:b,onTriggerChange:v,valueNode:U,onValueNodeChange:C,valueNodeHasChildren:R,onValueNodeHasChildrenChange:S,contentId:od(),value:T,onValueChange:O,open:z,onOpenChange:L,dir:N,triggerPointerDownPosRef:I,disabled:A,children:[e.jsx(gd.Provider,{scope:s,children:e.jsx(Uk,{scope:i.__scopeSelect,onNativeOptionAdd:_.useCallback(k=>{he(B=>new Set(B).add(k))},[]),onNativeOptionRemove:_.useCallback(k=>{he(B=>{const F=new Set(B);return F.delete(k),F})},[]),children:n})}),H?e.jsxs(Gb,{"aria-hidden":!0,required:h,tabIndex:-1,name:y,autoComplete:w,value:T,onChange:k=>O(k.target.value),disabled:A,form:p,children:[T===void 0?e.jsx("option",{value:""}):null,Array.from(W)]},ee):null]})})};Nb.displayName=Vi;var Sb="SelectTrigger",Cb=_.forwardRef((i,s)=>{const{__scopeSelect:n,disabled:o=!1,...u}=i,c=xd(n),m=ui(Sb,n),g=m.disabled||o,x=pa(s,m.onTriggerChange),j=pd(n),y=_.useRef("touch"),[w,A,h]=Wb(E=>{const b=j().filter(C=>!C.disabled),v=b.find(C=>C.value===m.value),U=Qb(b,E,v);U!==void 0&&m.onValueChange(U.value)}),p=E=>{g||(m.onOpenChange(!0),h()),E&&(m.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return e.jsx(Sw,{asChild:!0,...c,children:e.jsx(ht.button,{type:"button",role:"combobox","aria-controls":m.contentId,"aria-expanded":m.open,"aria-required":m.required,"aria-autocomplete":"none",dir:m.dir,"data-state":m.open?"open":"closed",disabled:g,"data-disabled":g?"":void 0,"data-placeholder":Yb(m.value)?"":void 0,...u,ref:x,onClick:Ct(u.onClick,E=>{E.currentTarget.focus(),y.current!=="mouse"&&p(E)}),onPointerDown:Ct(u.onPointerDown,E=>{y.current=E.pointerType;const b=E.target;b.hasPointerCapture(E.pointerId)&&b.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(p(E),E.preventDefault())}),onKeyDown:Ct(u.onKeyDown,E=>{const b=w.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&A(E.key),!(b&&E.key===" ")&&Ik.includes(E.key)&&(p(),E.preventDefault())})})})});Cb.displayName=Sb;var kb="SelectValue",Ab=_.forwardRef((i,s)=>{const{__scopeSelect:n,className:o,style:u,children:c,placeholder:m="",...g}=i,x=ui(kb,n),{onValueNodeHasChildrenChange:j}=x,y=c!==void 0,w=pa(s,x.onValueNodeChange);return Os(()=>{j(y)},[j,y]),e.jsx(ht.span,{...g,ref:w,style:{pointerEvents:"none"},children:Yb(x.value)?e.jsx(e.Fragment,{children:m}):c})});Ab.displayName=kb;var Fk="SelectIcon",Eb=_.forwardRef((i,s)=>{const{__scopeSelect:n,children:o,...u}=i;return e.jsx(ht.span,{"aria-hidden":!0,...u,ref:s,children:o||""})});Eb.displayName=Fk;var Hk="SelectPortal",Tb=i=>e.jsx(Cw,{asChild:!0,...i});Tb.displayName=Hk;var Gi="SelectContent",Db=_.forwardRef((i,s)=>{const n=ui(Gi,i.__scopeSelect),[o,u]=_.useState();if(Os(()=>{u(new DocumentFragment)},[]),!n.open){const c=o;return c?Xv.createPortal(e.jsx(Ob,{scope:i.__scopeSelect,children:e.jsx(gd.Slot,{scope:i.__scopeSelect,children:e.jsx("div",{children:i.children})})}),c):null}return e.jsx(Rb,{...i,ref:s})});Db.displayName=Gi;var As=10,[Ob,mi]=Gn(Gi),qk="SelectContentImpl",$k=Tw("SelectContent.RemoveScroll"),Rb=_.forwardRef((i,s)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:u,onEscapeKeyDown:c,onPointerDownOutside:m,side:g,sideOffset:x,align:j,alignOffset:y,arrowPadding:w,collisionBoundary:A,collisionPadding:h,sticky:p,hideWhenDetached:E,avoidCollisions:b,...v}=i,U=ui(Gi,n),[C,R]=_.useState(null),[S,N]=_.useState(null),z=pa(s,me=>R(me)),[L,T]=_.useState(null),[O,I]=_.useState(null),H=pd(n),[W,he]=_.useState(!1),ee=_.useRef(!1);_.useEffect(()=>{if(C)return kw(C)},[C]),Aw();const k=_.useCallback(me=>{const[De,...Ye]=H().map($e=>$e.ref.current),[Ke]=Ye.slice(-1),Qe=document.activeElement;for(const $e of me)if($e===Qe||($e?.scrollIntoView({block:"nearest"}),$e===De&&S&&(S.scrollTop=0),$e===Ke&&S&&(S.scrollTop=S.scrollHeight),$e?.focus(),document.activeElement!==Qe))return},[H,S]),B=_.useCallback(()=>k([L,C]),[k,L,C]);_.useEffect(()=>{W&&B()},[W,B]);const{onOpenChange:F,triggerPointerDownPosRef:ue}=U;_.useEffect(()=>{if(C){let me={x:0,y:0};const De=Ke=>{me={x:Math.abs(Math.round(Ke.pageX)-(ue.current?.x??0)),y:Math.abs(Math.round(Ke.pageY)-(ue.current?.y??0))}},Ye=Ke=>{me.x<=10&&me.y<=10?Ke.preventDefault():C.contains(Ke.target)||F(!1),document.removeEventListener("pointermove",De),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[C,F,ue]),_.useEffect(()=>{const me=()=>F(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[F]);const[X,Y]=Wb(me=>{const De=H().filter(Qe=>!Qe.disabled),Ye=De.find(Qe=>Qe.ref.current===document.activeElement),Ke=Qb(De,me,Ye);Ke&&setTimeout(()=>Ke.ref.current.focus())}),oe=_.useCallback((me,De,Ye)=>{const Ke=!ee.current&&!Ye;(U.value!==void 0&&U.value===De||Ke)&&(T(me),Ke&&(ee.current=!0))},[U.value]),ce=_.useCallback(()=>C?.focus(),[C]),V=_.useCallback((me,De,Ye)=>{const Ke=!ee.current&&!Ye;(U.value!==void 0&&U.value===De||Ke)&&I(me)},[U.value]),K=o==="popper"?vh:Mb,ye=K===vh?{side:g,sideOffset:x,align:j,alignOffset:y,arrowPadding:w,collisionBoundary:A,collisionPadding:h,sticky:p,hideWhenDetached:E,avoidCollisions:b}:{};return e.jsx(Ob,{scope:n,content:C,viewport:S,onViewportChange:N,itemRefCallback:oe,selectedItem:L,onItemLeave:ce,itemTextRefCallback:V,focusSelectedItem:B,selectedItemText:O,position:o,isPositioned:W,searchRef:X,children:e.jsx(Ew,{as:$k,allowPinchZoom:!0,children:e.jsx(Dw,{asChild:!0,trapped:U.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Ct(u,me=>{U.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:e.jsx(Ow,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:m,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>U.onOpenChange(!1),children:e.jsx(K,{role:"listbox",id:U.contentId,"data-state":U.open?"open":"closed",dir:U.dir,onContextMenu:me=>me.preventDefault(),...v,...ye,onPlaced:()=>he(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ct(v.onKeyDown,me=>{const De=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!De&&me.key.length===1&&Y(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ke=H().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ke=Ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Qe=me.target,$e=Ke.indexOf(Qe);Ke=Ke.slice($e+1)}setTimeout(()=>k(Ke)),me.preventDefault()}})})})})})})});Rb.displayName=qk;var Vk="SelectItemAlignedPosition",Mb=_.forwardRef((i,s)=>{const{__scopeSelect:n,onPlaced:o,...u}=i,c=ui(Gi,n),m=mi(Gi,n),[g,x]=_.useState(null),[j,y]=_.useState(null),w=pa(s,z=>y(z)),A=pd(n),h=_.useRef(!1),p=_.useRef(!0),{viewport:E,selectedItem:b,selectedItemText:v,focusSelectedItem:U}=m,C=_.useCallback(()=>{if(c.trigger&&c.valueNode&&g&&j&&E&&b&&v){const z=c.trigger.getBoundingClientRect(),L=j.getBoundingClientRect(),T=c.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(c.dir!=="rtl"){const Qe=O.left-L.left,$e=T.left-Qe,jt=z.left-$e,Et=z.width+jt,Ha=Math.max(Et,L.width),vs=window.innerWidth-As,Tt=zv($e,[As,Math.max(As,vs-Ha)]);g.style.minWidth=Et+"px",g.style.left=Tt+"px"}else{const Qe=L.right-O.right,$e=window.innerWidth-T.right-Qe,jt=window.innerWidth-z.right-$e,Et=z.width+jt,Ha=Math.max(Et,L.width),vs=window.innerWidth-As,Tt=zv($e,[As,Math.max(As,vs-Ha)]);g.style.minWidth=Et+"px",g.style.right=Tt+"px"}const I=A(),H=window.innerHeight-As*2,W=E.scrollHeight,he=window.getComputedStyle(j),ee=parseInt(he.borderTopWidth,10),k=parseInt(he.paddingTop,10),B=parseInt(he.borderBottomWidth,10),F=parseInt(he.paddingBottom,10),ue=ee+k+W+F+B,X=Math.min(b.offsetHeight*5,ue),Y=window.getComputedStyle(E),oe=parseInt(Y.paddingTop,10),ce=parseInt(Y.paddingBottom,10),V=z.top+z.height/2-As,K=H-V,ye=b.offsetHeight/2,me=b.offsetTop+ye,De=ee+k+me,Ye=ue-De;if(De<=V){const Qe=I.length>0&&b===I[I.length-1].ref.current;g.style.bottom="0px";const $e=j.clientHeight-E.offsetTop-E.offsetHeight,jt=Math.max(K,ye+(Qe?ce:0)+$e+B),Et=De+jt;g.style.height=Et+"px"}else{const Qe=I.length>0&&b===I[0].ref.current;g.style.top="0px";const jt=Math.max(V,ee+E.offsetTop+(Qe?oe:0)+ye)+Ye;g.style.height=jt+"px",E.scrollTop=De-V+E.offsetTop}g.style.margin=`${As}px 0`,g.style.minHeight=X+"px",g.style.maxHeight=H+"px",o?.(),requestAnimationFrame(()=>h.current=!0)}},[A,c.trigger,c.valueNode,g,j,E,b,v,c.dir,o]);Os(()=>C(),[C]);const[R,S]=_.useState();Os(()=>{j&&S(window.getComputedStyle(j).zIndex)},[j]);const N=_.useCallback(z=>{z&&p.current===!0&&(C(),U?.(),p.current=!1)},[C,U]);return e.jsx(Yk,{scope:n,contentWrapper:g,shouldExpandOnScrollRef:h,onScrollButtonChange:N,children:e.jsx("div",{ref:x,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:e.jsx(ht.div,{...u,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...u.style}})})})});Mb.displayName=Vk;var Gk="SelectPopperPosition",vh=_.forwardRef((i,s)=>{const{__scopeSelect:n,align:o="start",collisionPadding:u=As,...c}=i,m=xd(n);return e.jsx(Rw,{...m,...c,ref:s,align:o,collisionPadding:u,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vh.displayName=Gk;var[Yk,tf]=Gn(Gi,{}),yh="SelectViewport",Ib=_.forwardRef((i,s)=>{const{__scopeSelect:n,nonce:o,...u}=i,c=mi(yh,n),m=tf(yh,n),g=pa(s,c.onViewportChange),x=_.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(gd.Slot,{scope:n,children:e.jsx(ht.div,{"data-radix-select-viewport":"",role:"presentation",...u,ref:g,style:{position:"relative",flex:1,overflow:"hidden auto",...u.style},onScroll:Ct(u.onScroll,j=>{const y=j.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:A}=m;if(A?.current&&w){const h=Math.abs(x.current-y.scrollTop);if(h>0){const p=window.innerHeight-As*2,E=parseFloat(w.style.minHeight),b=parseFloat(w.style.height),v=Math.max(E,b);if(v<p){const U=v+h,C=Math.min(p,U),R=U-C;w.style.height=C+"px",w.style.bottom==="0px"&&(y.scrollTop=R>0?R:0,w.style.justifyContent="flex-end")}}}x.current=y.scrollTop})})})]})});Ib.displayName=yh;var Pb="SelectGroup",[Wk,Qk]=Gn(Pb),Kk=_.forwardRef((i,s)=>{const{__scopeSelect:n,...o}=i,u=od();return e.jsx(Wk,{scope:n,id:u,children:e.jsx(ht.div,{role:"group","aria-labelledby":u,...o,ref:s})})});Kk.displayName=Pb;var zb="SelectLabel",Xk=_.forwardRef((i,s)=>{const{__scopeSelect:n,...o}=i,u=Qk(zb,n);return e.jsx(ht.div,{id:u.id,...o,ref:s})});Xk.displayName=zb;var ed="SelectItem",[Zk,Lb]=Gn(ed),Ub=_.forwardRef((i,s)=>{const{__scopeSelect:n,value:o,disabled:u=!1,textValue:c,...m}=i,g=ui(ed,n),x=mi(ed,n),j=g.value===o,[y,w]=_.useState(c??""),[A,h]=_.useState(!1),p=pa(s,U=>x.itemRefCallback?.(U,o,u)),E=od(),b=_.useRef("touch"),v=()=>{u||(g.onValueChange(o),g.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Zk,{scope:n,value:o,disabled:u,textId:E,isSelected:j,onItemTextChange:_.useCallback(U=>{w(C=>C||(U?.textContent??"").trim())},[]),children:e.jsx(gd.ItemSlot,{scope:n,value:o,disabled:u,textValue:y,children:e.jsx(ht.div,{role:"option","aria-labelledby":E,"data-highlighted":A?"":void 0,"aria-selected":j&&A,"data-state":j?"checked":"unchecked","aria-disabled":u||void 0,"data-disabled":u?"":void 0,tabIndex:u?void 0:-1,...m,ref:p,onFocus:Ct(m.onFocus,()=>h(!0)),onBlur:Ct(m.onBlur,()=>h(!1)),onClick:Ct(m.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:Ct(m.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:Ct(m.onPointerDown,U=>{b.current=U.pointerType}),onPointerMove:Ct(m.onPointerMove,U=>{b.current=U.pointerType,u?x.onItemLeave?.():b.current==="mouse"&&U.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(m.onPointerLeave,U=>{U.currentTarget===document.activeElement&&x.onItemLeave?.()}),onKeyDown:Ct(m.onKeyDown,U=>{x.searchRef?.current!==""&&U.key===" "||(Pk.includes(U.key)&&v(),U.key===" "&&U.preventDefault())})})})})});Ub.displayName=ed;var ao="SelectItemText",Bb=_.forwardRef((i,s)=>{const{__scopeSelect:n,className:o,style:u,...c}=i,m=ui(ao,n),g=mi(ao,n),x=Lb(ao,n),j=Bk(ao,n),[y,w]=_.useState(null),A=pa(s,v=>w(v),x.onItemTextChange,v=>g.itemTextRefCallback?.(v,x.value,x.disabled)),h=y?.textContent,p=_.useMemo(()=>e.jsx("option",{value:x.value,disabled:x.disabled,children:h},x.value),[x.disabled,x.value,h]),{onNativeOptionAdd:E,onNativeOptionRemove:b}=j;return Os(()=>(E(p),()=>b(p)),[E,b,p]),e.jsxs(e.Fragment,{children:[e.jsx(ht.span,{id:x.textId,...c,ref:A}),x.isSelected&&m.valueNode&&!m.valueNodeHasChildren?Xv.createPortal(c.children,m.valueNode):null]})});Bb.displayName=ao;var Fb="SelectItemIndicator",Hb=_.forwardRef((i,s)=>{const{__scopeSelect:n,...o}=i;return Lb(Fb,n).isSelected?e.jsx(ht.span,{"aria-hidden":!0,...o,ref:s}):null});Hb.displayName=Fb;var bh="SelectScrollUpButton",qb=_.forwardRef((i,s)=>{const n=mi(bh,i.__scopeSelect),o=tf(bh,i.__scopeSelect),[u,c]=_.useState(!1),m=pa(s,o.onScrollButtonChange);return Os(()=>{if(n.viewport&&n.isPositioned){let g=function(){const j=x.scrollTop>0;c(j)};const x=n.viewport;return g(),x.addEventListener("scroll",g),()=>x.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),u?e.jsx(Vb,{...i,ref:m,onAutoScroll:()=>{const{viewport:g,selectedItem:x}=n;g&&x&&(g.scrollTop=g.scrollTop-x.offsetHeight)}}):null});qb.displayName=bh;var jh="SelectScrollDownButton",$b=_.forwardRef((i,s)=>{const n=mi(jh,i.__scopeSelect),o=tf(jh,i.__scopeSelect),[u,c]=_.useState(!1),m=pa(s,o.onScrollButtonChange);return Os(()=>{if(n.viewport&&n.isPositioned){let g=function(){const j=x.scrollHeight-x.clientHeight,y=Math.ceil(x.scrollTop)<j;c(y)};const x=n.viewport;return g(),x.addEventListener("scroll",g),()=>x.removeEventListener("scroll",g)}},[n.viewport,n.isPositioned]),u?e.jsx(Vb,{...i,ref:m,onAutoScroll:()=>{const{viewport:g,selectedItem:x}=n;g&&x&&(g.scrollTop=g.scrollTop+x.offsetHeight)}}):null});$b.displayName=jh;var Vb=_.forwardRef((i,s)=>{const{__scopeSelect:n,onAutoScroll:o,...u}=i,c=mi("SelectScrollButton",n),m=_.useRef(null),g=pd(n),x=_.useCallback(()=>{m.current!==null&&(window.clearInterval(m.current),m.current=null)},[]);return _.useEffect(()=>()=>x(),[x]),Os(()=>{g().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[g]),e.jsx(ht.div,{"aria-hidden":!0,...u,ref:s,style:{flexShrink:0,...u.style},onPointerDown:Ct(u.onPointerDown,()=>{m.current===null&&(m.current=window.setInterval(o,50))}),onPointerMove:Ct(u.onPointerMove,()=>{c.onItemLeave?.(),m.current===null&&(m.current=window.setInterval(o,50))}),onPointerLeave:Ct(u.onPointerLeave,()=>{x()})})}),Jk="SelectSeparator",eA=_.forwardRef((i,s)=>{const{__scopeSelect:n,...o}=i;return e.jsx(ht.div,{"aria-hidden":!0,...o,ref:s})});eA.displayName=Jk;var _h="SelectArrow",tA=_.forwardRef((i,s)=>{const{__scopeSelect:n,...o}=i,u=xd(n),c=ui(_h,n),m=mi(_h,n);return c.open&&m.position==="popper"?e.jsx(Mw,{...u,...o,ref:s}):null});tA.displayName=_h;var aA="SelectBubbleInput",Gb=_.forwardRef(({__scopeSelect:i,value:s,...n},o)=>{const u=_.useRef(null),c=pa(o,u),m=ef(s);return _.useEffect(()=>{const g=u.current;if(!g)return;const x=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(x,"value").set;if(m!==s&&y){const w=new Event("change",{bubbles:!0});y.call(g,s),g.dispatchEvent(w)}},[m,s]),e.jsx(ht.select,{...n,style:{...wb,...n.style},ref:c,defaultValue:s})});Gb.displayName=aA;function Yb(i){return i===""||i===void 0}function Wb(i){const s=Zv(i),n=_.useRef(""),o=_.useRef(0),u=_.useCallback(m=>{const g=n.current+m;s(g),function x(j){n.current=j,window.clearTimeout(o.current),j!==""&&(o.current=window.setTimeout(()=>x(""),1e3))}(g)},[s]),c=_.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,u,c]}function Qb(i,s,n){const u=s.length>1&&Array.from(s).every(j=>j===s[0])?s[0]:s,c=n?i.indexOf(n):-1;let m=sA(i,Math.max(c,0));u.length===1&&(m=m.filter(j=>j!==n));const x=m.find(j=>j.textValue.toLowerCase().startsWith(u.toLowerCase()));return x!==n?x:void 0}function sA(i,s){return i.map((n,o)=>i[(s+o)%i.length])}var rA=Nb,iA=Cb,nA=Ab,lA=Eb,oA=Tb,cA=Db,dA=Ib,uA=Ub,mA=Bb,hA=Hb,fA=qb,gA=$b;function Ue({...i}){return e.jsx(rA,{"data-slot":"select",...i})}function Be({...i}){return e.jsx(nA,{"data-slot":"select-value",...i})}function Fe({className:i,size:s="default",children:n,...o}){return e.jsxs(iA,{"data-slot":"select-trigger","data-size":s,className:_e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...o,children:[n,e.jsx(lA,{asChild:!0,children:e.jsx(Mh,{className:"size-4 opacity-50"})})]})}function He({className:i,children:s,position:n="popper",...o}){return e.jsx(oA,{children:e.jsxs(cA,{"data-slot":"select-content",className:_e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:n,...o,children:[e.jsx(pA,{}),e.jsx(dA,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(xA,{})]})})}function Q({className:i,children:s,...n}){return e.jsxs(uA,{"data-slot":"select-item",className:_e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",i),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(hA,{children:e.jsx(rh,{className:"size-4"})})}),e.jsx(mA,{children:s})]})}function pA({className:i,...s}){return e.jsx(fA,{"data-slot":"select-scroll-up-button",className:_e("flex cursor-default items-center justify-center py-1",i),...s,children:e.jsx(Iw,{className:"size-4"})})}function xA({className:i,...s}){return e.jsx(gA,{"data-slot":"select-scroll-down-button",className:_e("flex cursor-default items-center justify-center py-1",i),...s,children:e.jsx(Mh,{className:"size-4"})})}function Za({content:i,className:s="",maxLength:n}){if(!i||i.trim()==="")return e.jsx("div",{className:`html-content ${s}`,children:e.jsx("p",{className:"text-muted-foreground",children:"No content available"})});let o=i.trim();o=o.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/&nbsp;/g," ").trim(),/<p\b[^>]*>/i.test(o)||(o=o.split(/\n\s*\n/).filter(x=>x.trim()).map(x=>{let j=x.trim();return/<(?!\/?(b|strong|i|em|u|br|span)\b)[^>]+>/i.test(j)?j:(j=j.replace(/\n/g,"<br>"),!j.startsWith("<")||!j.includes(">")?`<p>${j}</p>`:j)}).join(`
`)),o=o.replace(/<br\s*\/?>/gi,"<br>").replace(/>\s+</g,"><").trim();const c=Jc.sanitize(o,{ALLOWED_TAGS:["p","br","strong","b","em","i","u","s","strike","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","pre","code","a","img","span","div","small","mark"],ALLOWED_ATTR:["href","target","rel","title","src","alt","width","height","class","style","id"],ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))/i,ALLOW_DATA_ATTR:!1,KEEP_CONTENT:!0,RETURN_DOM_FRAGMENT:!1});let m=c;if(n&&n>0){const g=document.createElement("div");g.innerHTML=c;const x=g.textContent||g.innerText||"";if(x.length>n){const j=x.substring(0,n),y=j.lastIndexOf(" "),w=j.lastIndexOf("."),A=j.lastIndexOf("!"),h=j.lastIndexOf("?"),p=Math.max(w,A,h);let E=n;p>n*.7?E=p+1:y>n*.8&&(E=y),m=`<p>${x.substring(0,E).trim()}...</p>`,m=Jc.sanitize(m)}}return(!m||m.trim()==="")&&(m="<p>No content available</p>"),e.jsx("div",{className:`html-content ${s}`,dangerouslySetInnerHTML:{__html:m}})}function wh({roastLevel:i,roastLevel_ar:s,process:n,process_ar:o,variety:u,variety_ar:c,altitude:m,altitude_ar:g,notes:x,notes_ar:j,uses:y,uses_ar:w,farm:A,farm_ar:h,aromatic_profile:p,aromatic_profile_ar:E,intensity:b,intensity_ar:v,compatibility:U,compatibility_ar:C,className:R}){const{t:S,i18n:N}=Me(),z=N.language==="ar",L=[{label:z?" ":"Roast Level",value:z&&s||i,icon:e.jsx(Pw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Process",value:z&&o||n,icon:e.jsx(zw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Variety",value:z&&c||u,icon:e.jsx(Lw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Altitude",value:z&&g||m,icon:e.jsx(Uw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Notes",value:z&&j||x,icon:e.jsx(Bw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Farm",value:z&&h||A,icon:e.jsx(Jv,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?" ":"Aromatic Profile",value:z&&E||p,icon:e.jsx(ih,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Intensity",value:z&&v||b,icon:e.jsx(ey,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Compatibility",value:z&&C||U,icon:e.jsx(Fw,{className:"h-5 w-5 text-amber-800 dark:text-amber-200"})},{label:z?"":"Uses",value:z&&w||y,icon:e.jsx(so,{className:"h-5 w-5 text-red-600 dark:text-red-400 font-bold"}),highlight:!0}].filter(T=>T.value&&T.value.trim());return L.length===0?null:e.jsx(ie,{className:`${R} compact-mode py-0`,children:e.jsxs(ne,{className:"p-3",dir:z?"rtl":"ltr",children:[e.jsx("div",{className:`w-full mb-2 ${z?"text-right":"text-left"}`,children:e.jsxs("div",{className:`flex items-center gap-2 ${z?"justify-end":"justify-start"}`,children:[e.jsx(so,{className:"h-4 w-4 text-amber-800 dark:text-amber-200"}),e.jsx("h3",{className:"font-medium text-sm",children:S("product.coffeeInformation")})]})}),e.jsx("div",{className:"space-y-2",children:L.map((T,O)=>e.jsx("div",{className:`w-full ${T.highlight?"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-2":""}`,children:z?e.jsxs("div",{className:"flex items-center text-xs text-right",dir:"rtl",children:[T.icon,e.jsxs("span",{className:`font-medium mx-1.5 ${T.highlight?"text-red-700 dark:text-red-300 font-semibold":"text-muted-foreground"}`,children:[T.label,":"]}),e.jsx("span",{className:`font-medium mr-auto text-right ${T.highlight?"text-red-800 dark:text-red-200 font-semibold":"text-foreground"}`,children:T.value})]}):e.jsxs("div",{className:"flex items-center text-xs",children:[T.icon,e.jsxs("span",{className:`font-medium mx-1.5 ${T.highlight?"text-red-700 dark:text-red-300 font-semibold":"text-muted-foreground"}`,children:[T.label,":"]}),e.jsx("span",{className:`font-medium ml-auto ${T.highlight?"text-red-800 dark:text-red-200 font-semibold":"text-foreground"}`,children:T.value})]})},O))})]})})}function vA({product:i,children:s}){const{i18n:n}=Me(),{formatPrice:o,currency:u}=Fa(),{addToCart:c}=di(),{toggleWishlist:m,isInWishlist:g,loading:x}=jo(),[j,y]=_.useState(1),[w,A]=_.useState(!1),[h,p]=_.useState(!1),[E,b]=_.useState(0),[v,U]=_.useState({}),C=n.language==="ar";_.useEffect(()=>{if(i&&i.properties){const ee=i.properties.filter(k=>k.affects_price&&k.options&&k.options.length>0);if(ee.length>0&&Object.keys(v).length===0){let k=1/0,B={};const F=(ue,X)=>{if(ue>=ee.length){let oe=0;for(const ce of ee){const V=X[ce.name],K=ce.options.find(ye=>ye.value===V);if(K){let ye=0;u==="OMR"?K.price_omr?ye=K.on_sale&&K.sale_price_omr?K.sale_price_omr:K.price_omr:(K.price_modifier_omr||K.price_modifier)&&(ye=K.price_modifier_omr||K.price_modifier||0):u==="SAR"?K.price_sar?ye=K.on_sale&&K.sale_price_sar?K.sale_price_sar:K.price_sar:(K.price_modifier_sar||K.price_modifier_omr||K.price_modifier)&&(ye=K.price_modifier_sar||(K.price_modifier_omr||K.price_modifier||0)*9.75):K.price_usd?ye=K.on_sale&&K.sale_price_usd?K.sale_price_usd:K.price_usd:(K.price_modifier_usd||K.price_modifier_omr||K.price_modifier)&&(ye=K.price_modifier_usd||(K.price_modifier_omr||K.price_modifier||0)*2.6),oe=ye;break}}oe<k&&(k=oe,B={...X});return}const Y=ee[ue];for(const oe of Y.options)F(ue+1,{...X,[Y.name]:oe.value})};F(0,{}),U(B)}}},[i,u,v]);const R=async()=>{if(i){p(!0);try{await c(i,j,Object.keys(v).length>0?v:void 0),y(1),A(!1),te.success(C?"    ":"Product added to cart")}catch(ee){console.error("Error adding to cart:",ee),te.error(C?"     ":"Error adding to cart")}finally{p(!1)}}},S=Vh(i,v,u.toLowerCase()),z=(()=>{const ee=[];return S.isOnSale&&ee.push({text:C?` ${S.discountPercentage}%`:`${S.discountPercentage}% OFF`,color:"bg-red-500"}),i.stock_quantity<=5&&i.stock_quantity>0&&ee.push({text:C?" ":"Limited Stock",color:"bg-orange-500"}),ee})(),L=C&&i.name_ar||i.name,O=(()=>{const ee=[];return i.image_url&&ee.push(i.image_url),i.image&&ee.push(i.image),i.images&&ee.push(...i.images),i.gallery&&ee.push(...i.gallery),i.gallery_images&&ee.push(...i.gallery_images),[...new Set(ee.filter(k=>k&&k.trim()!==""))]})(),I=()=>{j<(i.stock_quantity||0)&&y(ee=>ee+1)},H=()=>{j>1&&y(ee=>ee-1)},W=async()=>{try{await m(i.id)}catch(ee){console.error("Error toggling wishlist:",ee),te.error(C?"   / ":"Error updating wishlist")}},he=()=>S.finalPrice*j;return e.jsxs(Pt,{open:w,onOpenChange:A,children:[e.jsx(Jh,{asChild:!0,children:s}),e.jsx(zt,{className:"max-w-4xl w-[90vw] max-h-[85vh] overflow-y-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 p-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg bg-muted",children:O.length>0?e.jsx("img",{src:O[E]||"/images/logo.png",alt:L,className:"w-full h-full object-cover",onError:ee=>{ee.currentTarget.src="/images/logo.png"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-20 w-20 object-contain opacity-50"})})}),O.length>1&&e.jsx("div",{className:"grid grid-cols-3 gap-3",children:O.slice(0,3).map((ee,k)=>e.jsx("button",{onClick:()=>b(k),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${E===k?"border-primary":"border-muted hover:border-muted-foreground"}`,children:e.jsx("img",{src:ee,alt:`${L} ${k+1}`,className:"w-full h-full object-cover",onError:B=>{B.currentTarget.src="/images/logo.png"}})},k))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold mb-2",children:L}),z.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:z.map((ee,k)=>e.jsx(Se,{className:`text-white ${ee.color}`,children:ee.text},k))})]}),e.jsx(wh,{roastLevel:i.roast_level,roastLevel_ar:i.roast_level_ar,process:i.processing_method,process_ar:i.processing_method_ar,variety:i.variety,variety_ar:i.variety_ar,altitude:i.altitude,altitude_ar:i.altitude_ar,notes:i.notes,notes_ar:i.notes_ar,uses:i.uses,uses_ar:i.uses_ar,farm:i.farm,farm_ar:i.farm_ar,aromatic_profile:i.aromatic_profile,aromatic_profile_ar:i.aromatic_profile_ar,intensity:i.intensity,intensity_ar:i.intensity_ar,compatibility:i.compatibility,compatibility_ar:i.compatibility_ar,className:""}),i.properties&&i.properties.some(ee=>ee.options&&ee.options.length>0)&&e.jsx("div",{className:"space-y-2",children:i.properties.filter(ee=>ee.options&&ee.options.length>0).map(ee=>{const k=v[ee.name]||"",B=ee.name;return e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:B}),e.jsx("div",{className:"flex flex-wrap gap-1",children:ee.options.map(F=>{const ue=F.value,X=k===F.value,oe=(()=>{let ce=0,V=0;u==="OMR"?(ce=F.price_omr||F.price_modifier_omr||F.price_modifier||0,V=F.sale_price_omr||F.sale_price_modifier_omr||0):u==="SAR"?(ce=F.price_sar||F.price_modifier_sar||(F.price_modifier_omr||F.price_modifier||0)*9.75,V=F.sale_price_sar||F.sale_price_modifier_sar||(F.sale_price_modifier_omr||0)*9.75):(ce=F.price_usd||F.price_modifier_usd||(F.price_modifier_omr||F.price_modifier||0)*2.6,V=F.sale_price_usd||F.sale_price_modifier_usd||(F.sale_price_modifier_omr||0)*2.6);const K=F.on_sale&&V>0,ye=K?V:ce,me=K&&V<ce;return{finalPrice:ye,regularPrice:ce,hasDiscount:me,isOnSale:K}})();return e.jsx(q,{variant:X?"default":"outline",size:"sm",onClick:()=>U(ce=>({...ce,[ee.name]:F.value})),className:`h-auto p-1.5 text-xs ${X?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-background hover:bg-muted border-border"}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-medium",children:ue}),ee.affects_price&&oe.finalPrice>0&&e.jsx("span",{className:"text-xs opacity-80",children:oe.hasDiscount?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"line-through",children:o(oe.regularPrice)})," ",e.jsx("span",{className:"font-medium",children:o(oe.finalPrice)})]}):e.jsx("span",{className:"font-medium",children:o(oe.finalPrice)})})]})},F.value)})})]},ee.name)})}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-2",children:S.isOnSale&&S.discountAmount>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-lg font-bold text-primary",children:o(S.finalPrice)}),e.jsx("span",{className:"text-xs text-muted-foreground line-through",children:o(S.originalPrice)}),e.jsxs(Se,{variant:"destructive",className:"text-xs",children:["-",S.discountPercentage,"%"]})]}):e.jsx("span",{className:"text-lg font-bold text-primary",children:o(S.finalPrice)})}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.stock_quantity>0&&e.jsxs("div",{className:"flex items-center ltr",children:[e.jsx(q,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-r-none",onClick:H,disabled:j<=1,children:e.jsx(Rh,{className:"h-3 w-3"})}),e.jsx("div",{className:"flex h-7 w-10 items-center justify-center border-t border-b bg-background border-border text-xs font-medium",children:j}),e.jsx(q,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-l-none",onClick:I,disabled:j>=i.stock_quantity,children:e.jsx(Ba,{className:"h-3 w-3"})})]}),e.jsx(bo,{stock:i.stock_quantity||i.stock||0,variant:"compact",lowStockThreshold:10,className:"text-green-400"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{className:"flex-1 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-2 text-sm",onClick:R,disabled:i.stock_quantity<=0||h,children:h?C?" ...":"Adding...":`${o(he())}    ${C?"  ":"Add to Cart"}`}),e.jsx(q,{variant:"outline",size:"icon",onClick:W,disabled:x,className:"h-10 w-10",children:e.jsx(ii,{className:`h-4 w-4 ${g(i.id)?"fill-current text-red-500":""}`})})]})]})]})})]})}function yA(){const{i18n:i}=Me(),{formatPrice:s,currency:n}=Fa(),{addToCart:o}=di(),{toggleWishlist:u,isInWishlist:c}=jo(),[m]=zh(),[g,x]=_.useState(""),[j,y]=_.useState("all"),[w,A]=_.useState("name"),{products:h,loading:p}=ab(),{categories:E}=sb();Rs();const b=i.language==="ar";_.useEffect(()=>{const O=m.get("category");O&&y(O)},[m]),_.useEffect(()=>{if(m.get("reset")==="true"){x(""),y("all"),A("name");const I=new URL(window.location.href);I.searchParams.delete("reset"),window.history.replaceState({},"",I.pathname+I.search)}},[m]);const v=O=>{const I=E.find(H=>H.id===O);return I?b&&I.name_ar||I.name:b?"":"General"},U=O=>{switch(n){case"OMR":return O.price_omr||0;case"SAR":return O.price_sar||(O.price_omr||0)*3.75;case"USD":default:return O.price_usd||(O.price_omr||0)*2.6}},C=O=>{if(!O.is_on_sale)return null;switch(n){case"OMR":return O.sale_price_omr||null;case"SAR":return O.sale_price_sar||(O.sale_price_omr?O.sale_price_omr*3.75:null);case"USD":default:return O.sale_price_usd||(O.sale_price_omr?O.sale_price_omr*2.6:null)}},R=h.filter(O=>{if(!O.is_active)return!1;const I=g===""||O.name.toLowerCase().includes(g.toLowerCase())||O.name_ar&&O.name_ar.includes(g),H=j==="all"||O.category_id===j;return I&&H}).sort((O,I)=>{switch(w){case"price-low":return(U(O)??0)-(U(I)??0);case"price-high":return(U(I)??0)-(U(O)??0);case"featured":return Number(I.is_featured)-Number(O.is_featured);case"bestseller":return Number(I.is_bestseller)-Number(O.is_bestseller);case"new":return Number(I.is_new_arrival)-Number(O.is_new_arrival);case"name":default:{const H=b&&O.name_ar||O.name,W=b&&I.name_ar||I.name;return H.localeCompare(W)}}}),S=[{value:"all",label:b?" ":"All Categories"},...E.map(O=>({value:O.id,label:b&&O.name_ar||O.name}))],N=O=>{const I=[];O.is_featured&&I.push({text:b?"":"Featured",color:"bg-blue-500"}),O.is_bestseller&&I.push({text:b?" ":"Bestseller",color:"bg-green-500"}),O.is_new_arrival&&I.push({text:b?" ":"New",color:"bg-purple-500"});const H=C(O),W=U(O);return O.is_on_sale&&H&&H<W&&I.push({text:b?"":"Sale",color:"bg-red-500"}),I},z=_.useMemo(()=>{if(j&&j!=="all"){const O=E.find(I=>I.id===j);if(O){if(b&&O.page_title_ar)return O.page_title_ar;if(!b&&O.page_title)return O.page_title;const I=b&&O.name_ar||O.name;if(String(I).toLowerCase().includes("spirithub apparel"))return I}}return b?"  ":"OUR COFFEE JOURNEY"},[j,E,b]),L=j!=="all"?E.find(O=>O.id===j):null,T=b?L&&L.page_subtitle_ar?L.page_subtitle_ar:"                   .                   .                .":L&&L.page_subtitle?L.page_subtitle:(L&&L.name||"").toLowerCase().includes("spirithub apparel")?`SPIRITHUB COLLECTIBLE TEES  WEAR THE JOURNEY

At Spirithub Roastery, every cup tells a story and so do you. Our community has grown with us, celebrating every milestone, from discovering the vibrant notes of Yemeni Odaini to introducing the world to rare Omani origins. Now, with the launch of our new Collection, we invite you to commemorate the adventure.

Spirithub Collectible Tees are more than just apparel. Each tee marks a landmark chapter in our journey, turning achievements into wearable memories. Collect them, share in our story, and show the world youre part of the Spirithub experience.

Available now at Spirithub Roastery and online at spirithubcafe.com.`:"SpiritHub Roastery, operated by an all-OMANI TEAM, is deeply committed to honoring the hard work of coffee farmers and preserving the authenticity of each origin. Our approach blends precision roasting, seasonal sourcing, and scientific understanding of coffee to deliver a cup that reflects its terroir and story. At SpiritHub, every cup is more than a drink, its a connection to heritage, craftsmanship, and the spirit of coffee.";return p?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-48 animate-pulse"}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1 h-10 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-full lg:w-48 h-10 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"w-full lg:w-48 h-10 bg-muted rounded animate-pulse"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-3 gap-6",children:[...Array(9)].map((O,I)=>e.jsxs(ie,{className:"overflow-hidden group hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"relative aspect-square bg-muted animate-pulse",children:[e.jsxs("div",{className:"absolute top-2 left-2 space-y-1",children:[e.jsx("div",{className:"h-5 w-12 bg-background/80 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-10 bg-background/80 rounded animate-pulse"})]}),e.jsxs("div",{className:"absolute top-2 right-2 space-y-2",children:[e.jsx("div",{className:"h-8 w-8 bg-background/80 rounded-full animate-pulse"}),e.jsx("div",{className:"h-8 w-8 bg-background/80 rounded-full animate-pulse"})]})]}),e.jsxs(ne,{className:"p-4 space-y-3 flex flex-col h-40",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 bg-muted rounded w-full animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-2/3 animate-pulse"})]}),e.jsxs("div",{className:"mt-auto space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-5 bg-muted rounded w-20 animate-pulse"}),e.jsx("div",{className:"h-4 bg-muted rounded w-16 animate-pulse"})]}),e.jsx("div",{className:"h-9 bg-muted rounded animate-pulse"})]})]})]},I))})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2 bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:b?z:String(z).toUpperCase()}),e.jsx("p",{className:"text-muted-foreground text-sm lg:text-base whitespace-pre-line",children:T})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{variant:"outline",className:"text-sm font-medium border-amber-200 text-amber-700 bg-amber-50",children:b?`${R.length}  `:`${R.length} Available`}),g&&e.jsx(Se,{variant:"secondary",className:"text-sm",children:b?" ":"Search Results"})]})]}),e.jsxs("div",{className:"p-2 lg:p-3",children:[e.jsxs("div",{className:"flex gap-2 lg:hidden",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(Ue,{value:j,onValueChange:O=>{y(O),O==="all"&&(x(""),A("name"))},children:[e.jsx(Fe,{className:"w-full h-9 border-2 focus:border-amber-400 rounded-lg flex items-center",children:e.jsx(Be,{placeholder:b?" ":"Select Category"})}),e.jsx(He,{children:S.map(O=>e.jsx(Q,{value:O.value,children:O.label},O.value))})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs(Ue,{value:w,onValueChange:A,children:[e.jsx(Fe,{className:"w-full h-9 border-2 focus:border-amber-400 rounded-lg flex items-center",children:e.jsx(Be,{placeholder:b?" ":"Select Sort"})}),e.jsxs(He,{children:[e.jsx(Q,{value:"name",children:b?" (-)":"Name (A-Z)"}),e.jsx(Q,{value:"price-low",children:b?":   ":"Price: Low to High"}),e.jsx(Q,{value:"price-high",children:b?":   ":"Price: High to Low"}),e.jsx(Q,{value:"featured",children:b?" ":"Featured Products"}),e.jsx(Q,{value:"bestseller",children:b?" ":"Best Sellers"}),e.jsx(Q,{value:"new",children:b?" ":"New Arrivals"})]})]})})]}),e.jsxs("div",{className:"hidden lg:flex gap-4 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx($,{placeholder:b?"      ...":"Search by name, type, or description...",value:g,onChange:O=>x(O.target.value),className:"w-full h-12 border-2 focus:border-amber-400 rounded-lg px-3"})}),e.jsx("div",{className:"w-56",children:e.jsxs(Ue,{value:j,onValueChange:O=>{y(O),O==="all"&&(x(""),A("name"))},children:[e.jsx(Fe,{className:"w-full h-12 border-2 focus:border-amber-400 rounded-lg",children:e.jsx(Be,{placeholder:b?" ":"Select Category"})}),e.jsx(He,{children:S.map(O=>e.jsx(Q,{value:O.value,children:O.label},O.value))})]})}),e.jsx("div",{className:"w-56",children:e.jsxs(Ue,{value:w,onValueChange:A,children:[e.jsx(Fe,{className:"w-full h-12 border-2 focus:border-amber-400 rounded-lg",children:e.jsx(Be,{placeholder:b?" ":"Select Sort"})}),e.jsxs(He,{children:[e.jsx(Q,{value:"name",children:b?" (-)":"Name (A-Z)"}),e.jsx(Q,{value:"price-low",children:b?":   ":"Price: Low to High"}),e.jsx(Q,{value:"price-high",children:b?":   ":"Price: High to Low"}),e.jsx(Q,{value:"featured",children:b?" ":"Featured Products"}),e.jsx(Q,{value:"bestseller",children:b?" ":"Best Sellers"}),e.jsx(Q,{value:"new",children:b?" ":"New Arrivals"})]})]})})]})]})]}),R.length===0?e.jsx("div",{className:"text-center py-20",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsx("div",{className:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto",children:e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-12 w-12 object-contain opacity-50"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:b?"  ":"No Products Found"}),e.jsx("p",{className:"text-muted-foreground",children:b?"        .    .":"No products match your search criteria. Try different search terms or filters."})]}),e.jsx(q,{variant:"outline",onClick:()=>{x(""),y("all")},children:b?" ":"Clear Filters"})]})}):e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4",children:R.map(O=>{const I=U(O),H=C(O),W=N(O),he=b&&O.name_ar||O.name,ee=v(O.category_id);return e.jsx("div",{className:"group",children:e.jsxs(ie,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-1 h-full flex flex-col py-0",children:[e.jsxs(Ge,{to:j!=="all"?`/product/${O.slug||O.id}?category=${j}`:`/product/${O.slug||O.id}`,className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-amber-50 to-orange-100 dark:from-amber-950 dark:to-orange-950 relative overflow-hidden",children:[O.image_url||O.image||O.images?.[0]||O.gallery?.[0]||O.gallery_images?.[0]?e.jsx("img",{src:O.image_url||O.image||O.images?.[0]||O.gallery?.[0]||O.gallery_images?.[0]||"/images/logo.png",alt:he,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onError:k=>{k.currentTarget.src="/images/logo.png"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center transition-transform duration-300 group-hover:scale-105",children:e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-16 w-16 object-contain opacity-50"})}),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"absolute top-1 left-1 lg:top-2 lg:left-2 flex flex-col gap-1",children:W.map((k,B)=>e.jsx(Se,{className:`text-xs text-white shadow-sm px-1 lg:px-2 ${k.color}`,children:k.text},B))}),O.stock_quantity<=0&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-sm",children:e.jsx(Se,{variant:"destructive",className:"text-sm py-2 px-4",children:b?" ":"Out of Stock"})})]}),e.jsxs(ne,{className:"p-2 lg:p-3 pb-1 lg:pb-2 space-y-1 flex-1 flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(Se,{variant:"outline",className:"text-xs",children:ee})}),e.jsx("h3",{className:"font-semibold text-sm lg:text-base leading-tight line-clamp-2 min-h-[2rem] lg:min-h-[2.5rem]",children:he}),(b?O.notes_ar:O.notes)&&e.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2 flex-1 -mt-1",children:e.jsx(Za,{content:b?O.notes_ar||O.notes||"":O.notes||"",className:"!max-w-none !text-xs !leading-relaxed [&>*]:mb-0 [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",maxLength:100})}),e.jsx("div",{className:"mt-auto space-y-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:gap-2",children:H&&H<(I??0)?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm lg:text-base font-bold text-red-600",children:s(H)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs line-through text-muted-foreground",children:s(I??0)}),(()=>{const k=Math.round(((I??0)-H)/(I??1)*100);return k>0?e.jsxs(Se,{variant:"destructive",className:"text-xs px-1",children:["-",k,"%"]}):null})()]})]}):e.jsx("span",{className:"text-sm lg:text-base font-bold text-amber-600",children:s(I??0)})}),e.jsx(bo,{stock:O.stock_quantity||O.stock||0,variant:"compact",lowStockThreshold:5})]})})]})]}),e.jsx("div",{className:"px-2 lg:px-3 pb-2 lg:pb-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(q,{onClick:()=>{O.stock_quantity>0&&o(O,1)},disabled:O.stock_quantity<=0,className:"flex-1 btn-coffee text-xs h-7 lg:h-8",size:"sm",children:[e.jsx(ri,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:b?" ":"Add to Cart"}),e.jsx("span",{className:"sm:hidden",children:b?"":"Add"})]}),e.jsx(vA,{product:O,children:e.jsx(q,{variant:"outline",size:"sm",className:"px-2 h-7 lg:h-8",title:b?" ":"Quick View",children:e.jsx($t,{className:"h-3 w-3"})})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>u(O.id),className:`px-2 h-7 lg:h-8 ${c(O.id)?"text-red-500 border-red-500":""}`,title:b?"  ":"Add to Wishlist",children:e.jsx(ii,{className:`h-3 w-3 ${c(O.id)?"fill-current":""}`})})]})})]})},O.id)})})]})}var vd="Tabs",[bA,IE]=ni(vd,[cd]),Kb=cd(),[jA,af]=bA(vd),Xb=_.forwardRef((i,s)=>{const{__scopeTabs:n,value:o,onValueChange:u,defaultValue:c,orientation:m="horizontal",dir:g,activationMode:x="automatic",...j}=i,y=Ih(g),[w,A]=uo({prop:o,onChange:u,defaultProp:c??"",caller:vd});return e.jsx(jA,{scope:n,baseId:od(),value:w,onValueChange:A,orientation:m,dir:y,activationMode:x,children:e.jsx(ht.div,{dir:y,"data-orientation":m,...j,ref:s})})});Xb.displayName=vd;var Zb="TabsList",Jb=_.forwardRef((i,s)=>{const{__scopeTabs:n,loop:o=!0,...u}=i,c=af(Zb,n),m=Kb(n);return e.jsx(ty,{asChild:!0,...m,orientation:c.orientation,dir:c.dir,loop:o,children:e.jsx(ht.div,{role:"tablist","aria-orientation":c.orientation,...u,ref:s})})});Jb.displayName=Zb;var ej="TabsTrigger",tj=_.forwardRef((i,s)=>{const{__scopeTabs:n,value:o,disabled:u=!1,...c}=i,m=af(ej,n),g=Kb(n),x=rj(m.baseId,o),j=ij(m.baseId,o),y=o===m.value;return e.jsx(ay,{asChild:!0,...g,focusable:!u,active:y,children:e.jsx(ht.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":j,"data-state":y?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:x,...c,ref:s,onMouseDown:Ct(i.onMouseDown,w=>{!u&&w.button===0&&w.ctrlKey===!1?m.onValueChange(o):w.preventDefault()}),onKeyDown:Ct(i.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&m.onValueChange(o)}),onFocus:Ct(i.onFocus,()=>{const w=m.activationMode!=="manual";!y&&!u&&w&&m.onValueChange(o)})})})});tj.displayName=ej;var aj="TabsContent",sj=_.forwardRef((i,s)=>{const{__scopeTabs:n,value:o,forceMount:u,children:c,...m}=i,g=af(aj,n),x=rj(g.baseId,o),j=ij(g.baseId,o),y=o===g.value,w=_.useRef(y);return _.useEffect(()=>{const A=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(A)},[]),e.jsx(sy,{present:u||y,children:({present:A})=>e.jsx(ht.div,{"data-state":y?"active":"inactive","data-orientation":g.orientation,role:"tabpanel","aria-labelledby":x,hidden:!A,id:j,tabIndex:0,...m,ref:s,style:{...i.style,animationDuration:w.current?"0s":void 0},children:A&&c})})});sj.displayName=aj;function rj(i,s){return`${i}-trigger-${s}`}function ij(i,s){return`${i}-content-${s}`}var _A=Xb,wA=Jb,NA=tj,SA=sj;function La({className:i,...s}){return e.jsx(_A,{"data-slot":"tabs",className:_e("flex flex-col gap-2",i),...s})}function Ua({className:i,...s}){return e.jsx(wA,{"data-slot":"tabs-list",className:_e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",i),...s})}function Pe({className:i,...s}){return e.jsx(NA,{"data-slot":"tabs-trigger",className:_e("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i),...s})}function ze({className:i,...s}){return e.jsx(SA,{"data-slot":"tabs-content",className:_e("flex-1 outline-none",i),...s})}function ct({className:i,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:_e("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...s})}function CA({productId:i,reviews:s,averageRating:n,onReviewAdded:o}){const{i18n:u}=Me(),{currentUser:c}=Ws(),[m,g]=_.useState(!1),[x,j]=_.useState({rating:5,title:"",review_text:""}),[y,w]=_.useState(!1),[A,h]=_.useState(new Set),p=u.language==="ar",E=async()=>{if(!c){te.error(p?"   ":"Please log in first");return}if(!x.title.trim()||!x.review_text.trim()){te.error(p?"   ":"Please fill all fields");return}w(!0);try{if(await we.reviews.hasUserReviewed(i,c.id)){te.error(p?"      ":"You have already reviewed this product"),w(!1);return}await we.reviews.create({product_id:i,user_id:c.id,rating:x.rating,title:x.title,review_text:x.review_text,is_verified_purchase:!1,is_approved:!1,helpful_count:0,user:c}),te.success(p?"   !   ":"Review submitted successfully! It will be reviewed shortly"),j({rating:5,title:"",review_text:""}),g(!1),o(i)}catch(C){console.error("Error submitting review:",C),te.error(p?"    ":"Error submitting review")}finally{w(!1)}},b=async C=>{if(!c){te.error(p?"   ":"Please log in first");return}if(A.has(C)){te.error(p?"      ":"You have already voted for this review");return}try{await we.reviews.incrementHelpfulCount(C),h(R=>new Set([...R,C])),te.success(p?"   !":"Thank you for your vote!"),o(i)}catch(R){console.error("Error voting for review:",R),te.error(p?"   ":"Error voting for review")}},v=C=>{const R=new Date(C);return p?R.toLocaleDateString("ar-SA"):R.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},U=[5,4,3,2,1].map(C=>{const R=s.filter(N=>N.rating===C).length,S=s.length>0?R/s.length*100:0;return{rating:C,count:R,percentage:S}});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(ie,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold",children:p?" ":"Customer Reviews"}),e.jsxs(Pt,{open:m,onOpenChange:g,children:[e.jsx(Jh,{asChild:!0,children:e.jsx(q,{children:p?" ":"Write a Review"})}),e.jsxs(zt,{className:"max-w-md",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:p?" ":"Write a Review"}),e.jsx(ps,{children:p?"       ":"Share your experience with this product to help other customers"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:p?"":"Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Array.from({length:5}).map((C,R)=>e.jsx("button",{type:"button",title:`Rate ${R+1} stars`,onClick:()=>j(S=>({...S,rating:R+1})),className:"p-1",children:e.jsx(Hs,{className:`h-6 w-6 ${R<x.rating?"text-yellow-400 fill-current":"text-gray-300"}`})},R)),e.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["(",x.rating,"/5)"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:p?" ":"Review Title"}),e.jsx($,{value:x.title,onChange:C=>j(R=>({...R,title:C.target.value})),placeholder:p?"  ":"Write a title for your review"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:p?"":"Review"}),e.jsx(ct,{value:x.review_text,onChange:C=>j(R=>({...R,review_text:C.target.value})),placeholder:p?"    ...":"Share your experience with this product...",rows:4})]})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>g(!1),children:p?"":"Cancel"}),e.jsx(q,{onClick:E,disabled:y,children:y?p?" ...":"Saving...":p?" ":"Submit Review"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:n.toFixed(1)}),e.jsx("div",{className:"flex items-center gap-1 justify-center mb-1",children:Array.from({length:5}).map((C,R)=>e.jsx(Hs,{className:`h-4 w-4 ${R<Math.round(n)?"text-yellow-400 fill-current":"text-gray-300"}`},R))}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.length," ",p?"":"reviews"]})]}),e.jsx("div",{className:"flex-1 space-y-2",children:U.map(({rating:C,count:R,percentage:S})=>e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"w-8",children:[C," "]}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 relative overflow-hidden",children:e.jsx("div",{className:"bg-yellow-400 h-full rounded-full transition-all duration-300",style:{width:`${S}%`}})}),e.jsx("span",{className:"w-8 text-muted-foreground",children:R})]},C))})]})]})}),e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsx(ie,{children:e.jsxs(ne,{className:"p-6 text-center",children:[e.jsx(ro,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:p?"   ":"No Reviews Yet"}),e.jsx("p",{className:"text-muted-foreground",children:p?"     ":"Be the first to review this product"})]})}):s.map(C=>e.jsx(ie,{children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ds,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:C.user?.full_name||(p?" ":"Anonymous User")}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((R,S)=>e.jsx(Hs,{className:`h-4 w-4 ${S<C.rating?"text-yellow-400 fill-current":"text-gray-300"}`},S))}),C.is_verified_purchase&&e.jsx(Se,{variant:"secondary",className:"text-xs",children:p?" ":"Verified Purchase"})]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:v(C.created_at)})]}),C.title&&e.jsx("h5",{className:"font-medium",children:C.title}),C.review_text&&e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:C.review_text}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(q,{variant:"ghost",size:"sm",className:"text-muted-foreground",onClick:()=>b(C.id),disabled:A.has(C.id),children:[e.jsx(Hw,{className:"h-4 w-4 mr-1"}),p?"":"Helpful"," (",C.helpful_count,")"]})})]})]})})},C.id))})]})}function kA(){const{slug:i}=Lh(),[s]=zh(),{t:n,i18n:o}=Me(),{currency:u,formatPrice:c}=Fa(),{addToCart:m}=di(),[g,x]=_.useState(null),[j,y]=_.useState(!0),[w,A]=_.useState(1),[h,p]=_.useState(0),[E,b]=_.useState([]),[v,U]=_.useState({});Rs();const C=o.language==="ar",R=s.get("category"),S=R?`/shop?category=${R}`:"/shop",N=_.useCallback(async B=>{try{console.time("Load Reviews");const F=await we.reviews.getApprovedByProduct(B);if(b(F),console.timeEnd("Load Reviews"),F.length>0){const{average:ue,count:X}=await we.reviews.getAverageRating(B);await we.products.update(B,{average_rating:ue,total_reviews:X}),x(Y=>Y?{...Y,average_rating:ue,total_reviews:X}:null)}}catch(F){console.error("Error loading reviews:",F),b([])}},[]),z=_.useCallback(async()=>{if(i){y(!0);try{console.time("Load Product");let B=await we.products.get(i);if(B||(console.log("Product not found by ID, searching by slug..."),B=(await we.products.list()).items.find(ue=>ue.slug===i)),console.timeEnd("Load Product"),!B){te.error(n("product.notFound"));return}x(B||null),N(B.id).catch(console.error)}catch(B){console.error("Error loading product:",B),te.error(n("product.errorLoading"))}finally{y(!1)}}},[i,n,N]),L=B=>{N(B)};_.useEffect(()=>{z()},[z]),_.useEffect(()=>{if(g&&g.properties){const B=g.properties.filter(F=>F.affects_price&&F.options&&F.options.length>0);if(B.length>0&&Object.keys(v).length===0){let F=1/0,ue={};const X=(Y,oe)=>{if(Y>=B.length){let V=0;for(const K of B){const ye=oe[K.name],me=K.options.find(De=>De.value===ye);if(me){let De=0;u==="OMR"?me.price_omr?De=me.on_sale&&me.sale_price_omr?me.sale_price_omr:me.price_omr:(me.price_modifier_omr||me.price_modifier)&&(De=me.price_modifier_omr||me.price_modifier||0):u==="SAR"?me.price_sar?De=me.on_sale&&me.sale_price_sar?me.sale_price_sar:me.price_sar:(me.price_modifier_sar||me.price_modifier_omr||me.price_modifier)&&(De=me.price_modifier_sar||(me.price_modifier_omr||me.price_modifier||0)*9.75):me.price_usd?De=me.on_sale&&me.sale_price_usd?me.sale_price_usd:me.price_usd:(me.price_modifier_usd||me.price_modifier_omr||me.price_modifier)&&(De=me.price_modifier_usd||(me.price_modifier_omr||me.price_modifier||0)*2.6),V=De;break}}V<F&&(F=V,ue={...oe});return}const ce=B[Y];for(const V of ce.options)X(Y+1,{...oe,[ce.name]:V.value})};X(0,{}),U(ue)}}},[g,u,v]);const T=async()=>{if(g)try{await m(g,w,Object.keys(v).length>0?v:void 0),te.success(n("product.addedToCart"))}catch(B){console.error("Error adding to cart:",B),te.error(n("product.errorAddingToCart"))}},O=_.useMemo(()=>g?Vh(g,v,u==="OMR"?"omr":u==="SAR"?"sar":"usd"):{finalPrice:0,originalPrice:0,isOnSale:!1,discountAmount:0,discountPercentage:0},[g,v,u]),I=()=>O.finalPrice,H=()=>{if(!g)return[];const B=[];return g.is_featured&&B.push({text:n("product.featured"),color:"bg-blue-500"}),g.is_bestseller&&B.push({text:n("product.bestseller"),color:"bg-green-500"}),g.is_new_arrival&&B.push({text:n("product.newArrival"),color:"bg-purple-500"}),B},W=g?.average_rating?g.average_rating:E.length>0?E.reduce((B,F)=>B+F.rating,0)/E.length:0,he=g?.total_reviews||E.length;if(j)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded mb-6 w-32"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Array.from({length:4}).map((B,F)=>e.jsx("div",{className:"aspect-square bg-muted rounded"},F))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),e.jsx("div",{className:"h-6 bg-muted rounded w-1/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]})]})]})]})})});if(!g)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:n("product.productNotFound")}),e.jsx(Ge,{to:S,children:e.jsx(q,{children:n("product.backToShop")})})]})});const ee=I(),k=H();return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs(Ge,{to:S,className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6 transition-colors",children:[e.jsx(_r,{className:"h-4 w-4"}),n("product.backToShop")]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[e.jsx("div",{className:"space-y-4",children:(()=>{const B=[];g.image_url&&B.push(g.image_url),g.image&&B.push(g.image),g.images&&B.push(...g.images),g.gallery&&B.push(...g.gallery),g.gallery_images&&B.push(...g.gallery_images);const F=[...new Set(B.filter(ue=>ue&&ue.trim()!==""))];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"aspect-square relative overflow-hidden rounded-lg bg-muted",children:e.jsx("img",{src:F[h]||"/images/placeholder-product.png",alt:C?g.name_ar:g.name,className:"w-full h-full object-cover"})}),F.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:F.map((ue,X)=>e.jsx("button",{onClick:()=>p(X),className:`aspect-square rounded border-2 overflow-hidden transition-all ${h===X?"border-primary":"border-transparent"}`,children:e.jsx("img",{src:ue,alt:`${C?g.name_ar:g.name} ${X+1}`,className:"w-full h-full object-cover"})},X))})]})})()}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:C?g.name_ar:g.name}),e.jsx("div",{className:"flex items-center gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((B,F)=>e.jsx(Hs,{className:`h-5 w-5 ${F<Math.floor(W)?"text-yellow-400 fill-current":"text-gray-300"}`},F)),e.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",W.toFixed(1),")  ",he," ",n("shop.reviews")]})]})}),k.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((B,F)=>e.jsx(Se,{className:`text-white ${B.color}`,children:B.text},F))})]}),e.jsx(wh,{roastLevel:g.roast_level,roastLevel_ar:g.roast_level_ar,process:g.processing_method,process_ar:g.processing_method_ar,variety:g.variety,variety_ar:g.variety_ar,altitude:g.altitude,altitude_ar:g.altitude_ar,notes:g.notes,notes_ar:g.notes_ar,uses:g.uses,uses_ar:g.uses_ar,farm:g.farm,farm_ar:g.farm_ar,aromatic_profile:g.aromatic_profile,aromatic_profile_ar:g.aromatic_profile_ar,intensity:g.intensity,intensity_ar:g.intensity_ar,compatibility:g.compatibility,compatibility_ar:g.compatibility_ar,className:"py-0"}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center gap-2",children:O.isOnSale&&O.discountAmount>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xl font-bold text-primary",children:c(O.finalPrice)}),e.jsx("span",{className:"text-sm text-muted-foreground line-through",children:c(O.originalPrice)}),e.jsxs(Se,{variant:"destructive",className:"text-xs",children:["-",O.discountPercentage,"%"]})]}):e.jsx("span",{className:"text-xl font-bold text-primary",children:c(O.finalPrice)})}),e.jsxs("div",{className:"flex items-center gap-3",children:[g.stock_quantity>0&&e.jsxs("div",{className:"flex items-center ltr",children:[e.jsx(q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-r-none",onClick:()=>A(Math.max(1,w-1)),disabled:w<=1,children:e.jsx(Rh,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex h-8 w-12 items-center justify-center border-t border-b bg-background border-border text-sm font-medium",children:w}),e.jsx(q,{variant:"outline",size:"icon",className:"h-8 w-8 rounded-l-none",onClick:()=>A(w+1),children:e.jsx(Ba,{className:"h-4 w-4"})})]}),e.jsx(bo,{stock:g.stock_quantity||g.stock||0,variant:"compact",lowStockThreshold:10,className:"text-green-400"})]})]}),g.properties&&g.properties.some(B=>B.options&&B.options.length>0)&&e.jsx("div",{className:"space-y-3",children:g.properties.filter(B=>B.options&&B.options.length>0).map(B=>{const F=v[B.name]||"",ue=C&&B.name_ar||B.name;return e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:ue}),e.jsx("div",{className:"flex flex-wrap gap-2",children:B.options?.map(X=>{const Y=C&&X.label_ar||X.label,oe=F===X.value,V=(()=>{let K=0,ye=0;u==="OMR"?(K=X.price_omr||X.price_modifier_omr||X.price_modifier||0,ye=X.sale_price_omr||X.sale_price_modifier_omr||0):u==="SAR"?(K=X.price_sar||X.price_modifier_sar||(X.price_modifier_omr||X.price_modifier||0)*9.75,ye=X.sale_price_sar||X.sale_price_modifier_sar||(X.sale_price_modifier_omr||0)*9.75):(K=X.price_usd||X.price_modifier_usd||(X.price_modifier_omr||X.price_modifier||0)*2.6,ye=X.sale_price_usd||X.sale_price_modifier_usd||(X.sale_price_modifier_omr||0)*2.6);const me=X.on_sale&&ye>0,De=me?ye:K,Ye=me&&ye<K;return{finalPrice:De,regularPrice:K,hasDiscount:Ye,isOnSale:me}})();return e.jsx(q,{variant:oe?"default":"outline",size:"sm",onClick:()=>U(K=>({...K,[B.name]:X.value})),className:`h-auto p-2 text-xs ${oe?"bg-primary hover:bg-primary/90 text-primary-foreground":"bg-background hover:bg-muted border-border"}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-medium",children:Y}),B.affects_price&&V.finalPrice>0&&e.jsx("span",{className:"text-xs opacity-80",children:V.hasDiscount?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"line-through",children:c(V.regularPrice)})," ",e.jsx("span",{className:"font-medium",children:c(V.finalPrice)})]}):e.jsx("span",{className:"font-medium",children:c(V.finalPrice)})})]})},X.value)})})]},B.name)})}),g.properties&&g.properties.some(B=>!B.options||B.options.length===0)&&e.jsx(ie,{children:e.jsxs(ne,{className:"p-3",children:[e.jsx("h3",{className:"font-semibold mb-2 text-sm",children:n("product.specifications")}),e.jsx("div",{className:"space-y-1.5",children:g.properties.filter(B=>!B.options||B.options.length===0).map((B,F)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-muted-foreground",children:[C?B.name_ar:B.name,":"]}),e.jsx("span",{children:C?B.value_ar:B.value})]},F))})]})}),Object.keys(v).length>0&&e.jsx("div",{className:"text-sm text-muted-foreground bg-muted/30 p-2 rounded-lg",children:Object.entries(v).map(([B,F])=>{const ue=g.properties.find(ce=>ce.name===B),X=ue?.options?.find(ce=>ce.value===F);if(!ue||!X)return null;const Y=C&&ue.name_ar||ue.name,oe=C&&X.label_ar||X.label;return e.jsxs("div",{children:[Y,": ",oe]},B)})}),e.jsxs(q,{onClick:T,size:"lg",className:"w-full",children:[e.jsx(ri,{className:"h-5 w-5 mr-2"}),c(ee*w),"    ",n("shop.addToCart")]})]})]}),e.jsx("div",{className:"mt-16",children:e.jsxs(La,{defaultValue:"description",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-3",children:[e.jsx(Pe,{value:"description",children:n("product.description")}),e.jsx(Pe,{value:"specifications",children:n("product.specifications")}),e.jsxs(Pe,{value:"reviews",children:[n("product.reviews")," (",E.length,")"]})]}),e.jsx(ze,{value:"description",className:"mt-6",children:e.jsx(ie,{children:e.jsx(ne,{className:"p-6",children:e.jsx(Za,{content:C?g.description_ar||g.description||"":g.description||"",className:C?"text-right":"text-left"})})})}),e.jsx(ze,{value:"specifications",className:"mt-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(wh,{roastLevel:g.roast_level,roastLevel_ar:g.roast_level_ar,process:g.processing_method,process_ar:g.processing_method_ar,variety:g.variety,variety_ar:g.variety_ar,altitude:g.altitude,altitude_ar:g.altitude_ar,notes:g.notes,notes_ar:g.notes_ar,uses:g.uses,uses_ar:g.uses_ar,farm:g.farm,farm_ar:g.farm_ar,aromatic_profile:g.aromatic_profile,aromatic_profile_ar:g.aromatic_profile_ar,intensity:g.intensity,intensity_ar:g.intensity_ar,compatibility:g.compatibility,compatibility_ar:g.compatibility_ar,className:"py-0"}),e.jsx(ie,{className:"py-0",children:e.jsx(ne,{className:"p-6",children:g.properties&&g.properties.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mb-3",children:n("product.additionalSpecifications")}),g.properties.map((B,F)=>e.jsx("div",{className:"py-2 border-b last:border-b-0",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"font-medium",children:C?B.name_ar:B.name}),e.jsx("div",{className:"text-muted-foreground text-right max-w-[60%]",children:B.options&&B.options.length>0?e.jsx("div",{className:"space-y-1",children:B.options.map((ue,X)=>e.jsxs("div",{className:"text-sm",children:[C&&ue.label_ar||ue.label,ue.price_omr&&e.jsxs("span",{className:"text-amber-600 ml-2",children:["(",ue.price_omr," ",C?" ":"OMR",")"]})]},X))}):e.jsx("span",{children:"-"})})]})},F))]}):!g.roast_level&&!g.processing_method&&!g.variety&&!g.altitude&&!g.notes&&!g.farm&&e.jsx("p",{className:"text-muted-foreground text-center py-8",children:n("product.noSpecifications")})})})]})}),e.jsx(ze,{value:"reviews",className:"mt-6",children:e.jsx(CA,{productId:g.id,reviews:E,averageRating:W,onReviewAdded:L})})]})})]})})}class AA{registration=null;isSupported(){return"serviceWorker"in navigator}async register(){if(!this.isSupported())return null;try{return this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"}),je.log(" Service Worker registered successfully"),this.registration.addEventListener("updatefound",()=>{const s=this.registration?.installing;s&&s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(je.log(" New Service Worker available"),this.showUpdateNotification())})}),setInterval(()=>{this.registration?.update()},6e4),this.registration}catch(s){return je.error(" Service Worker registration failed:",s),null}}async update(){if(!this.registration)return!1;try{return await this.registration.update(),!0}catch(s){return je.error("Service Worker update failed:",s),!1}}async unregister(){if(!this.registration)return!1;try{const s=await this.registration.unregister();return this.registration=null,s}catch(s){return je.error("Service Worker unregistration failed:",s),!1}}async getRegistration(){if(!this.isSupported())return null;try{return await navigator.serviceWorker.getRegistration()||null}catch(s){return je.error("Failed to get Service Worker registration:",s),null}}async sendMessage(s){if(!this.registration?.active)throw new Error("No active Service Worker");return new Promise((n,o)=>{const u=new MessageChannel;u.port1.onmessage=c=>{c.data.type==="ERROR"?o(new Error(c.data.payload)):n(c.data.payload)},this.registration.active.postMessage(s,[u.port2])})}showUpdateNotification(){typeof window<"u"&&"toast"in window&&window.toast.success("App update available! Refresh to get the latest version.",{duration:5e3,action:{label:"Refresh",onClick:()=>window.location.reload()}})}}const yr=new AA;function EA(){const[i,s]=_.useState(!1),[n,o]=_.useState(!1),[u,c]=_.useState(!1);_.useEffect(()=>{typeof window<"u"&&yr.isSupported()&&yr.register().then(w=>{w&&(s(!0),w.addEventListener("updatefound",()=>{c(!0)}))})},[]);const m=_.useCallback(async()=>{o(!0);try{await yr.update()&&window.location.reload()}catch(w){je.error("Update failed:",w)}finally{o(!1)}},[]),g=_.useCallback(async()=>{try{await yr.unregister(),s(!1)}catch(w){je.error("Unregister failed:",w)}},[]),x=_.useCallback(async()=>{try{return await yr.sendMessage({type:"GET_CACHE_STATS"})}catch(w){return je.error("Failed to get cache stats:",w),null}},[]),j=_.useCallback(async w=>{try{return await yr.sendMessage({type:"CLEAR_CACHE",payload:w}),!0}catch(A){return je.error("Failed to clear cache:",A),!1}},[]),y=_.useCallback(async w=>{try{return await yr.sendMessage({type:"PRELOAD_RESOURCES",payload:w}),!0}catch(A){return je.error("Failed to preload resources:",A),!1}},[]);return{isRegistered:i,isUpdating:n,updateAvailable:u,updateServiceWorker:m,unregisterServiceWorker:g,getCacheStats:x,clearCache:j,preloadResources:y,isSupported:yr.isSupported()}}function TA(){typeof window<"u"&&window.addEventListener("load",()=>{yr.register()})}const Wm=["Loading...","Please wait...","Almost ready...","Loading content...","Just a moment..."];function DA({size:i="md",fullScreen:s=!1,message:n,className:o,overlay:u=!1,animated:c=!0}){const[m,g]=_.useState(n||Wm[0]),[x,j]=_.useState(0);_.useEffect(()=>{if(!n&&c){const A=setInterval(()=>{j(h=>(h+1)%Wm.length)},2e3);return()=>clearInterval(A)}},[n,c]),_.useEffect(()=>{n||g(Wm[x])},[x,n]);const y=()=>{const A={sm:"sm",md:"md",lg:"lg",xl:"lg"};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(_o,{size:A[i]})})},w=()=>e.jsxs("div",{className:_e("flex flex-col items-center justify-center space-y-4 animate-fade-in",o),children:[y(),(n||c)&&e.jsx("p",{className:"text-sm text-muted-foreground text-center font-medium animate-fade-in",children:m})]});return s?e.jsx("div",{className:_e("fixed inset-0 z-50 flex items-center justify-center animate-fade-in",u?"loading-overlay":"bg-background"),children:e.jsx(w,{})}):e.jsx(w,{})}function OA(){const[i,s]=_.useState(!1),[n,o]=_.useState(navigator.onLine),u=window.location.hostname==="localhost",{stats:c,loading:m,clearCache:g,cleanupExpired:x,preloadCritical:j,refreshStats:y}=l1(),{isRegistered:w,isUpdating:A,updateAvailable:h,updateServiceWorker:p,getCacheStats:E,clearCache:b,preloadResources:v,isSupported:U}=EA(),[C,R]=_.useState(null);_.useEffect(()=>{const T=()=>o(!0),O=()=>o(!1);return window.addEventListener("online",T),window.addEventListener("offline",O),()=>{window.removeEventListener("online",T),window.removeEventListener("offline",O)}},[]),_.useEffect(()=>{w&&E().then(T=>R(T)).catch(()=>R(null))},[w,E]);const S=async()=>{if(!confirm("This will remove all cached data including offline resources. Are you sure?"))return;const T="clear-all-caches";te.loading("Clearing all caches...",{id:T});try{if(await g(),w&&await b(),"caches"in window){const O=await window.caches.keys();await Promise.all(O.map(I=>window.caches.delete(I)))}localStorage.clear(),sessionStorage.clear(),te.success("All caches cleared successfully!",{id:T})}catch{te.error("Failed to clear some caches",{id:T})}},N=async()=>{const T="preload-critical";te.loading("Preloading critical resources...",{id:T});try{await j(["/images/logo.png","/images/favicon.png","/manifest.json"]),w&&await v(["/","/shop","/about","/contact"]),te.success("Critical resources preloaded successfully!",{id:T})}catch{te.error("Failed to preload some resources",{id:T})}},z=async()=>{if(h||w){const T="force-update";te.loading("Updating application...",{id:T});try{await p(),te.success("Application updated successfully!",{id:T})}catch{te.error("Failed to update application",{id:T})}}else window.location.reload()},L=T=>T.includes("static")||T.includes("assets")?"bg-green-500":T.includes("api")||T.includes("data")?"bg-blue-500":T.includes("image")?"bg-purple-500":"bg-gray-500";return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(DA,{size:"lg",message:"Loading cache management...",animated:!0})}):e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Enhanced Cache Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Advanced caching system with Service Worker integration"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Se,{variant:n?"default":"destructive",className:"flex items-center gap-1",children:[n?e.jsx(qw,{className:"w-3 h-3"}):e.jsx($w,{className:"w-3 h-3"}),n?"Online":"Offline"]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>s(!i),className:i?"bg-green-50 border-green-200":"",children:[e.jsx(ry,{className:"h-4 w-4 mr-2"}),"Auto Refresh ",i?"ON":"OFF"]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{y(),w&&E().then(T=>R(T))},disabled:m,children:[m?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(na,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),u&&e.jsx(ie,{className:"border-yellow-200 bg-yellow-50",children:e.jsxs(ne,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[e.jsx($s,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Development Mode"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"Some cache features work differently in development. Service Worker may not be active."})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Application Cache"}),e.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c?.itemCount||0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[c?.hitRate?.toFixed(1)||0,"% hit rate"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Service Worker"}),e.jsx(Ca,{className:`h-4 w-4 ${w?"text-green-500":"text-gray-400"}`})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:U?w?"Active":"Inactive":"Unsupported"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[C?.length||0," cache stores"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Storage Usage"}),e.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[c?(c.totalSize/1024).toFixed(1):0,"KB"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Application data"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Performance"}),e.jsx(ey,{className:"h-4 w-4 text-yellow-500"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c?.hitRate?"Optimized":"Standard"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cache efficiency"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"h-5 w-5"}),"Cache Management"]}),e.jsx(Ce,{children:"Clear caches and manage storage"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs(q,{variant:"destructive",className:"w-full",disabled:m,onClick:S,children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Clear All Caches"]}),e.jsxs(q,{variant:"outline",className:"w-full",onClick:N,disabled:m,children:[e.jsx(nd,{className:"h-4 w-4 mr-2"}),"Preload Critical Resources"]}),e.jsxs(q,{variant:"secondary",className:"w-full",onClick:x,disabled:m,children:[e.jsx(ti,{className:"h-4 w-4 mr-2"}),"Cleanup Expired Items"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(na,{className:"h-5 w-5"}),"Application Updates"]}),e.jsx(Ce,{children:"Manage application versions and updates"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs(q,{variant:"default",className:"w-full",onClick:z,disabled:A,children:[A?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(na,{className:"h-4 w-4 mr-2"}),h?"Install Update":"Force Refresh"]}),h&&e.jsxs("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Update Available"})]}),e.jsx("p",{children:"A new version of the application is ready to install."})]}),e.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ca,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Auto-Update Status"})]}),e.jsx("p",{children:u?"Development mode - manual updates only":"Production mode - automatic background updates"})]})]})]})]}),C&&e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"h-5 w-5"}),"Service Worker Cache Details"]}),e.jsx(Ce,{children:"Individual cache stores managed by the Service Worker"})]}),e.jsx(ne,{children:e.jsx("div",{className:"space-y-4",children:C.map((T,O)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:`${L(T.name)} text-white`,children:"SW Cache"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:T.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.count," items"]})]})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>b(T.name),disabled:m,children:[e.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Clear"]})]},O))})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Gc,{className:"h-5 w-5"}),"Browser Storage"]}),e.jsx(Ce,{children:"Local storage and session storage usage"})]}),e.jsx(ne,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Local Storage"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[localStorage.length," items stored"]})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Session Storage"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[sessionStorage.length," items stored"]})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Cache API"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"caches"in window?"Supported":"Not supported"})]})]})})]})]})}class RA{sectionsCollectionName="about_sections";headerCollectionName="about_header";async getHeader(){try{if(!ve)throw new Error("Database not initialized");const s=ut(Xe(ve,this.headerCollectionName),mt("is_active","==",!0)),n=await At(s);if(n.empty)return null;const o=n.docs[0];return{id:o.id,...o.data()}}catch(s){throw console.error("Error fetching about header:",s),new Error("Failed to load about header")}}async createHeader(s){const n={title_en:s.title_en,title_ar:s.title_ar,subtitle_en:s.subtitle_en,subtitle_ar:s.subtitle_ar,is_active:s.is_active??!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};try{if(!ve)throw new Error("Database not initialized");return{id:(await Ts(Xe(ve,this.headerCollectionName),n)).id,...n}}catch(o){throw console.error("Error creating about header:",o),new Error("Failed to create about header")}}async updateHeader(s,n){try{if(!ve)throw new Error("Database not initialized");const o={...n,updated_at:new Date().toISOString()},u=Ie(ve,this.headerCollectionName,s);await Qt(u,o)}catch(o){throw console.error("Error updating about header:",o),new Error("Failed to update about header")}}async initializeDefaultHeader(){try{if(await this.getHeader()){console.log("About header already exists, skipping initialization");return}const n={title_en:"About Us",title_ar:" ",subtitle_en:"Who We Are",subtitle_ar:" ",is_active:!0};await this.createHeader(n),console.log("Default about header initialized successfully")}catch(s){throw console.error("Error initializing default header:",s),new Error("Failed to initialize default header")}}async getSections(){try{if(!ve)throw new Error("Database not initialized");console.log("getSections: Starting to fetch sections from Firestore...");const s=ut(Xe(ve,this.sectionsCollectionName),mt("is_active","==",!0),br("order_index","asc"));console.log("getSections: Query created, executing...");const n=await At(s);console.log("getSections: Query executed successfully, docs count:",n.docs.length);const o=n.docs.map(u=>({id:u.id,...u.data()}));return console.log("getSections: Sections mapped successfully:",o),o}catch(s){throw console.error("Error fetching about sections:",s),new Error("Failed to load about sections")}}async getAllSections(){try{if(!ve)throw new Error("Database not initialized");const s=ut(Xe(ve,this.sectionsCollectionName),br("order_index","asc"));return(await At(s)).docs.map(u=>({id:u.id,...u.data()}))}catch(s){throw console.error("Error fetching all about sections:",s),new Error("Failed to load about sections")}}async createSection(s){const n={section_key:s.section_key,title_en:s.title_en,title_ar:s.title_ar,content_en:s.content_en,content_ar:s.content_ar,image_url:s.image_url||null,layout:s.layout,order_index:s.order_index,is_active:s.is_active??!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};try{if(!ve)throw new Error("Database not initialized");return{id:(await Ts(Xe(ve,this.sectionsCollectionName),n)).id,...n}}catch(o){throw console.error("Error creating about section:",o),new Error("Failed to create about section")}}async updateSection(s,n){try{if(!ve)throw new Error("Database not initialized");const o={...n,updated_at:new Date().toISOString()},u=Ie(ve,this.sectionsCollectionName,s);await Qt(u,o)}catch(o){throw console.error("Error updating about section:",o),new Error("Failed to update about section")}}async deleteSection(s){try{if(!ve)throw new Error("Database not initialized");const n=Ie(ve,this.sectionsCollectionName,s);await Es(n)}catch(n){throw console.error("Error deleting about section:",n),new Error("Failed to delete about section")}}async toggleSectionStatus(s,n){try{await this.updateSection(s,{is_active:n})}catch(o){throw console.error("Error toggling section status:",o),new Error("Failed to toggle section status")}}async updateSectionsOrder(s){try{if(!ve)throw new Error("Database not initialized");const n=s.map(o=>this.updateSection(o.id,{order_index:o.order_index}));await Promise.all(n)}catch(n){throw console.error("Error updating sections order:",n),new Error("Failed to update sections order")}}async initializeDefaultSections(){try{if((await this.getAllSections()).length>0){console.log("About sections already exist, skipping initialization");return}await this.initializeDefaultHeader();const n=[{section_key:"mission",title_en:"OUR MISSION",title_ar:"",content_en:`At SPIRIT HUB Coffee, we take great care in selecting only the finest specialty coffees to be part of our exclusive blend. Our team of experienced Q Graders and Roasters carefully manage the roast to create a unique selection of flavors and aromas that are sure to please the most discerning coffee lover.

We believe that quality is of the utmost importance, which is why we strictly adhere to the highest protocols and quality controls during the cupping and testing process. This ensures that every cup of SPIRIT HUB Coffee meets our high standards and delivers a truly exceptional taste experience.

Our commitment to quality extends beyond the coffee itself. We are dedicated to providing our customers with the best possible service and coffee experience. Whether you are enjoying a cup at one of our cafs or brewing a fresh pot at home, we want you to be completely satisfied with your SPIRIT HUB Coffee experience.

In short, at SPIRIT HUB Coffee, we are passionate about coffee and dedicated to providing our customers with the finest quality coffee experience possible. We invite you to try our exclusive blend and taste the difference for yourself.`,content_ar:`                 .                     .

               .                 .

    .         .                       .

              .       .`,image_url:"/images/about/1.webp",layout:"text-right",order_index:1},{section_key:"quality",title_en:"QUALITY",title_ar:"",content_en:`Coffee, a beloved beverage globally, is enjoyed by millions daily. The flavor and aroma of coffee depend on factors like bean type, roasting, and brewing method.

Many roasters ensure high standards by closely following harvesting seasons. This helps in selecting the freshest, highest quality beans, meticulously roasted to bring out unique flavors and aromas.

The roasting process, considered an art, requires skilled roasters to create the perfect roast profile. They control temperature, time, and air flow to achieve the desired flavor and aroma for each batch of beans.

After roasting, freshly roasted coffee beans contain a high level of CO2, which can affect their flavor and aroma. To allow the CO2 to dissipate and the flavors to fully develop, it is recommended that coffee be allowed to rest for 7 to 10 days before brewing.

Following these steps, roasters produce high-quality coffee rich in flavor and aroma. When you savor your next cup, appreciate the care and attention behind that perfect brew.`,content_ar:`       .           .

            .              .

           .               .

                   .              7  10   .

          .           .`,image_url:"/images/about/2.webp",layout:"text-left",order_index:2},{section_key:"accountability",title_en:"Accountability",title_ar:"",content_en:`Accountability and transparency are crucial for building trust and maintaining a positive reputation in business. At SPIRIT HUB Coffee, we take pride in sharing information and educating our community, customers, and clients about our unique coffee.

By sharing this information, we aim to create openness and trust, fostering strong and lasting relationships with our audience. Excitingly, we publish details about our coffee on various media platforms, such as our website, social media, and newsletter.

Moreover, our commitment extends beyond information sharing to being accountable for our actions and decisions. This entails taking responsibility for the quality of our coffee, as well as addressing our environmental and social impact.

Transparent and accountable practices enable us to build a positive reputation and nurture long-term relationships with our customers and clients. Proudly presenting SPIRIT HUB Coffee to the world, we eagerly anticipate sharing our unique coffee with the community.`,content_ar:`            .             .

               .                .

              .             .

             .             .`,image_url:"/images/about/3.webp",layout:"text-right",order_index:3},{section_key:"values",title_en:"Values",title_ar:"",content_en:`Established in Oman, SPIRIT HUB Roastery & Specialty Coffee is committed to enhancing the coffee experience for its customers. By focusing on specialty coffee, the team at SPIRIT HUB skillfully highlights the unique flavors and aromas of each batch of beans.

A crucial aspect of specialty coffee is the meticulous attention to detail and hard work invested by the farmers in growing and harvesting the beans. SPIRIT HUB not only recognizes but also appreciates the efforts of these farmers, actively striving to showcase their significant contributions to the coffee industry.

In addition to supporting farmers, SPIRIT HUB places a strong emphasis on the scientific aspects of coffee. From the roasting process to the brewing method, the SPIRIT HUB team is dedicated to understanding the intricacies that make each cup of coffee special. This commitment enables them to craft a distinctive and satisfying experience for their customers.

As a business exclusively operated by an OMANI team, SPIRIT HUB contributes significantly to the local economy and community. This support is vital for fostering the growth and sustainability of the specialty coffee industry in Oman.

Overall, SPIRIT HUB Roastery & Specialty Coffee is unwavering in its dedication to delivering a high-quality coffee experience. Simultaneously, the business plays a pivotal role in supporting the local community and the farmers whose hard work makes it all possible.`,content_ar:`            .                    .

                 .                   .

            .                   .         .

               .           .

              .                   .`,image_url:null,layout:"full-width",order_index:4}];for(const o of n)await this.createSection(o);console.log("Default about sections initialized successfully")}catch(s){throw console.error("Error initializing default sections:",s),new Error("Failed to initialize default sections")}}}const Sa=new RA;function MA(){const{i18n:i}=Me(),s=i.language==="ar",[n,o]=_.useState(null),[u,c]=_.useState([]),[m,g]=_.useState(!0),[x,j]=_.useState(null);Rs(),_.useEffect(()=>{y()},[]);const y=async()=>{try{console.log("Loading about header and sections...");const[w,A]=await Promise.all([Sa.getHeader(),Sa.getSections()]);if(w)o(w);else{console.log("No header found, initializing defaults..."),await Sa.initializeDefaultHeader();const h=await Sa.getHeader();o(h)}if(A.length===0){console.log("No sections found, initializing default sections..."),await Sa.initializeDefaultSections();const h=await Sa.getSections();c(h)}else c(A);console.log("Loaded header:",w),console.log("Loaded sections:",A)}catch(w){console.error("Error loading about page data:",w),j(w instanceof Error?w.message:"Failed to load about page data")}finally{g(!1)}};return m?e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-background via-muted/5 to-accent/10 bg-coffee-pattern",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(_o,{size:"md"}),e.jsx("span",{children:"Loading..."})]})})}):x?e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-background via-muted/5 to-accent/10 bg-coffee-pattern",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Ph,{className:"h-6 w-6"}),e.jsx("span",{children:x})]})})}):e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-background via-muted/5 to-accent/10 bg-coffee-pattern",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"max-w-6xl mx-auto space-y-16",children:[e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx("div",{className:"text-5xl font-bold tracking-tight text-shadow-coffee bg-gradient-to-r from-primary via-primary/80 to-primary/60 bg-clip-text text-transparent",children:n?e.jsx(Za,{content:s?n.title_ar:n.title_en,className:"inline-block"}):s?" ":"About Us"}),e.jsx("div",{className:"text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:n?e.jsx(Za,{content:s?n.subtitle_ar:n.subtitle_en}):s?" ":"Who We Are"})]}),u.map(w=>e.jsx("section",{className:w.layout==="full-width"?"card-clean rounded-xl p-8 space-y-8":"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:w.layout==="full-width"?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-3xl font-bold text-foreground",children:e.jsx(Za,{content:s?w.title_ar:w.title_en})}),e.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:e.jsx(Za,{content:s?w.content_ar:w.content_en,className:"space-y-4 text-lg text-foreground/90 leading-relaxed"})})]}):e.jsxs(e.Fragment,{children:[w.image_url&&e.jsx("div",{className:w.layout==="text-right"?"order-2 lg:order-1":w.layout==="text-left"?"order-1 lg:order-2":"order-1",children:e.jsx("img",{src:w.image_url,alt:s?w.title_ar:w.title_en,className:"w-full h-auto object-contain rounded-xl shadow-lg"})}),e.jsxs("div",{className:w.layout==="text-right"?"order-1 lg:order-2 space-y-6":w.layout==="text-left"?"order-2 lg:order-1 space-y-6":"space-y-6",children:[e.jsx("div",{className:"text-3xl font-bold text-foreground",children:e.jsx(Za,{content:s?w.title_ar:w.title_en})}),e.jsx(Za,{content:s?w.content_ar:w.content_en,className:"space-y-4 text-lg text-foreground/90 leading-relaxed"})]})]})},w.id)),u.length===0&&e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-muted-foreground text-lg",children:"No sections available"})})]})})})}var IA="Label",nj=_.forwardRef((i,s)=>e.jsx(ht.label,{...i,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(i.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nj.displayName=IA;var PA=nj;function M({className:i,...s}){return e.jsx(PA,{"data-slot":"label",className:_e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",i),...s})}class zA{collectionName="contact_messages";async createMessage(s){const n={name:s.name,email:s.email,subject:s.subject,message:s.message,phone:s.phone,is_read:!1,created_at:new Date().toISOString()};try{if(!ve)throw new Error("Database not initialized");return{id:(await Ts(Xe(ve,this.collectionName),n)).id,...n}}catch(o){throw console.error("Error creating contact message:",o),new Error("Failed to send message")}}async getMessages(){try{if(!ve)throw new Error("Database not initialized");const s=ut(Xe(ve,this.collectionName),br("created_at","desc")),o=(await At(s)).docs.map(u=>({id:u.id,...u.data()}));return{items:o,total:o.length}}catch(s){throw console.error("Error fetching contact messages:",s),new Error("Failed to load messages")}}async getUnreadCount(){try{if(!ve)throw new Error("Database not initialized");const s=ut(Xe(ve,this.collectionName),mt("is_read","==",!1));return(await At(s)).docs.length}catch(s){return console.error("Error fetching unread count:",s),0}}async markAsRead(s){try{if(!ve)throw new Error("Database not initialized");const n=Ie(ve,this.collectionName,s);await Qt(n,{is_read:!0})}catch(n){throw console.error("Error marking message as read:",n),new Error("Failed to mark message as read")}}async markAsReplied(s){try{if(!ve)throw new Error("Database not initialized");const n=Ie(ve,this.collectionName,s);await Qt(n,{is_read:!0,replied_at:new Date().toISOString()})}catch(n){throw console.error("Error marking message as replied:",n),new Error("Failed to mark message as replied")}}async deleteMessage(s){try{if(!ve)throw new Error("Database not initialized");const n=Ie(ve,this.collectionName,s);await Es(n)}catch(n){throw console.error("Error deleting message:",n),new Error("Failed to delete message")}}async getContactSettings(){try{return(await we.settings.get("contact_info"))?.value||{}}catch(s){return console.error("Error fetching contact settings:",s),{}}}async updateContactSettings(s){try{await we.settings.set("contact_info",{value:s})}catch(n){throw console.error("Error updating contact settings:",n),new Error("Failed to update contact settings")}}async saveContactSettings(s){return this.updateContactSettings(s)}}const Pn=new zA,Lv={lat:23.618926,lng:58.256566};function LA(){const{t:i,i18n:s}=Me(),n=s.language==="ar"||s.language==="fa",[o,u]=_.useState(""),[c,m]=_.useState(!1),[g,x]=_.useState(null),[j,y]=_.useState(!0),[w,A]=_.useState({name:"",email:"",subject:"",message:"",phone:""}),[h,p]=_.useState(!1),[E,b]=_.useState(null);Rs();const[v,U]=_.useState(!1),[C,R]=_.useState(!1);_.useEffect(()=>{(async()=>{try{y(!0);const k=await Pn.getContactSettings();k&&Object.keys(k).length>0?x(k):x({phone1:"+968 9190 0005",phone2:"+968 7272 6999",whatsapp:"+968 7272 6999",email:"info@spirithubcafe.com",instagram:"@spirithubcafe",address:"Al Mouj Street, Muscat, Oman",address_ar:"   ",hours:"Daily: 7 AM - 12 AM",hours_ar:"  : 7  - 12 ",coordinates:Lv})}catch(k){console.error("Error loading contact settings:",k),x({phone1:"+968 9190 0005",phone2:"+968 7272 6999",whatsapp:"+968 7272 6999",email:"info@spirithubcafe.com",instagram:"@spirithubcafe",address:"Al Mouj Street, Muscat, Oman",address_ar:"   ",hours:"Mon-Sun: 7AM-12AM",hours_ar:"-: 7-12",coordinates:Lv})}finally{y(!1)}})()},[]);const S=()=>{const ee=g.coordinates,k=`https://www.openstreetmap.org/?mlat=${ee.lat}&mlon=${ee.lng}&zoom=16#map=16/${ee.lat}/${ee.lng}`;window.open(k,"_blank")},N=()=>{m(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ee=>{const{latitude:k,longitude:B}=ee.coords;u(`${k},${B}`),m(!1),U(!0)},ee=>{console.error("Error getting location:",ee),m(!1),alert(i("contact.map.locationError"))}):(m(!1),alert(i("contact.map.locationError")))},z=()=>{if(!o){alert(i("contact.map.locationError"));return}const ee=g.coordinates,k=`https://www.openstreetmap.org/directions?from=${o}&to=${ee.lat},${ee.lng}&route=foot`;window.open(k,"_blank")},L=ee=>{window.open(`tel:${ee}`,"_self")},T=()=>{R(!0)},O=ee=>{window.open(`https://wa.me/${ee.replace(/\s/g,"").replace(/[^\d]/g,"")}`,"_blank")},I=ee=>{window.open(`mailto:${ee}`,"_self")},H=ee=>{window.open(`https://instagram.com/${ee.replace("@","")}`,"_blank")},W=async ee=>{ee.preventDefault(),p(!0),b(null);try{await Pn.createMessage(w),b({type:"success",text:n?"   .   !":"Your message has been sent successfully. We will contact you soon!"}),A({name:"",email:"",subject:"",message:"",phone:""})}catch(k){console.error("Error sending message:",k),b({type:"error",text:n?"     .    .":"Sorry, there was an error sending your message. Please try again."})}finally{p(!1)}},he=(ee,k)=>{A(B=>({...B,[ee]:k}))};return j||!g?e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-background to-muted/10 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(_o,{size:"lg"}),e.jsx("p",{className:"text-muted-foreground",children:n?" ...":"Loading..."})]})}):e.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-b from-background to-muted/10",children:[e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight gradient-text",children:i("contact.title")}),e.jsx("p",{className:"text-xl text-muted-foreground",children:i("contact.subtitle")})]}),e.jsxs("div",{className:"contact-quick-actions grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ie,{className:"contact-card contact-action-btn hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:T,children:e.jsxs(ne,{className:"p-6 text-center",children:[e.jsx(jr,{className:"contact-icon h-8 w-8 mx-auto mb-3 text-green-600"}),e.jsx("h3",{className:"font-semibold mb-2",children:i("contact.info.callNow")}),e.jsx("p",{className:"text-sm text-muted-foreground ltr",children:g.phone1}),e.jsx("p",{className:"text-sm text-muted-foreground ltr",children:g.phone2})]})}),e.jsx(ie,{className:"contact-card contact-action-btn hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>O(g.whatsapp),children:e.jsxs(ne,{className:"p-6 text-center",children:[e.jsx(Wv,{className:"contact-icon h-8 w-8 mx-auto mb-3 text-green-500"}),e.jsx("h3",{className:"font-semibold mb-2",children:i("contact.info.sendWhatsApp")}),e.jsx("p",{className:"text-sm text-muted-foreground ltr",children:g.whatsapp})]})}),e.jsx(ie,{className:"contact-card contact-action-btn hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>I(g.email),children:e.jsxs(ne,{className:"p-6 text-center",children:[e.jsx(gs,{className:"contact-icon h-8 w-8 mx-auto mb-3 text-blue-600"}),e.jsx("h3",{className:"font-semibold mb-2",children:i("contact.info.sendEmail")}),e.jsx("p",{className:"text-sm text-muted-foreground ltr",children:g.email})]})}),e.jsx(ie,{className:"contact-card contact-action-btn hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>H(g.instagram),children:e.jsxs(ne,{className:"p-6 text-center",children:[e.jsx(sh,{className:"contact-icon h-8 w-8 mx-auto mb-3 text-pink-600"}),e.jsx("h3",{className:"font-semibold mb-2",children:i("contact.info.followInstagram")}),e.jsx("p",{className:"text-sm text-muted-foreground currency",children:g.instagram})]})})]}),e.jsxs("div",{className:"contact-main-grid grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-5 w-5"}),i("contact.map.title")]}),e.jsx(Ce,{children:i("contact.map.description")})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsx("div",{className:"map-container aspect-video rounded-lg overflow-hidden border bg-muted/30",children:e.jsx("iframe",{width:"100%",height:"100%",style:{minHeight:"300px"},src:`https://www.openstreetmap.org/export/embed.html?bbox=${g.coordinates.lng-.005},${g.coordinates.lat-.005},${g.coordinates.lng+.005},${g.coordinates.lat+.005}&amp;layer=mapnik&amp;marker=${g.coordinates.lat},${g.coordinates.lng}`,allowFullScreen:!0,className:"border-0",title:"Spirit Hub Cafe Location"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ai,{className:"h-5 w-5 text-muted-foreground mt-0.5 no-flip flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i("contact.info.addressLabel")}),e.jsx("p",{className:"text-muted-foreground",children:n?g.address_ar:g.address})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ti,{className:"h-5 w-5 text-muted-foreground mt-0.5 no-flip flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i("contact.info.hoursLabel")}),e.jsx("p",{className:"text-muted-foreground",children:n?g.hours_ar:g.hours})]})]})]}),e.jsxs("div",{className:"directions-section space-y-3 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:i("contact.directions")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{variant:"outline",onClick:N,disabled:c,className:"contact-action-btn flex-1",children:[e.jsx(Vw,{className:"h-4 w-4 mr-2"}),i(c?"common.loading":"contact.map.enableLocation")]}),e.jsxs(q,{onClick:z,disabled:!o&&!v,className:"contact-action-btn flex-1",children:[e.jsx(Gw,{className:"h-4 w-4 mr-2"}),i("contact.map.getDirections")]}),e.jsxs(q,{variant:"outline",onClick:S,className:"contact-action-btn",children:[e.jsx(ai,{className:"h-4 w-4 mr-2"}),i("contact.map.openMap")]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"user-location",children:i("contact.yourLocation")}),e.jsx($,{id:"user-location",value:o,onChange:ee=>u(ee.target.value),placeholder:i("contact.map.yourLocationPlaceholder"),className:"transition-all duration-200 focus:ring-2 focus:ring-primary/20"})]})]})]})]})}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:i("contact.form.send")}),e.jsx(Ce,{children:i("contact.form.description")})]}),e.jsxs(ne,{children:[E&&e.jsx("div",{className:`mb-4 p-3 rounded-md ${E.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:E.text}),e.jsxs("form",{onSubmit:W,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name",children:i("contact.form.name")}),e.jsx($,{id:"name",value:w.name,onChange:ee=>he("name",ee.target.value),placeholder:i("contact.form.namePlaceholder"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:i("contact.form.email")}),e.jsx($,{id:"email",type:"email",value:w.email,onChange:ee=>he("email",ee.target.value),placeholder:i("contact.form.emailPlaceholder"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone",children:n?"  ()":"Phone Number (Optional)"}),e.jsx($,{id:"phone",type:"tel",value:w.phone,onChange:ee=>he("phone",ee.target.value),placeholder:"+968 9123 4567",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subject",children:i("contact.form.subject")}),e.jsx($,{id:"subject",value:w.subject,onChange:ee=>he("subject",ee.target.value),placeholder:i("contact.form.subjectPlaceholder"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"message",children:i("contact.form.message")}),e.jsx(ct,{id:"message",value:w.message,onChange:ee=>he("message",ee.target.value),placeholder:i("contact.form.messagePlaceholder"),className:"min-h-[120px]",required:!0})]}),e.jsx(q,{type:"submit",className:"w-full",disabled:h,children:h?n?" ...":"Sending...":i("contact.form.send")})]})]})]})]})]})}),e.jsx(Pt,{open:C,onOpenChange:R,children:e.jsxs(zt,{dir:n?"rtl":"ltr",className:`sm:max-w-md ${n?"text-right":""}`,showCloseButton:!n,children:[n&&e.jsx("button",{type:"button",onClick:()=>R(!1),className:"absolute left-4 top-4 z-10 text-muted-foreground hover:text-primary transition","aria-label":"Close",children:e.jsx(St,{className:"w-5 h-5"})}),e.jsxs(Jt,{children:[e.jsxs(ea,{className:`flex items-center gap-2 ${n?"justify-end text-right":""}`,children:[e.jsx(jr,{className:"h-5 w-5"}),i("contact.info.callNow")]}),e.jsx(ps,{className:n?"text-right":"",children:i("contact.modal.selectPhone")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(q,{variant:"outline",className:`w-full h-12 ${n?"justify-end text-right":"text-left justify-start"}`,onClick:()=>{L(g.phone1),R(!1)},children:[e.jsx(jr,{className:`h-4 w-4 ${n?"ml-3":"mr-3"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i("contact.modal.mainLine")}),e.jsx("div",{className:"text-sm text-muted-foreground ltr",dir:"ltr",children:g.phone1})]})]}),e.jsxs(q,{variant:"outline",className:`w-full h-12 ${n?"justify-end text-right":"text-left justify-start"}`,onClick:()=>{L(g.phone2),R(!1)},children:[e.jsx(jr,{className:`h-4 w-4 ${n?"ml-3":"mr-3"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:i("contact.modal.secondLine")}),e.jsx("div",{className:"text-sm text-muted-foreground ltr",dir:"ltr",children:g.phone2})]})]})]})]})})]})}function UA(){const{t:i,i18n:s}=Me(),{login:n,sendEmailVerification:o,refreshUser:u}=Ws(),c=li(),[m,g]=_.useState(!1),[x,j]=_.useState(!1),[y,w]=_.useState(""),[A,h]=_.useState(!1),[p,E]=_.useState(!1),[b,v]=_.useState({email:"",password:""});Rs();const U=s.language==="ar",C=async N=>{N.preventDefault(),j(!0),w(""),console.log("Login attempt started"),console.log("Login credentials:",{email:b.email,passwordLength:b.password.length});try{const z=await n(b.email,b.password);console.log("Login result received:",z),z.success?(console.log("Login successful, navigating to dashboard"),c("/dashboard")):z.requiresEmailVerification?(console.log("Email verification required"),h(!0)):(console.log("Login failed:",z.error),w(z.error||i("auth.login.invalidCredentials")))}catch(z){console.error("Login exception:",z),w(z.message||i("auth.login.invalidCredentials"))}j(!1),console.log("Login attempt completed")},R=async()=>{try{const N=await o();N.success?E(!0):w(N.error||"Failed to send verification email")}catch(N){console.error("Send verification email error:",N),w(N.message||"Failed to send verification email")}},S=async()=>{try{await u();const N=await n(b.email,b.password);N.success?(h(!1),c("/dashboard")):N.requiresEmailVerification||(w(N.error||"Login failed"),h(!1))}catch(N){console.error("Check verification status error:",N),w(N.message||"Failed to check verification status")}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center  py-12 px-4",children:[e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-12 w-12 object-contain mx-auto mb-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:i("common.brandName")})]}),e.jsx("p",{className:"text-muted-foreground",children:i("auth.login.subtitle")})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:i("auth.login.title")}),e.jsx(Ce,{children:i("auth.login.subtitle")})]}),e.jsxs(ne,{children:[e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:i("auth.login.email")}),e.jsx($,{id:"email",type:"email",placeholder:i("auth.login.emailPlaceholder"),value:b.email,onChange:N=>v({...b,email:N.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"password",children:i("auth.login.password")}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"password",type:m?"text":"password",placeholder:i("auth.login.passwordPlaceholder"),value:b.password,onChange:N=>v({...b,password:N.target.value}),required:!0,className:`${U?"text-right":"text-left"}`}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:`absolute ${U?"left-0":"right-0"} top-0 h-full px-3 py-2 hover:bg-transparent`,onClick:()=>g(!m),children:m?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),y&&e.jsx("p",{className:"text-sm text-red-600",children:y}),e.jsx(q,{type:"submit",className:"w-full",disabled:x,children:i(x?"common.loading":"auth.login.loginButton")}),e.jsx("div",{className:"text-center",children:e.jsx(Ge,{to:"/forgot-password",className:"text-sm text-amber-600 hover:underline",children:U?"  ":"Forgot Password?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i("auth.login.noAccount")," ",e.jsx(Ge,{to:"/register",className:"text-amber-600 hover:underline",children:i("auth.login.signUp")})]})})]})]})]}),e.jsx(Pt,{open:A,onOpenChange:h,children:e.jsxs(zt,{children:[e.jsxs(Jt,{children:[e.jsxs(ea,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5"}),U?"   ":"Email Verification Required"]}),e.jsx(ps,{children:U?"      .":"You must verify your email address before logging in."})]}),e.jsxs("div",{className:"py-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:U?"      :":"A verification link will be sent to your email address:"}),e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsx("code",{className:"text-sm",children:b.email})}),p&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800",children:U?"     .    .":" Verification email sent successfully. Check your inbox."})})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>h(!1),children:U?"":"Close"}),e.jsx(q,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:U?"  ":"Check Verification"}),!p&&e.jsxs(q,{onClick:R,className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),U?"  ":"Send Verification Link"]})]})]})})]})}function BA(){Rs();const{t:i,i18n:s}=Me(),n=s.language==="ar",{register:o}=Ws(),u=li(),[c,m]=_.useState(!1),[g,x]=_.useState(!1),[j,y]=_.useState(!1),[w,A]=_.useState(""),[h,p]=_.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),E=async b=>{if(b.preventDefault(),y(!0),A(""),console.log("Registration attempt started"),console.log("Form data:",{email:h.email,name:h.name,phone:h.phone,passwordLength:h.password.length}),h.password!==h.confirmPassword){console.log("Password mismatch error"),A(i("auth.register.passwordMismatch")),y(!1);return}if(h.password.length<6){console.log("Password too short error"),A(i("auth.register.passwordTooShort")),y(!1);return}console.log("Validation passed, calling register function");try{const v=await o(h.email,h.password,{full_name:h.name,phone:h.phone});console.log("Registration result received:",v),v.success?v.requiresEmailVerification?(console.log("Registration successful, showing email verification message"),alert(n?"   !      .          .":"Account created successfully! A verification email has been sent. Please check your email and verify your address before logging in."),u("/login")):(console.log("Registration successful, navigating to dashboard"),u("/dashboard")):(console.log("Registration failed:",v.error),A(v.error||i("auth.register.failed")))}catch(v){console.error("Registration exception caught:",v),A(v.message||i("auth.register.failed"))}y(!1),console.log("Registration attempt completed")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center  py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-12 w-12 object-contain mx-auto mb-2"}),e.jsx("h1",{className:"text-2xl font-bold",children:i("common.brandName")})]}),e.jsx("p",{className:"text-muted-foreground",children:i("auth.register.subtitle")})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:i("auth.register.title")}),e.jsx(Ce,{children:i("auth.register.subtitle")})]}),e.jsxs(ne,{children:[e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name",children:i("auth.register.name")}),e.jsx($,{id:"name",type:"text",placeholder:i("auth.register.namePlaceholder"),value:h.name,onChange:b=>p({...h,name:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:i("auth.register.email")}),e.jsx($,{id:"email",type:"email",placeholder:i("auth.register.emailPlaceholder"),value:h.email,onChange:b=>p({...h,email:b.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone",children:i("auth.register.phone")}),e.jsx($,{id:"phone",type:"tel",placeholder:i("auth.register.phonePlaceholder"),value:h.phone,onChange:b=>p({...h,phone:b.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"password",children:i("auth.register.password")}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"password",type:c?"text":"password",placeholder:i("auth.register.passwordPlaceholder"),value:h.password,onChange:b=>p({...h,password:b.target.value}),required:!0,className:`${n?"text-right":"text-left"}`}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:`absolute ${n?"left-0":"right-0"} top-0 h-full px-3 py-2 hover:bg-transparent`,onClick:()=>m(!c),children:c?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"confirmPassword",children:i("auth.register.confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"confirmPassword",type:g?"text":"password",placeholder:i("auth.register.confirmPasswordPlaceholder"),value:h.confirmPassword,onChange:b=>p({...h,confirmPassword:b.target.value}),required:!0,className:`${n?"text-right":"text-left"}`}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:`absolute ${n?"left-0":"right-0"} top-0 h-full px-3 py-2 hover:bg-transparent`,onClick:()=>x(!g),children:g?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),w&&e.jsx("p",{className:"text-sm text-red-600",children:w}),e.jsx(q,{type:"submit",className:"w-full",disabled:j,children:i(j?"common.loading":"auth.register.registerButton")})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i("auth.register.hasAccount")," ",e.jsx(Ge,{to:"/login",className:"text-amber-600 hover:underline",children:i("auth.register.signIn")})]})})]})]})]})})}function FA(){Rs();const{i18n:i}=Me(),s=i.language==="ar",[n,o]=_.useState(""),[u,c]=_.useState(!1),[m,g]=_.useState(!1),[x,j]=_.useState(""),y=async w=>{w.preventDefault(),j(""),c(!0);try{const A=await Na.forgotPassword(n);A.success?g(!0):j(A.error||"Failed to send reset email")}catch(A){j("An error occurred. Please try again."),console.error("Forgot password error:",A)}finally{c(!1)}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(ie,{className:"w-full max-w-md",children:[e.jsxs(ge,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-16 w-16 object-contain mx-auto mb-4"})}),e.jsx(pe,{className:"text-2xl",children:s?"   ":"Email Sent"}),e.jsx(Ce,{children:s?"        ":"Password recovery link has been sent to your email"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx(gs,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-green-700",children:s?"       ":"Please check your email and click the recovery link"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s?"   ":"Didn't receive the email?"}),e.jsx(q,{variant:"outline",onClick:()=>{g(!1),o("")},className:"w-full",children:s?" ":"Send Again"})]}),e.jsx("div",{className:"pt-4",children:e.jsx(Ge,{to:"/login",className:"block",children:e.jsx(q,{variant:"ghost",className:"w-full",children:s?e.jsxs(e.Fragment,{children:["  ",e.jsx(qx,{className:"mr-2 h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})})})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs(ie,{className:"w-full max-w-md",children:[e.jsxs(ge,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:"/images/logo-s.png",alt:"SpiritHub Cafe Logo",className:"h-16 w-16 object-contain mx-auto mb-4"})}),e.jsx(pe,{className:"text-2xl",children:s?"  ":"Forgot Password"}),e.jsx(Ce,{children:s?"       ":"Enter your email to receive a password recovery link"})]}),e.jsx(ne,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[x&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded border border-red-200",children:x}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:s?"  ":"Email Address"}),e.jsx($,{id:"email",type:"email",value:n,onChange:w=>o(w.target.value),placeholder:"example@email.com",required:!0,disabled:u})]}),e.jsx(q,{type:"submit",className:"w-full",disabled:u||!n,children:u?s?" ...":"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"mr-2 h-4 w-4"}),s?"  ":"Send Recovery Link"]})}),e.jsx("div",{className:"pt-4",children:e.jsx(Ge,{to:"/login",className:"block",children:e.jsx(q,{variant:"ghost",className:"w-full",children:s?e.jsxs(e.Fragment,{children:["  ",e.jsx(qx,{className:"mr-2 h-4 w-4"})]}):e.jsxs(e.Fragment,{children:[e.jsx(_r,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})})})]})})]})})}var sf="Radio",[HA,lj]=ni(sf),[qA,$A]=HA(sf),oj=_.forwardRef((i,s)=>{const{__scopeRadio:n,name:o,checked:u=!1,required:c,disabled:m,value:g="on",onCheck:x,form:j,...y}=i,[w,A]=_.useState(null),h=pa(s,b=>A(b)),p=_.useRef(!1),E=w?j||!!w.closest("form"):!0;return e.jsxs(qA,{scope:n,checked:u,disabled:m,children:[e.jsx(ht.button,{type:"button",role:"radio","aria-checked":u,"data-state":mj(u),"data-disabled":m?"":void 0,disabled:m,value:g,...y,ref:h,onClick:Ct(i.onClick,b=>{u||x?.(),E&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),E&&e.jsx(uj,{control:w,bubbles:!p.current,name:o,value:g,checked:u,required:c,disabled:m,form:j,style:{transform:"translateX(-100%)"}})]})});oj.displayName=sf;var cj="RadioIndicator",dj=_.forwardRef((i,s)=>{const{__scopeRadio:n,forceMount:o,...u}=i,c=$A(cj,n);return e.jsx(sy,{present:o||c.checked,children:e.jsx(ht.span,{"data-state":mj(c.checked),"data-disabled":c.disabled?"":void 0,...u,ref:s})})});dj.displayName=cj;var VA="RadioBubbleInput",uj=_.forwardRef(({__scopeRadio:i,control:s,checked:n,bubbles:o=!0,...u},c)=>{const m=_.useRef(null),g=pa(m,c),x=ef(n),j=iy(s);return _.useEffect(()=>{const y=m.current;if(!y)return;const w=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(w,"checked").set;if(x!==n&&h){const p=new Event("click",{bubbles:o});h.call(y,n),y.dispatchEvent(p)}},[x,n,o]),e.jsx(ht.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...u,tabIndex:-1,ref:g,style:{...u.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uj.displayName=VA;function mj(i){return i?"checked":"unchecked"}var GA=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yd="RadioGroup",[YA,PE]=ni(yd,[cd,lj]),hj=cd(),fj=lj(),[WA,QA]=YA(yd),gj=_.forwardRef((i,s)=>{const{__scopeRadioGroup:n,name:o,defaultValue:u,value:c,required:m=!1,disabled:g=!1,orientation:x,dir:j,loop:y=!0,onValueChange:w,...A}=i,h=hj(n),p=Ih(j),[E,b]=uo({prop:c,defaultProp:u??null,onChange:w,caller:yd});return e.jsx(WA,{scope:n,name:o,required:m,disabled:g,value:E,onValueChange:b,children:e.jsx(ty,{asChild:!0,...h,orientation:x,dir:p,loop:y,children:e.jsx(ht.div,{role:"radiogroup","aria-required":m,"aria-orientation":x,"data-disabled":g?"":void 0,dir:p,...A,ref:s})})})});gj.displayName=yd;var pj="RadioGroupItem",xj=_.forwardRef((i,s)=>{const{__scopeRadioGroup:n,disabled:o,...u}=i,c=QA(pj,n),m=c.disabled||o,g=hj(n),x=fj(n),j=_.useRef(null),y=pa(s,j),w=c.value===u.value,A=_.useRef(!1);return _.useEffect(()=>{const h=E=>{GA.includes(E.key)&&(A.current=!0)},p=()=>A.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",p)}},[]),e.jsx(ay,{asChild:!0,...g,focusable:!m,active:w,children:e.jsx(oj,{disabled:m,required:c.required,checked:w,...x,...u,name:c.name,ref:y,onCheck:()=>c.onValueChange(u.value),onKeyDown:Ct(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Ct(u.onFocus,()=>{A.current&&j.current?.click()})})})});xj.displayName=pj;var KA="RadioGroupIndicator",vj=_.forwardRef((i,s)=>{const{__scopeRadioGroup:n,...o}=i,u=fj(n);return e.jsx(dj,{...u,...o,ref:s})});vj.displayName=KA;var yj=gj,bj=xj,XA=vj;const jj=_.forwardRef(({className:i,...s},n)=>e.jsx(yj,{className:_e("grid gap-2",i),...s,ref:n}));jj.displayName=yj.displayName;const Nh=_.forwardRef(({className:i,...s},n)=>e.jsx(bj,{ref:n,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...s,children:e.jsx(XA,{className:"flex items-center justify-center",children:e.jsx(Yw,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Nh.displayName=bj.displayName;const Qm=async(i,s=null,n="operation")=>{try{return await i()}catch(o){return console.error(` Firestore operation failed (${n}):`,o),s}},Pi={get:async()=>await Qm(async()=>{const i=await qt(Ie(ve,"settings","checkout"));return i.exists()?{id:i.id,...i.data(),created_at:i.data().created_at?.toDate()||new Date,updated_at:i.data().updated_at?.toDate()||new Date}:{tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}}],payment_gateway:{provider:"stripe",enabled:!0,test_mode:!1,merchant_id:"224",access_code:"AVDP00LA16BE47PDEB",working_key:"841FEAE32609C3E892C4D0B1393A7ACC",supported_currencies:["OMR","USD","SAR"],additional_settings:{return_url:"https://spirithubcafe.com/checkout/success",cancel_url:"https://spirithubcafe.com/checkout/cancel",webhook_url:"https://spirithubcafe.com/api/payment/webhook"}},created_at:new Date,updated_at:new Date}},null,"getCheckoutSettings"),update:async i=>await Qm(async()=>{const s=Ie(ve,"settings","checkout");return(await qt(s)).exists()?await Qt(s,{...i,updated_at:rt()}):await si(s,{...i,created_at:rt(),updated_at:rt()}),console.log(" Checkout settings updated successfully"),!0},!1,"updateCheckoutSettings"),initialize:async()=>await Qm(async()=>{if(!(await qt(Ie(ve,"settings","checkout"))).exists()){const s={tax_rate:.1,enabled_countries:["OM","AE","SA","KW","IQ"],shipping_methods:[{id:"pickup",name:"Pickup from our Cafe",name_ar:"  ",enabled:!0,is_free:!0,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"Same day",description:"Free pickup from our cafe",description_ar:"   "},{id:"nool_oman",name:"NOOL OMAN",name_ar:" ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:2,base_cost_usd:5.2,base_cost_sar:19.5,estimated_delivery_days:"1-2 days",description:"Fast delivery within Oman",description_ar:"   ",api_settings:{provider:"nool_oman",api_url:"https://api.nool.om",account_number:"71925275"}}],created_at:rt(),updated_at:rt()};await si(Ie(ve,"settings","checkout"),s),console.log(" Default checkout settings initialized")}return!0},!1,"initializeCheckoutSettings")},_j=()=>{const[i,s]=_.useState(null),[n,o]=_.useState(!0),[u,c]=_.useState(null),m=async()=>{try{o(!0),c(null);const j=await Pi.get();if(!j||Object.keys(j).length===0)if(console.log("No checkout settings found, initializing defaults..."),await Pi.initialize()){const w=await Pi.get();s(w)}else throw new Error("Failed to initialize checkout settings");else s(j)}catch(j){console.error("Error fetching checkout settings:",j),c("Failed to fetch checkout settings");try{if(console.log("Attempting to initialize checkout settings as fallback..."),await Pi.initialize()){const w=await Pi.get();s(w)}}catch(y){console.error("Failed to initialize checkout settings:",y)}}finally{o(!1)}},g=async j=>{try{return c(null),await Pi.update(j)?(await m(),!0):!1}catch(y){return console.error("Error updating checkout settings:",y),c("Failed to update checkout settings"),!1}},x=async()=>{try{return c(null),await Pi.initialize()?(await m(),!0):!1}catch(j){return console.error("Error initializing checkout settings:",j),c("Failed to initialize checkout settings"),!1}};return _.useEffect(()=>{m()},[]),{settings:i,loading:n,error:u,updateSettings:g,initializeSettings:x,refetch:m}};function ZA(){Rs();const i=li(),{i18n:s}=Me(),{cart:n,clearCart:o,getTotalPrice:u}=di(),{formatPrice:c,currency:m}=Fa(),{currentUser:g}=Ws(),{settings:x}=_j(),[j,y]=_.useState(!1),[w,A]=_.useState(!1),[h,p]=_.useState(null),E=s.language==="ar";_.useEffect(()=>{g||(te.error(E?"      ":"Please log in to access checkout"),i("/login",{replace:!0,state:{from:"/checkout"}}))},[g,i,E]);const b=(I,H)=>{let W=0;if(I.properties&&I.properties.some(ee=>ee.affects_price&&ee.options&&ee.options.length>0)){if(H&&Object.keys(H).length>0)for(const[ee,k]of Object.entries(H)){const B=I.properties.find(F=>F.name===ee);if(B&&B.affects_price){const F=B.options.find(ue=>ue.value===k);if(F){const ue=F.on_sale&&(!F.sale_start_date||new Date(F.sale_start_date)<=new Date)&&(!F.sale_end_date||new Date(F.sale_end_date)>=new Date);m==="OMR"?F.price_omr?W=ue&&F.sale_price_omr?F.sale_price_omr:F.price_omr:(F.price_modifier_omr||F.price_modifier)&&(W=F.price_modifier_omr??F.price_modifier??0):m==="SAR"?F.price_sar?W=ue&&F.sale_price_sar?F.sale_price_sar:F.price_sar:(F.price_modifier_sar||F.price_modifier_omr||F.price_modifier)&&(W=F.price_modifier_sar??(F.price_modifier_omr??F.price_modifier??0)*9.75):F.price_usd?W=ue&&F.sale_price_usd?F.sale_price_usd:F.price_usd:(F.price_modifier_usd||F.price_modifier_omr||F.price_modifier)&&(W=F.price_modifier_usd??(F.price_modifier_omr??F.price_modifier??0)*2.6);break}}}if(W===0){const k=I.properties.find(B=>B.affects_price&&B.options&&B.options.length>0)?.options?.[0];if(k){const B=k.on_sale&&(!k.sale_start_date||new Date(k.sale_start_date)<=new Date)&&(!k.sale_end_date||new Date(k.sale_end_date)>=new Date);m==="OMR"?k.price_omr?W=B&&k.sale_price_omr?k.sale_price_omr:k.price_omr:(k.price_modifier_omr||k.price_modifier)&&(W=k.price_modifier_omr??k.price_modifier??0):m==="SAR"?k.price_sar?W=B&&k.sale_price_sar?k.sale_price_sar:k.price_sar:(k.price_modifier_sar||k.price_modifier_omr||k.price_modifier)&&(W=k.price_modifier_sar??(k.price_modifier_omr??k.price_modifier??0)*9.75):k.price_usd?W=B&&k.sale_price_usd?k.sale_price_usd:k.price_usd:(k.price_modifier_usd||k.price_modifier_omr||k.price_modifier)&&(W=k.price_modifier_usd??(k.price_modifier_omr??k.price_modifier??0)*2.6)}}}return W===0&&(m==="OMR"?W=I.sale_price_omr&&I.sale_price_omr<(I.price_omr||0)?I.sale_price_omr:I.price_omr||0:m==="SAR"?W=I.sale_price_sar??I.price_sar??(I.sale_price_omr??I.price_omr??0)*9.75:W=I.sale_price_usd??I.price_usd??(I.sale_price_omr??I.price_omr??0)*2.6),W},[v,U]=_.useState({firstName:"",lastName:"",email:"",phone:"",phoneCountry:"968",address:"",country:"OM",state:"Muscat",city:"muscat",zipCode:"",shippingMethod:"pickup",notes:""}),C=[{value:"Buraymi",name:"Buraymi",name_ar:""},{value:"Dakhiliyah",name:"Dakhiliyah",name_ar:""},{value:"Dhahirah",name:"Dhahirah",name_ar:""},{value:"Dhofar",name:"Dhofar",name_ar:""},{value:"Musandam",name:"Musandam",name_ar:""},{value:"Muscat",name:"Muscat",name_ar:""},{value:"North Batinah",name:"North Batinah",name_ar:" "},{value:"North Sharqiyah",name:"North Sharqiyah",name_ar:" "},{value:"South Batinah",name:"South Batinah",name_ar:" "},{value:"South Sharqiyah",name:"South Sharqiyah",name_ar:" "},{value:"Wusta",name:"Wusta",name_ar:""}],R={Buraymi:[{value:"al-burimi",name:"Al-Burimi",name_ar:"",price:2},{value:"mahdha",name:"Mahdha",name_ar:"",price:2},{value:"al sinainah",name:"Al Sinainah",name_ar:"",price:2}],Dakhiliyah:[{value:"nizwa",name:"Nizwa",name_ar:"",price:2},{value:"izki",name:"Izki",name_ar:"",price:2},{value:"bahla",name:"Bahla",name_ar:"",price:2},{value:"sinaw",name:"Sinaw",name_ar:"",price:2}],Dhahirah:[{value:"ibri",name:"Ibri",name_ar:"",price:2},{value:"yanqul",name:"Yanqul",name_ar:"",price:2}],Dhofar:[{value:"salalah",name:"Salalah",name_ar:"",price:2}],Musandam:[{value:"khasab",name:"Khasab",name_ar:"",price:3}],Muscat:[{value:"al-khoudh",name:"Al-Khoudh",name_ar:"",price:2},{value:"al-amrat",name:"Al-Amrat",name_ar:"",price:2},{value:"busher",name:"Busher",name_ar:"",price:2},{value:"qurayyat",name:"Qurayyat",name_ar:"",price:2},{value:"muscat",name:"Muscat",name_ar:"",price:2}],"North Batinah":[{value:"shinas",name:"Shinas",name_ar:"",price:2},{value:"suhar",name:"Suhar",name_ar:"",price:2},{value:"saham",name:"Saham",name_ar:"",price:2},{value:"al-suwaiq",name:"Al-Suwaiq",name_ar:"",price:2},{value:"al-khaburah",name:"Al Khaburah",name_ar:"",price:2}],"North Sharqiyah":[{value:"ibra",name:"Ibra",name_ar:"",price:2},{value:"al-kamil",name:"Al Kamil",name_ar:"",price:2}],"South Batinah":[{value:"al-rustaq",name:"Al-Rustaq",name_ar:"",price:2},{value:"barka",name:"Barka",name_ar:"",price:2},{value:"al-mubilah",name:"Al-Mubilah",name_ar:"",price:2}],"South Sharqiyah":[{value:"jalan",name:"Jalan",name_ar:"",price:2},{value:"sur",name:"Sur",name_ar:"",price:2}],Wusta:[{value:"haima",name:"Haima",name_ar:"",price:2},{value:"duqm",name:"Duqm",name_ar:"",price:2},{value:"al jazer",name:"Al Jazer",name_ar:"",price:2},{value:"mahout",name:"Mahout",name_ar:"",price:2}]},S={OM:"968",AE:"971",SA:"966",KW:"965",IQ:"964",QA:"974",BH:"973"},N=(I,H)=>{U(W=>{const he={...W,[I]:H};if(I==="country"&&(H==="OM"?(he.state="Muscat",he.city="muscat",he.phoneCountry=S.OM):(he.state="",he.city="",he.phoneCountry=S[H]||he.phoneCountry,W.shippingMethod==="nool_oman"&&(he.shippingMethod="pickup"))),I==="state"&&W.country==="OM"){he.city="";const ee=R[H];ee&&ee.length>0&&(he.city=ee[0].value)}return he})},z=I=>{if(x?.category_tax_rates&&I.category_id){const H=x.category_tax_rates.find(W=>W.category_id===I.category_id&&W.enabled);if(H)return H.tax_rate}return x?.tax_rate||0},L=()=>{if(!x?.shipping_methods)return 0;const I=x.shipping_methods.find(H=>H.id===v.shippingMethod&&H.enabled);if(!I||I.is_free)return 0;if(v.shippingMethod==="nool_oman"&&v.country==="OM"&&v.city&&v.state){const H=R[v.state];if(H){const W=H.find(he=>he.value===v.city);if(W){let he=W.price;return m!=="OMR"&&(he=he*Nt[m]),he}}}switch(m){case"OMR":return I.base_cost_omr||0;case"SAR":return I.base_cost_sar||0;case"USD":return I.base_cost_usd||0;default:return I.base_cost_omr||0}},T=()=>{const I=u(),H=L();console.log(" Calculating totals:",{subtotal:I,selectedShippingMethod:v.shippingMethod,calculatedShippingCost:H,currency:m});let W=0;if(n?.items)for(const ee of n.items){if(!ee.product)continue;const B=b(ee.product,ee.selectedProperties)*ee.quantity,F=z(ee.product),ue=B*F;W+=ue}const he=I+H+W;return console.log(" Final totals:",{subtotal:I,shipping:H,tax:W,total:he,currency:m}),{subtotal:I,shipping:H,tax:W,total:he}},O=async()=>{if(!g){te.error(E?"     ":"Please log in to proceed to checkout");return}if(!v.firstName||!v.lastName||!v.email||!v.phone){te.error(E?"    ":"Please fill all required fields");return}if(!v.address||!v.city||!v.country){te.error(E?"   ":"Please fill shipping information");return}if(!n?.items||n.items.length===0){te.error(E?"  ":"Cart is empty");return}try{A(!0);const I=T(),H=`ORD-${Date.now()}`,he=((B,F)=>{const ue=(F||"").toString().trim();return ue?ue.startsWith("+")?ue:`${B||""}${ue}`:""})(v.phoneCountry,v.phone),ee={order_number:H,user_id:g.id,customer_email:v.email,customer_phone:he,customer_name:`${v.firstName} ${v.lastName}`,shipping_address:{recipient_name:`${v.firstName} ${v.lastName}`,phone:he,country:v.country,city:v.city,state:v.state,postal_code:v.zipCode,full_address:v.address},subtotal_omr:m==="OMR"?I.subtotal:I.subtotal/Nt.OMR,subtotal_usd:m==="USD"?I.subtotal:I.subtotal/Nt.USD,subtotal_sar:m==="SAR"?I.subtotal:I.subtotal/Nt.SAR,shipping_cost_omr:m==="OMR"?I.shipping:I.shipping/Nt.OMR,shipping_cost_usd:m==="USD"?I.shipping:I.shipping/Nt.USD,shipping_cost_sar:m==="SAR"?I.shipping:I.shipping/Nt.SAR,tax_amount_omr:m==="OMR"?I.tax:I.tax/Nt.OMR,tax_amount_usd:m==="USD"?I.tax:I.tax/Nt.USD,tax_amount_sar:m==="SAR"?I.tax:I.tax/Nt.SAR,discount_amount_omr:0,discount_amount_usd:0,discount_amount_sar:0,total_price_omr:m==="OMR"?I.total:I.total/Nt.OMR,total_price_usd:m==="USD"?I.total:I.total/Nt.USD,total_price_sar:m==="SAR"?I.total:I.total/Nt.SAR,currency:m,status:"pending",payment_status:"unpaid",payment_method:"card",notes:v.notes,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},k=await we.orders.create(ee);for(const B of n.items){if(!B.product)continue;const F=b(B.product,B.selectedProperties),ue=F*B.quantity,X={order_id:k.id,product_id:B.product.id,product_name:B.product.name,product_name_ar:B.product.name_ar||"",product_image:B.product.image||"",quantity:B.quantity,unit_price_omr:m==="OMR"?F:F/Nt.OMR,unit_price_usd:m==="USD"?F:F/Nt.USD,unit_price_sar:m==="SAR"?F:F/Nt.SAR,total_price_omr:m==="OMR"?ue:ue/Nt.OMR,total_price_usd:m==="USD"?ue:ue/Nt.USD,total_price_sar:m==="SAR"?ue:ue/Nt.SAR,selected_properties:B.selectedProperties||{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await we.orderItems.create(X)}te.success(E?"   ":"Order created successfully"),p(k.id),y(!0),o()}catch(I){console.error("Error creating order:",I),te.error(E?"    ":"Error creating order")}finally{A(!1)}};return g?!n||!n.items||n.items.length===0&&!j?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(ri,{className:"h-16 w-16 text-muted-foreground mx-auto"}),e.jsx("h1",{className:"text-2xl font-bold",children:E?"  ":"Your cart is empty"}),e.jsx("p",{className:"text-muted-foreground",children:E?"   ":"Add some products to get started"}),e.jsx(q,{asChild:!0,children:e.jsx(Ge,{to:"/shop",children:E?" ":"Shop Now"})})]})})})}):j?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ca,{className:"h-16 w-16 text-green-500 mx-auto"}),e.jsx("h1",{className:"text-3xl font-bold text-green-600",children:E?"  !":"Order Successful!"}),h&&e.jsx("p",{className:"text-lg font-medium",children:E?` : ${h}`:`Order ID: ${h}`}),e.jsx("p",{className:"text-muted-foreground",children:E?" !    .":"Thank you! We will contact you soon."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(q,{asChild:!0,children:e.jsx(Ge,{to:"/shop",children:E?" ":"Continue Shopping"})}),e.jsx(q,{variant:"outline",asChild:!0,children:e.jsx(Ge,{to:"/",children:E?" ":"Back to Home"})})]})]})})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:E?" ":"Checkout"}),e.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ge,{to:"/",className:"hover:text-primary",children:E?"":"Home"}),e.jsx("span",{children:"/"}),e.jsx(Ge,{to:"/shop",className:"hover:text-primary",children:E?"":"Shop"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-foreground",children:E?" ":"Checkout"})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm",children:"1"}),E?" ":"Personal Information"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"firstName",children:E?" ":"First Name"}),e.jsx($,{id:"firstName",value:v.firstName,onChange:I=>N("firstName",I.target.value),placeholder:E?"  ":"Enter first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"lastName",children:E?" ":"Last Name"}),e.jsx($,{id:"lastName",value:v.lastName,onChange:I=>N("lastName",I.target.value),placeholder:E?"  ":"Enter last name"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:E?" ":"Email"}),e.jsx($,{id:"email",type:"email",value:v.email,onChange:I=>N("email",I.target.value),placeholder:E?"  ":"Enter email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone",children:E?" ":"Phone Number"}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-32",children:e.jsxs(Ue,{value:v.phoneCountry,onValueChange:I=>N("phoneCountry",I),children:[e.jsx(Fe,{className:"w-full",children:e.jsx(Be,{placeholder:v.phoneCountry})}),e.jsx(He,{children:Object.entries(S).map(([I,H])=>e.jsxs(Q,{value:H,children:[H," ",I]},H))})]})}),e.jsx("div",{className:"flex-1",children:e.jsx($,{id:"phone",type:"tel",value:v.phone,onChange:I=>N("phone",I.target.value),placeholder:E?"  ":"Enter phone number"})})]})]})]})]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm",children:"2"}),e.jsx(ai,{className:"h-5 w-5"}),E?" ":"Shipping Address"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"address",children:E?"":"Address"}),e.jsx(ct,{id:"address",value:v.address,onChange:I=>N("address",I.target.value),placeholder:E?"  ":"Enter detailed address",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"country",children:E?"":"Country"}),e.jsxs(Ue,{value:v.country,onValueChange:I=>N("country",I),children:[e.jsx(Fe,{className:"w-full",children:e.jsx(Be,{placeholder:E?" ":"Select country"})}),e.jsx(He,{children:x?.enabled_countries?.map(I=>{const W={OM:{name:"Oman",name_ar:""},AE:{name:"UAE",name_ar:"  "},SA:{name:"Saudi Arabia",name_ar:""},KW:{name:"Kuwait",name_ar:""},IQ:{name:"Iraq",name_ar:""},QA:{name:"Qatar",name_ar:""},BH:{name:"Bahrain",name_ar:""}}[I];return W?e.jsx(Q,{value:I,children:E?W.name_ar:W.name},I):null})||[e.jsx(Q,{value:"OM",children:E?"":"Oman"},"OM"),e.jsx(Q,{value:"AE",children:E?"  ":"UAE"},"AE"),e.jsx(Q,{value:"SA",children:E?"":"Saudi Arabia"},"SA"),e.jsx(Q,{value:"KW",children:E?"":"Kuwait"},"KW"),e.jsx(Q,{value:"IQ",children:E?"":"Iraq"},"IQ"),e.jsx(Q,{value:"QA",children:E?"":"Qatar"},"QA"),e.jsx(Q,{value:"BH",children:E?"":"Bahrain"},"BH")]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"state",children:E?"/":"State/Province"}),v.country==="OM"?e.jsxs(Ue,{value:v.state,onValueChange:I=>N("state",I),children:[e.jsx(Fe,{className:"w-full",children:e.jsx(Be,{placeholder:E?" ":"Select state"})}),e.jsx(He,{children:C.map(I=>e.jsx(Q,{value:I.value,children:E?I.name_ar:I.name},I.value))})]}):e.jsx($,{id:"state",value:v.state,onChange:I=>N("state",I.target.value),placeholder:E?" ":"Enter state"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"city",children:E?"":"City"}),v.country==="OM"?e.jsxs(Ue,{value:v.city,onValueChange:I=>N("city",I),children:[e.jsx(Fe,{className:"w-full",children:e.jsx(Be,{placeholder:E?" ":"Select city"})}),e.jsx(He,{children:v.state&&R[v.state]?R[v.state].map(I=>e.jsx(Q,{value:I.value,children:E?I.name_ar:I.name},I.value)):e.jsx(Q,{value:"",disabled:!0,children:E?"  ":"Select state first"})})]}):e.jsx($,{id:"city",value:v.city,onChange:I=>N("city",I.target.value),placeholder:E?" ":"Enter city"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"zipCode",children:E?" ":"ZIP Code"}),e.jsx($,{id:"zipCode",value:v.zipCode,onChange:I=>N("zipCode",I.target.value),placeholder:E?"  ":"Enter ZIP code"})]})]})]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-amber-600 text-white rounded-full flex items-center justify-center text-sm",children:"3"}),E?" ":"Order Notes"]})}),e.jsx(ne,{children:e.jsx(ct,{value:v.notes,onChange:I=>N("notes",I.target.value),placeholder:E?"     ":"Add any special notes or requests",rows:4})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(ie,{className:"sticky top-8",children:[e.jsx(ge,{children:e.jsx(pe,{children:E?"":"Your Order"})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium border-b pb-2",children:[e.jsx("span",{children:E?"":"Product"}),e.jsx("span",{children:E?" ":"Subtotal"})]}),n?.items?.map(I=>e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium text-sm",children:[E&&I.product?.name_ar||I.product?.name,I.selectedProperties&&Object.keys(I.selectedProperties).length>0&&e.jsx("span",{className:"text-xs text-muted-foreground",children:Object.entries(I.selectedProperties).map(([H,W])=>{const ee=I.product?.properties?.find(B=>B.name===H)?.options?.find(B=>B.value===W);return` - ${E&&ee?.label_ar||ee?.label}`}).join(", ")})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",I.quantity]})]}),e.jsx("div",{className:"text-sm font-medium",children:I.product&&c(b(I.product,I.selectedProperties)*I.quantity)})]},I.product?.id))]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:E?" ":"Subtotal"}),e.jsx("span",{children:c(u())})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-medium text-sm",children:E?"":"Shipping"}),e.jsx(jj,{value:v.shippingMethod,onValueChange:I=>N("shippingMethod",I),children:x?.shipping_methods?.filter(I=>!(!I.enabled||I.id==="nool_oman"&&v.country!=="OM")).map(I=>{let H=0;if(!I.is_free)if(I.id==="nool_oman"&&v.country==="OM"&&v.city&&v.state){const W=R[v.state];if(W){const he=W.find(ee=>ee.value===v.city);he&&(H=he.price,m!=="OMR"&&(H=H*Nt[m]))}}else switch(m){case"OMR":H=I.base_cost_omr||0;break;case"SAR":H=I.base_cost_sar||0;break;case"USD":H=I.base_cost_usd||0;break;default:H=I.base_cost_omr||0}return e.jsxs("div",{className:"flex items-center justify-between space-x-2 rtl:space-x-reverse",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(Nh,{value:I.id,id:I.id,disabled:I.id==="nool_oman"&&(!v.city||!v.state||v.country!=="OM")}),e.jsxs(M,{htmlFor:I.id,className:`text-sm ${I.id==="nool_oman"&&(!v.city||!v.state||v.country!=="OM")?"text-muted-foreground":""}`,children:[E?I.name_ar:I.name,I.id==="nool_oman"&&v.country==="OM"&&(!v.city||!v.state)&&e.jsx("span",{className:"text-xs text-muted-foreground block",children:E?"    ":"Please select state and city first"})]})]}),e.jsx("span",{className:`text-sm font-medium ${I.is_free?"text-green-600":""}`,children:I.is_free?E?"":"Free":c(H)})]},I.id)})||[e.jsxs("div",{className:"flex items-center justify-between space-x-2 rtl:space-x-reverse",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(Nh,{value:"pickup",id:"pickup"}),e.jsx(M,{htmlFor:"pickup",className:"text-sm",children:E?"  ":"Pickup from our Cafe"})]}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:E?"":"Free"})]},"pickup")]})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:E?"":"Shipping"}),e.jsx("span",{children:c(T().shipping)})]})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:E?"":"Tax"}),e.jsx("span",{children:c(T().tax)})]})}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:E?"":"Total"}),e.jsx("span",{className:"text-amber-600",children:c(T().total)})]})}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-center items-center gap-2 mb-4",children:[e.jsx("img",{src:"/images/apple-pay.png",alt:"Apple Pay",className:"h-8",onError:I=>I.target.style.display="none"}),e.jsx("img",{src:"/images/visa.png",alt:"Visa",className:"h-8",onError:I=>I.target.style.display="none"}),e.jsx("img",{src:"/images/mastercard.png",alt:"Mastercard",className:"h-8",onError:I=>I.target.style.display="none"})]}),e.jsx(q,{onClick:O,disabled:w,className:"w-full bg-green-600 hover:bg-green-700",children:w?E?"  ...":"Processing Order...":E?" ":"Proceed to Pay"})]})]})]})})]})]})})}):null}function JA(){const{i18n:i}=Me(),[s]=zh(),[n,o]=_.useState("loading"),[u,c]=_.useState(null),m=i.language==="ar",g=s.get("order_id"),x=s.get("transaction_id");return _.useEffect(()=>{(async()=>{if(!g){o("failed");return}try{const y=await we.orders.get(g);c(y),o("success")}catch(y){console.error("Order verification error:",y),o("failed")}})()},[g,x]),n==="loading"?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto"}),e.jsx("h1",{className:"text-2xl font-bold",children:m?"   ...":"Verifying Payment..."})]})})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(ie,{children:[e.jsxs(ge,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:n==="success"?e.jsx(Ca,{className:"h-16 w-16 text-green-500"}):e.jsx(Mn,{className:"h-16 w-16 text-red-500"})}),e.jsx(pe,{className:"text-2xl",children:n==="success"?m?"  !":"Payment Successful!":m?"  ":"Payment Failed"})]}),e.jsxs(ne,{className:"space-y-6",children:[n==="success"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-muted-foreground",children:m?" !      .":"Thank you! Your order has been received and will be processed soon."})}),u&&e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:m?" :":"Order Details:"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:m?" :":"Order Number:"}),e.jsx("span",{className:"font-mono",children:u.order_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:m?" :":"Amount Paid:"}),e.jsxs("span",{className:"font-semibold",children:[u.currency==="OMR"&&`${u.total_price_omr?.toFixed(2)} OMR`,u.currency==="USD"&&`$${u.total_price_usd?.toFixed(2)}`,u.currency==="SAR"&&`${u.total_price_sar?.toFixed(2)} SAR`]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:m?" :":"Email:"}),e.jsx("span",{children:u.customer_email})]})]})]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:m?"  .        .":"Payment failed. Please try again or contact us for assistance."}),u&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[m?" :":"Order Number:"," ",u.order_number]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(q,{asChild:!0,children:e.jsxs(Ge,{to:"/",className:"flex items-center gap-2",children:[e.jsx(_r,{className:"h-4 w-4"}),m?" ":"Back to Home"]})}),n==="success"&&e.jsx(q,{variant:"outline",asChild:!0,children:e.jsx(Ge,{to:"/dashboard/orders",children:m?" ":"View My Orders"})})]})]})]})})})})}var bd="Switch",[e4,zE]=ni(bd),[t4,a4]=e4(bd),wj=_.forwardRef((i,s)=>{const{__scopeSwitch:n,name:o,checked:u,defaultChecked:c,required:m,disabled:g,value:x="on",onCheckedChange:j,form:y,...w}=i,[A,h]=_.useState(null),p=pa(s,C=>h(C)),E=_.useRef(!1),b=A?y||!!A.closest("form"):!0,[v,U]=uo({prop:u,defaultProp:c??!1,onChange:j,caller:bd});return e.jsxs(t4,{scope:n,checked:v,disabled:g,children:[e.jsx(ht.button,{type:"button",role:"switch","aria-checked":v,"aria-required":m,"data-state":kj(v),"data-disabled":g?"":void 0,disabled:g,value:x,...w,ref:p,onClick:Ct(i.onClick,C=>{U(R=>!R),b&&(E.current=C.isPropagationStopped(),E.current||C.stopPropagation())})}),b&&e.jsx(Cj,{control:A,bubbles:!E.current,name:o,value:x,checked:v,required:m,disabled:g,form:y,style:{transform:"translateX(-100%)"}})]})});wj.displayName=bd;var Nj="SwitchThumb",Sj=_.forwardRef((i,s)=>{const{__scopeSwitch:n,...o}=i,u=a4(Nj,n);return e.jsx(ht.span,{"data-state":kj(u.checked),"data-disabled":u.disabled?"":void 0,...o,ref:s})});Sj.displayName=Nj;var s4="SwitchBubbleInput",Cj=_.forwardRef(({__scopeSwitch:i,control:s,checked:n,bubbles:o=!0,...u},c)=>{const m=_.useRef(null),g=pa(m,c),x=ef(n),j=iy(s);return _.useEffect(()=>{const y=m.current;if(!y)return;const w=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(w,"checked").set;if(x!==n&&h){const p=new Event("click",{bubbles:o});h.call(y,n),y.dispatchEvent(p)}},[x,n,o]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...u,tabIndex:-1,ref:g,style:{...u.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Cj.displayName=s4;function kj(i){return i?"checked":"unchecked"}var r4=wj,i4=Sj;function it({className:i,...s}){return e.jsx(r4,{"data-slot":"switch",className:_e("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",i),...s,children:e.jsx(i4,{"data-slot":"switch-thumb",className:_e("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Aj(){const{i18n:i}=Me(),{settings:s,loading:n,updateSettings:o,initializeSettings:u}=_j(),[c,m]=_.useState(null),[g,x]=_.useState(!1),[j,y]=_.useState([]),[w,A]=_.useState(!1),h=i.language==="ar";_.useEffect(()=>{(async()=>{try{A(!0);const O=await we.categories.list();y(O.items)}catch(O){console.error("Error loading categories:",O),te.error(h?"   ":"Failed to load categories")}finally{A(!1)}})()},[h]),_.useEffect(()=>{s&&m(s)},[s]);const p=async()=>{if(c)try{if(x(!0),!s){if(console.log("No settings found, initializing first..."),!await u()){te.error(h?"  ":"Failed to initialize settings");return}await new Promise(I=>setTimeout(I,1e3))}await o(c)?te.success(h?"   ":"Settings saved successfully"):te.error(h?"  ":"Failed to save settings")}catch(T){console.error("Error in handleSave:",T),te.error(h?"   ":"Error saving settings")}finally{x(!1)}},E=async()=>{try{x(!0),await u()&&te.success(h?"   ":"Default settings initialized")}catch{te.error(h?"   ":"Failed to initialize settings")}finally{x(!1)}},b=T=>{c&&m({...c,tax_rate:T/100})},v=(T,O,I)=>{if(c){const H=c.category_tax_rates||[],W=j.find(ee=>ee.id===T);if(!W)return;const he=H.findIndex(ee=>ee.category_id===T);if(he>=0){const ee=[...H];ee[he]={category_id:T,category_name:W.name,category_name_ar:W.name_ar,tax_rate:O/100,enabled:I},m({...c,category_tax_rates:ee})}else{const ee={category_id:T,category_name:W.name,category_name_ar:W.name_ar,tax_rate:O/100,enabled:I};m({...c,category_tax_rates:[...H,ee]})}}},U=T=>{if(c){const O=(c.category_tax_rates||[]).filter(I=>I.category_id!==T);m({...c,category_tax_rates:O})}},C=T=>{if(!c?.category_tax_rates)return{rate:0,enabled:!1};const O=c.category_tax_rates.find(I=>I.category_id===T);return{rate:O?O.tax_rate*100:0,enabled:O?O.enabled:!1}},R=T=>{c&&m({...c,enabled_countries:T})},S=(T,O)=>{if(c){const I=c.shipping_methods.map(H=>H.id===T?{...H,...O}:H);m({...c,shipping_methods:I})}},N=()=>{if(c){const T={id:`custom_${Date.now()}`,name:"New Shipping Method",name_ar:"  ",enabled:!0,is_free:!1,pricing_type:"flat",base_cost_omr:0,base_cost_usd:0,base_cost_sar:0,estimated_delivery_days:"1-3 days",description:"Custom shipping method",description_ar:"  "};m({...c,shipping_methods:[...c.shipping_methods,T]})}},z=T=>{if(c){const O=c.shipping_methods.filter(I=>I.id!==T);m({...c,shipping_methods:O})}};if(n)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ua,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:h?"  ...":"Loading settings..."})]})});if(!c)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold",children:h?"  ":"Checkout Settings"}),e.jsx("p",{className:"text-muted-foreground",children:h?"    .    .":"No settings found. Initialize default settings."}),e.jsx(q,{onClick:E,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"h-4 w-4 animate-spin mr-2"}),h?" ...":"Initializing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fi,{className:"h-4 w-4 mr-2"}),h?"  ":"Initialize Default Settings"]})})]})})})});const L=[{code:"OM",name:"Oman",name_ar:""},{code:"AE",name:"UAE",name_ar:"  "},{code:"SA",name:"Saudi Arabia",name_ar:""},{code:"KW",name:"Kuwait",name_ar:""},{code:"IQ",name:"Iraq",name_ar:""},{code:"QA",name:"Qatar",name_ar:""},{code:"BH",name:"Bahrain",name_ar:""},{code:"JO",name:"Jordan",name_ar:""},{code:"LB",name:"Lebanon",name_ar:""},{code:"EG",name:"Egypt",name_ar:""}];return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:h?"  ":"Checkout Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:h?"    ":"Manage tax, shipping, and payment settings"})]}),e.jsx(q,{onClick:p,disabled:g,children:g?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"h-4 w-4 animate-spin mr-2"}),h?" ...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-4 w-4 mr-2"}),h?" ":"Save Settings"]})})]}),e.jsxs(La,{defaultValue:"tax",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-5",children:[e.jsx(Pe,{value:"tax",children:h?"":"Tax"}),e.jsx(Pe,{value:"category-tax",children:h?" ":"Category Tax"}),e.jsx(Pe,{value:"countries",children:h?"":"Countries"}),e.jsx(Pe,{value:"shipping",children:h?"":"Shipping"}),e.jsx(Pe,{value:"payment",children:h?"":"Payment"})]}),e.jsx(ze,{value:"tax",children:e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{children:h?" ":"Tax Settings"})}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"tax-rate",children:h?"  (%)":"Tax Rate (%)"}),e.jsx($,{id:"tax-rate",type:"number",min:"0",max:"100",step:"0.1",value:(c.tax_rate*100).toFixed(1),onChange:T=>b(parseFloat(T.target.value)||0),placeholder:"10.0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h?"       +  ":"Tax rate applied to subtotal + shipping cost"})]})})]})}),e.jsx(ze,{value:"category-tax",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:h?" ":"Category Tax Rates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h?"       ":"Set different tax rates for each product category"})]}),e.jsx(ne,{className:"space-y-4",children:w?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ua,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:h?"  ...":"Loading categories..."})]}):j.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h?"   ":"No categories available"}):e.jsxs("div",{className:"space-y-4",children:[j.map(T=>{const{rate:O,enabled:I}=C(T.id);return e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:h?T.name_ar:T.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h?T.name:T.name_ar})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(it,{checked:I,onCheckedChange:H=>v(T.id,O,H)}),e.jsx(M,{children:h?"":"Enabled"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?"  (%)":"Tax Rate (%)"}),e.jsx($,{type:"number",min:"0",max:"100",step:"0.1",value:O.toFixed(1),onChange:H=>v(T.id,parseFloat(H.target.value)||0,I),placeholder:"5.0",disabled:!I})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>U(T.id),disabled:!I,className:"w-full",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),h?"":"Remove"]})})]}),I&&e.jsxs("div",{className:"bg-muted p-3 rounded text-sm",children:[e.jsx("strong",{children:h?":":"Preview:"})," ",h?`   ${O.toFixed(1)}%     "${T.name_ar}"`:`${O.toFixed(1)}% tax will be applied to all "${T.name}" category products`]})]},T.id)}),e.jsx("div",{className:"border-t pt-4 mt-6",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:h?" :":"Important Notes:"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsxs("li",{children:[" ",h?"       ":"Category taxes take priority over global tax rate"]}),e.jsxs("li",{children:[" ",h?"        ":"If category tax is not enabled, global tax rate will be used"]}),e.jsxs("li",{children:[" ",h?"      +  ":"Tax is calculated on subtotal + shipping cost"]})]})]})})]})})]})}),e.jsx(ze,{value:"countries",children:e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{children:h?" ":"Supported Countries"})}),e.jsx(ne,{className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:L.map(T=>e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(it,{id:T.code,checked:c.enabled_countries.includes(T.code),onCheckedChange:O=>{const I=O?[...c.enabled_countries,T.code]:c.enabled_countries.filter(H=>H!==T.code);R(I)}}),e.jsx(M,{htmlFor:T.code,children:h?T.name_ar:T.name})]},T.code))})})]})}),e.jsx(ze,{value:"shipping",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:h?" ":"Shipping Methods"}),e.jsxs(q,{onClick:N,variant:"outline",children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),h?"  ":"Add Shipping Method"]})]}),e.jsx("div",{className:"space-y-4",children:c.shipping_methods.map(T=>e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(pe,{className:"text-lg",children:h?T.name_ar:T.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(it,{checked:T.enabled,onCheckedChange:O=>S(T.id,{enabled:O})}),c.shipping_methods.length>1&&e.jsx(q,{variant:"destructive",size:"sm",onClick:()=>z(T.id),children:e.jsx(Zt,{className:"h-4 w-4"})})]})]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ()":"Name (English)"}),e.jsx($,{value:T.name,onChange:O=>S(T.id,{name:O.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ()":"Name (Arabic)"}),e.jsx($,{value:T.name_ar,onChange:O=>S(T.id,{name_ar:O.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(it,{id:`free-${T.id}`,checked:T.is_free,onCheckedChange:O=>S(T.id,{is_free:O})}),e.jsx(M,{htmlFor:`free-${T.id}`,children:h?"":"Free shipping"})]}),!T.is_free&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" (OMR)":"Cost (OMR)"}),e.jsx($,{type:"number",min:"0",step:"0.01",value:T.base_cost_omr||0,onChange:O=>S(T.id,{base_cost_omr:parseFloat(O.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" (USD)":"Cost (USD)"}),e.jsx($,{type:"number",min:"0",step:"0.01",value:T.base_cost_usd||0,onChange:O=>S(T.id,{base_cost_usd:parseFloat(O.target.value)||0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" (SAR)":"Cost (SAR)"}),e.jsx($,{type:"number",min:"0",step:"0.01",value:T.base_cost_sar||0,onChange:O=>S(T.id,{base_cost_sar:parseFloat(O.target.value)||0})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?"  ":"Estimated Delivery"}),e.jsx($,{value:T.estimated_delivery_days||"",onChange:O=>S(T.id,{estimated_delivery_days:O.target.value}),placeholder:h?"1-3 ":"1-3 days"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ":"Pricing Type"}),e.jsxs(Ue,{value:T.pricing_type,onValueChange:O=>S(T.id,{pricing_type:O}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"flat",children:h?" ":"Flat Rate"}),e.jsx(Q,{value:"weight_based",children:h?" ":"Weight Based"}),e.jsx(Q,{value:"order_based",children:h?"  ":"Order Based"}),e.jsx(Q,{value:"api_calculated",children:h?"  API":"API Calculated"})]})]})]})]}),T.pricing_type==="api_calculated"&&T.api_settings&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium",children:h?" API":"API Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ":"Provider"}),e.jsxs(Ue,{value:T.api_settings.provider,onValueChange:O=>S(T.id,{api_settings:{...T.api_settings,provider:O}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"nool_oman",children:"NOOL Oman"}),e.jsx(Q,{value:"custom",children:h?"":"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" API":"API URL"}),e.jsx($,{value:T.api_settings.api_url||"",onChange:O=>S(T.id,{api_settings:{...T.api_settings,api_url:O.target.value}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ":"Username"}),e.jsx($,{value:T.api_settings.username||"",onChange:O=>S(T.id,{api_settings:{...T.api_settings,username:O.target.value}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ":"Password"}),e.jsx($,{type:"password",value:T.api_settings.password||"",onChange:O=>S(T.id,{api_settings:{...T.api_settings,password:O.target.value}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?" ":"Account Number"}),e.jsx($,{value:T.api_settings.account_number||"",onChange:O=>S(T.id,{api_settings:{...T.api_settings,account_number:O.target.value}})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:h?"":"Description"}),e.jsx(ct,{value:T.description||"",onChange:O=>S(T.id,{description:O.target.value}),rows:2})]})]})]},T.id))})]})})]})]})})})}var Km={exports:{}},Xm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function n4(){if(Uv)return Xm;Uv=1;var i=hy();function s(w,A){return w===A&&(w!==0||1/w===1/A)||w!==w&&A!==A}var n=typeof Object.is=="function"?Object.is:s,o=i.useState,u=i.useEffect,c=i.useLayoutEffect,m=i.useDebugValue;function g(w,A){var h=A(),p=o({inst:{value:h,getSnapshot:A}}),E=p[0].inst,b=p[1];return c(function(){E.value=h,E.getSnapshot=A,x(E)&&b({inst:E})},[w,h,A]),u(function(){return x(E)&&b({inst:E}),w(function(){x(E)&&b({inst:E})})},[w]),m(h),h}function x(w){var A=w.getSnapshot;w=w.value;try{var h=A();return!n(w,h)}catch{return!0}}function j(w,A){return A()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j:g;return Xm.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:y,Xm}var Bv;function l4(){return Bv||(Bv=1,Km.exports=n4()),Km.exports}var o4=l4();function c4(){return o4.useSyncExternalStore(d4,()=>!0,()=>!1)}function d4(){return()=>{}}var rf="Avatar",[u4,LE]=ni(rf),[m4,Ej]=u4(rf),Tj=_.forwardRef((i,s)=>{const{__scopeAvatar:n,...o}=i,[u,c]=_.useState("idle");return e.jsx(m4,{scope:n,imageLoadingStatus:u,onImageLoadingStatusChange:c,children:e.jsx(ht.span,{...o,ref:s})})});Tj.displayName=rf;var Dj="AvatarImage",Oj=_.forwardRef((i,s)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:u=()=>{},...c}=i,m=Ej(Dj,n),g=h4(o,c),x=Zv(j=>{u(j),m.onImageLoadingStatusChange(j)});return Os(()=>{g!=="idle"&&x(g)},[g,x]),g==="loaded"?e.jsx(ht.img,{...c,ref:s,src:o}):null});Oj.displayName=Dj;var Rj="AvatarFallback",Mj=_.forwardRef((i,s)=>{const{__scopeAvatar:n,delayMs:o,...u}=i,c=Ej(Rj,n),[m,g]=_.useState(o===void 0);return _.useEffect(()=>{if(o!==void 0){const x=window.setTimeout(()=>g(!0),o);return()=>window.clearTimeout(x)}},[o]),m&&c.imageLoadingStatus!=="loaded"?e.jsx(ht.span,{...u,ref:s}):null});Mj.displayName=Rj;function Fv(i,s){return i?s?(i.src!==s&&(i.src=s),i.complete&&i.naturalWidth>0?"loaded":"loading"):"error":"idle"}function h4(i,{referrerPolicy:s,crossOrigin:n}){const o=c4(),u=_.useRef(null),c=o?(u.current||(u.current=new window.Image),u.current):null,[m,g]=_.useState(()=>Fv(c,i));return Os(()=>{g(Fv(c,i))},[c,i]),Os(()=>{const x=w=>()=>{g(w)};if(!c)return;const j=x("loaded"),y=x("error");return c.addEventListener("load",j),c.addEventListener("error",y),s&&(c.referrerPolicy=s),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",j),c.removeEventListener("error",y)}},[c,n,s]),m}var f4=Tj,g4=Oj,p4=Mj;function lo({className:i,...s}){return e.jsx(f4,{"data-slot":"avatar",className:_e("relative flex size-8 shrink-0 overflow-hidden rounded-full",i),...s})}function oo({className:i,...s}){return e.jsx(g4,{"data-slot":"avatar-image",className:_e("aspect-square size-full",i),...s})}function co({className:i,...s}){return e.jsx(p4,{"data-slot":"avatar-fallback",className:_e("bg-muted flex size-full items-center justify-center rounded-full",i),...s})}const x4={async getProducts(i={}){try{const{page:s=1,limit:n=12,...o}=i,u=await we.products.list(o),c=(s-1)*n,m=c+n,g=u.items.slice(c,m),x=Math.ceil(u.totalItems/n);return{data:g,total:u.totalItems,page:s,limit:n,total_pages:x}}catch(s){throw console.error("Error fetching products:",s),s}},async getProduct(i){try{return await we.products.get(i)}catch(s){throw console.error("Error fetching product:",s),s}},async searchProducts(i){try{return(await we.products.list({search:i})).items}catch(s){throw console.error("Error searching products:",s),s}},async getFeaturedProducts(i=8){try{return(await we.products.list({featured:!0})).items.slice(0,i)}catch(s){throw console.error("Error fetching featured products:",s),s}},async getBestsellerProducts(i=8){try{return(await we.products.list({bestseller:!0})).items.slice(0,i)}catch(s){throw console.error("Error fetching bestseller products:",s),s}},async getNewArrivalProducts(i=8){try{return(await we.products.list({new_arrival:!0})).items.slice(0,i)}catch(s){throw console.error("Error fetching new arrival products:",s),s}},async getOnSaleProducts(i=8){try{return(await we.products.list()).items.filter(o=>o.is_on_sale).slice(0,i)}catch(s){throw console.error("Error fetching on sale products:",s),s}},async getRelatedProducts(i,s,n=4){try{return(await we.products.list({category:s})).items.filter(c=>c.id!==i).slice(0,n)}catch(o){throw console.error("Error fetching related products:",o),o}},async createProduct(i){try{return await we.products.create(i)}catch(s){throw console.error("Error creating product:",s),s}},async updateProduct(i,s){try{await we.products.update(i,s)}catch(n){throw console.error("Error updating product:",n),n}},async deleteProduct(i){try{await we.products.delete(i)}catch(s){throw console.error("Error deleting product:",s),s}}};function v4(){const{i18n:i}=Me(),{formatPrice:s}=Fa(),{addToCart:n}=di(),{wishlist:o,removeFromWishlist:u,loading:c}=jo(),[m,g]=_.useState([]),[x,j]=_.useState(!0),y=i.language==="ar";_.useEffect(()=>{(async()=>{if(o.length===0){g([]),j(!1);return}try{j(!0);const p=o.map(v=>we.products.get(v.product_id)),b=(await Promise.all(p)).filter(v=>v!==null);g(b)}catch(p){console.error("Error loading wishlist products:",p)}finally{j(!1)}})()},[o]);const w=async h=>{await n(h,1)},A=async h=>{await u(h)};return x||c?e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ii,{className:"h-5 w-5"}),y?" ":"My Wishlist"]})}),e.jsx(ne,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[...Array(4)].map((h,p)=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]})},p))})})]}):e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ii,{className:"h-5 w-5"}),y?" ":"My Wishlist",e.jsx(Se,{variant:"secondary",className:"ml-auto",children:m.length})]})}),e.jsx(ne,{children:m.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Vs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:y?"  ":"Your wishlist is empty"}),e.jsx(Ge,{to:"/shop",children:e.jsx(q,{size:"sm",children:y?" ":"Shop Now"})})]}):e.jsxs("div",{className:"space-y-4",children:[m.slice(0,6).map(h=>{const p=h.is_on_sale&&h.sale_price_omr?h.sale_price_omr:h.price_omr;return e.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx(Ge,{to:`/product/${h.slug||h.id}`,className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 aspect-square overflow-hidden rounded",children:e.jsx("img",{src:h.image||h.image_url||"/api/placeholder/64/64",alt:y&&h.name_ar||h.name,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(Ge,{to:`/product/${h.slug||h.id}`,children:e.jsx("h4",{className:"font-medium line-clamp-1 hover:text-primary",children:y&&h.name_ar||h.name})}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm font-semibold text-primary",children:s(p)}),h.is_on_sale&&h.sale_price_omr&&h.sale_price_omr<h.price_omr&&e.jsx("span",{className:"text-xs text-muted-foreground line-through",children:s(h.price_omr)})]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:h.stock_quantity>0?y?` (${h.stock_quantity})`:`In stock (${h.stock_quantity})`:y?" ":"Out of stock"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{onClick:()=>w(h),size:"sm",variant:"outline",disabled:h.stock_quantity<=0,children:e.jsx(ri,{className:"h-3 w-3"})}),e.jsx(q,{onClick:()=>A(h.id),size:"sm",variant:"outline",className:"text-red-500 hover:text-red-600",children:e.jsx(Zt,{className:"h-3 w-3"})})]})]},h.id)}),m.length>6&&e.jsx("div",{className:"text-center pt-4",children:e.jsx(Ge,{to:"/dashboard/wishlist",children:e.jsx(q,{variant:"outline",size:"sm",children:y?`   (${m.length})`:`View all items (${m.length})`})})})]})})]})}function Hv({orders:i,products:s}){const{i18n:n}=Me(),{formatPrice:o,currency:u}=Fa(),c=n.language==="ar",m=x=>{switch(u){case"OMR":return x.total_price_omr||0;case"SAR":return x.total_price_sar||0;case"USD":default:return x.total_price_usd||0}},g=x=>{switch(u){case"OMR":return x.price_omr||0;case"SAR":return x.price_sar||(x.price_omr||0)*3.75;case"USD":default:return x.price_usd||(x.price_omr||0)*2.6}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:c?" ":"Total Orders"}),e.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c?" ":"Total orders placed"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:c?" ":"Pending Orders"}),e.jsx(ti,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.filter(x=>x.status==="pending").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c?"  ":"Awaiting confirmation"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:c?" ":"Favorite Products"}),e.jsx(ii,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c?" ":"Saved items"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:c?" ":"Points Earned"}),e.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c?" ":"Reward points"})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:c?" ":"Recent Orders"}),e.jsx(Ce,{children:c?" 5   ":"Your last 5 orders"})]}),e.jsx(ne,{children:i.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:c?"   ":"No orders yet"}):e.jsx("div",{className:"space-y-4",children:i.slice(0,5).map(x=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["#",x.id]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(x.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Se,{variant:x.status==="completed"?"default":x.status==="pending"?"secondary":x.status==="cancelled"?"destructive":"outline",children:x.status==="completed"?c?"":"Completed":x.status==="pending"?c?"":"Pending":x.status==="cancelled"?c?"":"Cancelled":x.status}),e.jsx("p",{className:"text-sm font-medium",children:o(m(x))})]})]},x.id))})})]}),e.jsx(v4,{}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:c?" ":"Featured Products"}),e.jsx(Ce,{children:c?"  ":"Most popular products"})]}),e.jsx(ne,{children:s.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:c?"  ":"No products available"}):e.jsx("div",{className:"space-y-4",children:s.slice(0,3).map(x=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:x.image||"/images/logo-s.png",alt:c&&x.name_ar||x.name,className:"h-10 w-10 rounded-md object-cover",onError:j=>{j.currentTarget.src="/images/logo-s.png"}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:c?x.name_ar:x.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o(g(x))})]})]},x.id))})})]})]})]})}function y4({orders:i}){const{i18n:s}=Me(),{formatPrice:n}=Fa(),o=s.language==="ar",[u,c]=_.useState(null),[m,g]=_.useState([]),[x,j]=_.useState(!1),y=async A=>{try{j(!0);const h=await we.orderItems.getByOrder(A);g(h.items||[])}catch(h){console.error("Error loading order items:",h),g([])}finally{j(!1)}},w=async A=>{c(A),await y(A.id?.toString()||"")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?"":"My Orders"}),e.jsx(Ce,{children:o?"   ":"Track all your orders here"})]}),e.jsx(ne,{children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Bn,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:o?"   ":"No orders yet"}),e.jsx(q,{asChild:!0,className:"mt-4",children:e.jsx(Ge,{to:"/shop",children:o?" ":"Start Shopping"})})]}):e.jsx("div",{className:"space-y-4",children:i.map(A=>e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:["#",A.id]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(A.created_at).toLocaleDateString()})]}),e.jsx(Se,{variant:A.status==="completed"?"default":A.status==="pending"?"secondary":A.status==="cancelled"?"destructive":"outline",children:A.status==="completed"?o?"":"Completed":A.status==="pending"?o?"":"Pending":A.status==="cancelled"?o?"":"Cancelled":A.status})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o?":":"Total:"," ",n(A.total_price_omr||A.total_omr||A.total_usd||A.total_sar||0)]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>w(A),children:[e.jsx($t,{className:"h-4 w-4 mr-2"}),o?" ":"View Details"]})]})]})},A.id))})})]}),e.jsx(Pt,{open:!!u,onOpenChange:()=>c(null),children:e.jsxs(zt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Jt,{children:e.jsxs(ea,{children:[o?" ":"Order Details"," #",u?.order_number||u?.id]})}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:o?" ":"Order Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?" :":"Order Number:"}),e.jsxs("span",{children:["#",u.order_number||u.id]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?":":"Date:"}),e.jsx("span",{children:new Date(u.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?":":"Status:"}),e.jsx(Se,{variant:u.status==="delivered"?"default":u.status==="pending"?"secondary":u.status==="cancelled"?"destructive":"outline",children:u.status==="delivered"?o?" ":"Delivered":u.status==="shipped"?o?" ":"Shipped":u.status==="processing"?o?" ":"Processing":u.status==="confirmed"?o?"":"Confirmed":u.status==="pending"?o?"":"Pending":u.status==="cancelled"?o?"":"Cancelled":u.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?" :":"Payment Status:"}),e.jsx(Se,{variant:u.payment_status==="paid"?"default":"secondary",children:u.payment_status==="paid"?o?"":"Paid":u.payment_status==="unpaid"?o?" ":"Unpaid":u.payment_status==="failed"?o?"":"Failed":u.payment_status})]})]})]})}),u.shipping_address&&e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:o?" ":"Shipping Address"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("div",{children:u.shipping_address.recipient_name}),e.jsx("div",{children:u.shipping_address.phone}),e.jsx("div",{children:u.shipping_address.full_address}),e.jsxs("div",{children:[u.shipping_address.city,", ",u.shipping_address.country]}),u.shipping_address.postal_code&&e.jsx("div",{children:u.shipping_address.postal_code})]})]})})]}),e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:o?" ":"Order Items"}),x?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):m.length>0?e.jsx("div",{className:"space-y-3",children:m.map((A,h)=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-lg",children:[A.product_image&&e.jsx("img",{src:A.product_image,alt:A.product_name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:o&&A.product_name_ar||A.product_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o?":":"Quantity:"," ",A.quantity]}),A.selected_properties&&Object.keys(A.selected_properties).length>0&&e.jsx("div",{className:"text-sm text-muted-foreground",children:Object.entries(A.selected_properties).map(([p,E])=>e.jsxs("span",{className:"mr-2",children:[p,": ",E]},p))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:n(A.total_price_omr||A.total_price_usd||A.total_price_sar||(A.unit_price_omr||A.unit_price_usd||A.unit_price_sar||0)*A.quantity)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[n(A.unit_price_omr||A.unit_price_usd||A.unit_price_sar||0),"  ",A.quantity]})]})]},h))}):e.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[e.jsx(Vs,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:o?"  ":"No items found"})]})]})}),e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:o?" ":"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?" :":"Subtotal:"}),e.jsx("span",{children:n(u.subtotal_omr||u.subtotal_usd||u.subtotal_sar||0)})]}),(u.shipping_cost_omr||u.shipping_cost_usd||u.shipping_cost_sar)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?":":"Shipping:"}),e.jsx("span",{children:n(u.shipping_cost_omr||u.shipping_cost_usd||u.shipping_cost_sar||0)})]}),(u.tax_amount_omr||u.tax_amount_usd||u.tax_amount_sar)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:o?":":"Tax:"}),e.jsx("span",{children:n(u.tax_amount_omr||u.tax_amount_usd||u.tax_amount_sar||0)})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:o?":":"Total:"}),e.jsx("span",{children:n(u.total_price_omr||u.total_price_omr||u.total_price_usd||u.total_price_sar||0)})]})]})]})})]})]})})]})}function b4({user:i}){const{i18n:s}=Me(),n=s.language==="ar",[o,u]=_.useState(!1),[c,m]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=_.useState(!1),[j,y]=_.useState(!1),[w,A]=_.useState(!1),[h,p]=_.useState(!1),[E,b]=_.useState(""),v=async()=>{if(b(""),c.newPassword!==c.confirmPassword){b(n?"    ":"New passwords do not match");return}if(c.newPassword.length<6){b(n?"     6   ":"Password must be at least 6 characters");return}try{p(!0);const U=await Na.changePassword(c.currentPassword,c.newPassword);U.success?(u(!1),m({currentPassword:"",newPassword:"",confirmPassword:""}),console.log("Password changed successfully")):b(U.error||"Password change failed")}catch(U){b("An error occurred while changing password"),console.error("Password change error:",U)}finally{p(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:n?" ":"Profile Information"}),e.jsx(Ce,{children:n?"  ":"Your personal account information"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(lo,{className:"h-20 w-20",children:[e.jsx(oo,{src:i.avatar,alt:i.full_name}),e.jsx(co,{className:"text-lg",children:i.full_name.split(" ").map(U=>U[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:i.full_name}),e.jsx("p",{className:"text-muted-foreground",children:i.email}),e.jsx(Se,{variant:"outline",className:"mt-1",children:i.role==="admin"?n?"":"Admin":i.role==="employee"?n?"":"Employee":n?"":"Member"})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"full-name",children:n?" ":"Full Name"}),e.jsx($,{id:"full-name",value:i.full_name,readOnly:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:n?" ":"Email"}),e.jsx($,{id:"email",value:i.email,readOnly:!0})]})]}),e.jsxs("div",{className:"pt-4 flex gap-4",children:[e.jsx(q,{children:n?"  ":"Edit Profile"}),e.jsxs(q,{variant:"outline",onClick:()=>u(!0),className:"flex items-center gap-2",children:[e.jsx(Yc,{className:"h-4 w-4"}),n?"  ":"Change Password"]})]})]})]}),e.jsx(Pt,{open:o,onOpenChange:u,children:e.jsxs(zt,{children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:n?"  ":"Change Password"}),e.jsx(ps,{children:n?"    ":"Enter your new password below"})]}),e.jsxs("div",{className:"space-y-4",children:[E&&e.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:E}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"current-password",children:n?"  ":"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"current-password",type:g?"text":"password",value:c.currentPassword,onChange:U=>m({...c,currentPassword:U.target.value}),required:!0}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!g),children:g?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"new-password",children:n?"  ":"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"new-password",type:j?"text":"password",value:c.newPassword,onChange:U=>m({...c,newPassword:U.target.value}),required:!0}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!j),children:j?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"confirm-password",children:n?"   ":"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"confirm-password",type:w?"text":"password",value:c.confirmPassword,onChange:U=>m({...c,confirmPassword:U.target.value}),required:!0}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>A(!w),children:w?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})})]})]})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>{u(!1),m({currentPassword:"",newPassword:"",confirmPassword:""}),b("")},disabled:h,children:n?"":"Cancel"}),e.jsxs(q,{onClick:v,disabled:h||!c.currentPassword||!c.newPassword||!c.confirmPassword,className:"flex items-center gap-2",children:[e.jsx(Yc,{className:"h-4 w-4"}),h?n?" ...":"Changing...":n?"  ":"Change Password"]})]})]})})]})}function j4({users:i,onUsersUpdate:s,loading:n}){const{i18n:o}=Me(),u=o.language==="ar",[c,m]=_.useState(null),[g,x]=_.useState(!1),[j,y]=_.useState(!1),[w,A]=_.useState(!1),[h,p]=_.useState(!1),[E,b]=_.useState(!1),v=z=>{m(z),x(!0)},U=z=>{m(z),y(!0)},C=z=>{m(z),A(!0)},R=async()=>{if(c)try{b(!0);const z=await Na.resetUserPassword(c.email);z.success?(console.log("Password reset email sent successfully"),A(!1),m(null)):console.error("Password reset failed:",z.error)}catch(z){console.error("Error sending password reset:",z)}finally{b(!1)}},S=z=>{c&&m({...c,role:z})},N=async z=>{if(z.preventDefault(),!!c)try{p(!0),await we.users.update(c.id,{full_name:c.full_name,email:c.email,role:c.role});const L=await we.users.list();s(L.items),x(!1),m(null)}catch(L){console.error("Error updating user:",L)}finally{p(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:u?" ":"User Management"}),e.jsx(Ce,{children:u?"   ":"View and manage all users"})]}),e.jsx(ne,{children:n?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((z,L)=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]},L))}):i.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:u?"  ":"No users found"}):e.jsx("div",{className:"space-y-4",children:i.map(z=>e.jsx(ie,{children:e.jsx(ne,{children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(lo,{children:[e.jsx(oo,{src:z.avatar,alt:z.full_name}),e.jsx(co,{children:z.full_name.split(" ").map(L=>L[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:z.full_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:z.email}),e.jsx(Se,{variant:"outline",className:"mt-1",children:e.jsxs("div",{className:"flex items-center gap-1",children:[z.role==="admin"&&e.jsx(Fc,{className:"h-3 w-3"}),z.role==="employee"&&e.jsx(Em,{className:"h-3 w-3"}),z.role==="user"&&e.jsx(Ds,{className:"h-3 w-3"}),z.role==="admin"?u?"":"Admin":z.role==="employee"?u?"":"Employee":u?"":"Member"]})}),e.jsx(Se,{variant:z.email_verified?"default":"destructive",className:"mt-1 ml-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[z.email_verified?e.jsx(Ww,{className:"h-3 w-3"}):e.jsx(gs,{className:"h-3 w-3"}),z.email_verified?u?" ":"Email Verified":u?"  ":"Email Not Verified"]})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 lg:flex-nowrap",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>U(z),className:"flex-1 sm:flex-none",children:u?"":"View"}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(z),className:"flex-1 sm:flex-none",children:u?"":"Edit"}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>C(z),className:"flex items-center gap-1 flex-1 sm:flex-none min-w-0",children:[e.jsx(Yc,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:u?"   ":"Reset Password"})]})]})]})})},z.id))})})]}),e.jsx(Pt,{open:g,onOpenChange:x,children:e.jsxs(zt,{children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:u?" ":"Edit User"}),e.jsx(ps,{children:u?"   ":"Edit user information and role"})]}),c&&e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"edit-name",children:u?" ":"Full Name"}),e.jsx($,{id:"edit-name",value:c.full_name,onChange:z=>m({...c,full_name:z.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"edit-email",children:u?" ":"Email"}),e.jsx($,{id:"edit-email",type:"email",value:c.email,onChange:z=>m({...c,email:z.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"edit-role",children:u?"":"Role"}),e.jsxs(Ue,{onValueChange:S,value:c.role,children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"user",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-4 w-4"}),u?"":"Member"]})}),e.jsx(Q,{value:"employee",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Em,{className:"h-4 w-4"}),u?"":"Employee"]})}),e.jsx(Q,{value:"admin",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fc,{className:"h-4 w-4"}),u?"":"Admin"]})})]})]})]}),e.jsxs(fs,{children:[e.jsx(q,{type:"button",variant:"outline",onClick:()=>x(!1),children:u?"":"Cancel"}),e.jsx(q,{type:"submit",disabled:h,children:h?u?" ...":"Saving...":u?"":"Save"})]})]})]})}),e.jsx(Pt,{open:j,onOpenChange:y,children:e.jsxs(zt,{children:[e.jsx(Jt,{children:e.jsx(ea,{children:u?" ":"User Details"})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(lo,{className:"h-16 w-16",children:[e.jsx(oo,{src:c.avatar,alt:c.full_name}),e.jsx(co,{children:c.full_name.split(" ").map(z=>z[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:c.full_name}),e.jsx("p",{className:"text-muted-foreground",children:c.email}),e.jsx(Se,{variant:"outline",className:"mt-1",children:e.jsxs("div",{className:"flex items-center gap-1",children:[c.role==="admin"&&e.jsx(Fc,{className:"h-3 w-3"}),c.role==="employee"&&e.jsx(Em,{className:"h-3 w-3"}),c.role==="user"&&e.jsx(Ds,{className:"h-3 w-3"}),c.role==="admin"?u?"":"Admin":c.role==="employee"?u?"":"Employee":u?"":"Member"]})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(M,{children:u?" ":"Registration Date"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c.created?new Date(c.created).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(M,{children:u?"  ":"Last Login"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"N/A"})]})]})]}),e.jsx(fs,{children:e.jsx(q,{variant:"outline",onClick:()=>y(!1),children:u?"":"Close"})})]})}),e.jsx(Pt,{open:w,onOpenChange:A,children:e.jsxs(zt,{children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:u?"  ":"Forgot Password"}),e.jsx(ps,{children:u?"            ":"Are you sure you want to send a password recovery link to this user?"})]}),c&&e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(lo,{children:[e.jsx(oo,{src:c.avatar,alt:c.full_name}),e.jsx(co,{children:c.full_name.split(" ").map(z=>z[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:c.full_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:u?"          .":"A password recovery link will be sent to the user's email address."})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>A(!1),disabled:E,children:u?"":"Cancel"}),e.jsxs(q,{onClick:R,disabled:E,className:"flex items-center gap-2",children:[e.jsx(Yc,{className:"h-4 w-4"}),E?u?" ...":"Sending...":u?"  ":"Send Recovery Link"]})]})]})})]})}function _4({users:i,products:s}){const{i18n:n}=Me(),o=n.language==="ar";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:o?" ":"Total Sales"}),e.jsx(id,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"$0"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+0% ",o?"  ":"from last month"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:o?" ":"Total Users"}),e.jsx(go,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",i.filter(u=>new Date(u.created).getTime()>Date.now()-30*24*60*60*1e3).length," ",o?" ":"this month"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:o?" ":"Total Products"}),e.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o?" ":"Active products"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:o?" ":"Growth Rate"}),e.jsx(Wc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"+0%"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+0% ",o?"  ":"from last month"]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?" ":"Detailed Analytics"}),e.jsx(Ce,{children:o?"    ":"Detailed statistics about store performance"})]}),e.jsx(ne,{children:e.jsx("p",{className:"text-muted-foreground text-center py-8",children:o?"    ":"Detailed analytics coming soon"})})]})]})}var nf="Progress",lf=100,[w4,UE]=ni(nf),[N4,S4]=w4(nf),Ij=_.forwardRef((i,s)=>{const{__scopeProgress:n,value:o=null,max:u,getValueLabel:c=C4,...m}=i;(u||u===0)&&!qv(u)&&console.error(k4(`${u}`,"Progress"));const g=qv(u)?u:lf;o!==null&&!$v(o,g)&&console.error(A4(`${o}`,"Progress"));const x=$v(o,g)?o:null,j=td(x)?c(x,g):void 0;return e.jsx(N4,{scope:n,value:x,max:g,children:e.jsx(ht.div,{"aria-valuemax":g,"aria-valuemin":0,"aria-valuenow":td(x)?x:void 0,"aria-valuetext":j,role:"progressbar","data-state":Lj(x,g),"data-value":x??void 0,"data-max":g,...m,ref:s})})});Ij.displayName=nf;var Pj="ProgressIndicator",zj=_.forwardRef((i,s)=>{const{__scopeProgress:n,...o}=i,u=S4(Pj,n);return e.jsx(ht.div,{"data-state":Lj(u.value,u.max),"data-value":u.value??void 0,"data-max":u.max,...o,ref:s})});zj.displayName=Pj;function C4(i,s){return`${Math.round(i/s*100)}%`}function Lj(i,s){return i==null?"indeterminate":i===s?"complete":"loading"}function td(i){return typeof i=="number"}function qv(i){return td(i)&&!isNaN(i)&&i>0}function $v(i,s){return td(i)&&!isNaN(i)&&i<=s&&i>=0}function k4(i,s){return`Invalid prop \`max\` of value \`${i}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lf}\`.`}function A4(i,s){return`Invalid prop \`value\` of value \`${i}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lf} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var E4=Ij,T4=zj;function Hn({className:i,value:s,...n}){return e.jsx(E4,{"data-slot":"progress",className:_e("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",i),...n,children:e.jsx(T4,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const D4=Gh("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Sh({className:i,variant:s,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:_e(D4({variant:s}),i),...n})}function Ch({className:i,...s}){return e.jsx("div",{"data-slot":"alert-description",className:_e("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",i),...s})}class O4{collection="seo";async getSEOSettings(){try{const s=await we.getDocument(this.collection,"settings");return s.exists()?s.data():this.getDefaultSEOSettings()}catch(s){return console.error("Error getting SEO settings:",s),this.getDefaultSEOSettings()}}async updateSEOSettings(s){try{await we.setDocument(this.collection,"settings",s)}catch(n){throw console.error("Error updating SEO settings:",n),n}}getDefaultSEOSettings(){return{siteName:"SpiritHub Cafe",siteNameAr:"  ",siteDescription:"Premium coffee roasted with passion and expertise in Oman",siteDescriptionAr:"      ",siteUrl:"https://spirithubcafe.com",defaultImage:"/images/logo.png",favicon:"/images/favicon.png",robotsTxt:`User-agent: *
Allow: /
Sitemap: https://spirithubcafe.com/sitemap.xml`,twitterHandle:"@spirithubcafe",facebookAppId:"",facebookPageId:"",googleAnalyticsId:"",googleTagManagerId:"",googleSearchConsoleId:"",facebookPixelId:"",organizationName:"SpiritHub Cafe",organizationNameAr:"  ",organizationLogo:"/images/logo.png",organizationDescription:"Premium coffee shop and roastery in Muscat, Oman",organizationDescriptionAr:"      ",contactPhone:"+968 9190 0005",contactEmail:"info@spirithubcafe.com",address:{street:"Al Mouj Street",city:"Muscat",region:"Muscat Governorate",postalCode:"100",country:"OM"},openingHours:["Mo-Su 08:00-23:00"],defaultTitle:"SpiritHub Cafe - Premium Coffee in Oman",defaultTitleAr:"   -    ",defaultDescription:"Discover premium coffee beans, expertly roasted and brewed to perfection at SpiritHub Cafe in Muscat, Oman.",defaultDescriptionAr:"             .",defaultKeywords:"coffee, cafe, roastery, Oman, Muscat, premium coffee, espresso",defaultKeywordsAr:"       ",enableAutoSitemap:!0,enableBreadcrumbs:!0,enableOpenGraph:!0,enableTwitterCards:!0,enableSchema:!0,enableRichSnippets:!0}}generateMetaTags(s,n=!1){const o=[];if(s.title||s.titleAr){const c=n?s.titleAr||s.title:s.title||s.titleAr;o.push(`<title>${this.escapeHtml(c||"")}</title>`),o.push(`<meta name="title" content="${this.escapeHtml(c||"")}" />`)}if(s.description||s.descriptionAr){const c=n?s.descriptionAr||s.description:s.description||s.descriptionAr;o.push(`<meta name="description" content="${this.escapeHtml(c||"")}" />`)}if(s.keywords||s.keywordsAr){const c=n?s.keywordsAr||s.keywords:s.keywords||s.keywordsAr;o.push(`<meta name="keywords" content="${this.escapeHtml(c||"")}" />`)}s.author&&o.push(`<meta name="author" content="${this.escapeHtml(s.author)}" />`),s.canonicalUrl&&o.push(`<link rel="canonical" href="${s.canonicalUrl}" />`);const u=this.generateRobotsContent(s);if(u&&o.push(`<meta name="robots" content="${u}" />`),s.ogTitle||s.ogTitleAr){const c=n?s.ogTitleAr||s.ogTitle:s.ogTitle||s.ogTitleAr;o.push(`<meta property="og:title" content="${this.escapeHtml(c||"")}" />`)}if(s.ogDescription||s.ogDescriptionAr){const c=n?s.ogDescriptionAr||s.ogDescription:s.ogDescription||s.ogDescriptionAr;o.push(`<meta property="og:description" content="${this.escapeHtml(c||"")}" />`)}if(s.ogImage&&o.push(`<meta property="og:image" content="${s.ogImage}" />`),s.ogType&&o.push(`<meta property="og:type" content="${s.ogType}" />`),s.ogUrl&&o.push(`<meta property="og:url" content="${s.ogUrl}" />`),s.twitterCard&&o.push(`<meta name="twitter:card" content="${s.twitterCard}" />`),s.twitterTitle||s.twitterTitleAr){const c=n?s.twitterTitleAr||s.twitterTitle:s.twitterTitle||s.twitterTitleAr;o.push(`<meta name="twitter:title" content="${this.escapeHtml(c||"")}" />`)}if(s.twitterDescription||s.twitterDescriptionAr){const c=n?s.twitterDescriptionAr||s.twitterDescription:s.twitterDescription||s.twitterDescriptionAr;o.push(`<meta name="twitter:description" content="${this.escapeHtml(c||"")}" />`)}return s.twitterImage&&o.push(`<meta name="twitter:image" content="${s.twitterImage}" />`),s.lastModified&&o.push(`<meta name="last-modified" content="${s.lastModified}" />`),o.join(`
`)}async generateOrganizationSchema(){const s=await this.getSEOSettings();return{"@context":"https://schema.org","@type":"Organization",name:s.organizationName,nameAr:s.organizationNameAr,url:s.siteUrl,logo:`${s.siteUrl}${s.organizationLogo}`,description:s.organizationDescription,descriptionAr:s.organizationDescriptionAr,address:{"@type":"PostalAddress",streetAddress:s.address.street,addressLocality:s.address.city,addressRegion:s.address.region,postalCode:s.address.postalCode,addressCountry:s.address.country},contactPoint:{"@type":"ContactPoint",telephone:s.contactPhone,contactType:"customer service",availableLanguage:["English","Arabic"]},sameAs:[`https://facebook.com/${s.facebookPageId}`,`https://twitter.com/${s.twitterHandle.replace("@","")}`].filter(n=>!n.includes("undefined")),openingHours:s.openingHours}}async generateWebsiteSchema(){const s=await this.getSEOSettings();return{"@context":"https://schema.org","@type":"WebSite",name:s.siteName,nameAr:s.siteNameAr,url:s.siteUrl,description:s.siteDescription,descriptionAr:s.siteDescriptionAr,inLanguage:["en","ar"],potentialAction:{"@type":"SearchAction",target:`${s.siteUrl}/search?q={search_term_string}`,"query-input":"required name=search_term_string"}}}generateProductSchema(s){return{"@context":"https://schema.org","@type":"Product",name:s.name,nameAr:s.nameAr,description:s.description,descriptionAr:s.descriptionAr,image:s.images||[],sku:s.sku,brand:{"@type":"Brand",name:"SpiritHub Cafe"},category:s.category,offers:{"@type":"Offer",price:s.price?.toString(),priceCurrency:"OMR",availability:s.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",url:`${window.location.origin}/product/${s.slug}`,seller:{"@type":"Organization",name:"SpiritHub Cafe"}}}}generateBreadcrumbSchema(s){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:s.map((n,o)=>({"@type":"ListItem",position:o+1,name:n.name,item:n.url}))}}generateFAQSchema(s){return{"@context":"https://schema.org","@type":"FAQPage",mainEntity:s.map(n=>({"@type":"Question",name:n.question,acceptedAnswer:{"@type":"Answer",text:n.answer}}))}}analyzeSEO(s){const n=[],o=[];if(!s.title&&!s.titleAr)n.push({type:"error",message:"Title is missing",field:"title",priority:"high"});else{const g=s.title||s.titleAr||"";g.length<30?o.push({message:"Title is too short. Consider adding more descriptive words.",action:"Expand title to 30-60 characters",priority:"medium"}):g.length>60&&n.push({type:"warning",message:"Title is too long and may be truncated in search results",field:"title",priority:"medium"})}if(!s.description&&!s.descriptionAr)n.push({type:"error",message:"Meta description is missing",field:"description",priority:"high"});else{const g=s.description||s.descriptionAr||"";g.length<120?o.push({message:"Meta description is too short. Expand to better describe the page.",action:"Expand description to 120-160 characters",priority:"medium"}):g.length>160&&n.push({type:"warning",message:"Meta description is too long and may be truncated",field:"description",priority:"medium"})}!s.keywords&&!s.keywordsAr&&o.push({message:"Consider adding keywords for better content organization",action:"Add relevant keywords",priority:"low"}),!s.ogTitle&&!s.ogTitleAr&&o.push({message:"Add Open Graph title for better social media sharing",action:"Add og:title",priority:"medium"}),s.ogImage||n.push({type:"warning",message:"Open Graph image is missing",field:"ogImage",priority:"medium"});const u=8,c=u-n.filter(g=>g.type==="error").length;return{score:Math.round(c/u*100),issues:n,suggestions:o}}generateSlug(s,n=!1){return n?s.toLowerCase().replace(/[\u0600-\u06FF\u0750-\u077F]/g,o=>({:"a",:"b",:"t",:"th",:"j",:"h",:"kh",:"d",:"dh",:"r",:"z",:"s",:"sh",:"s",:"d",:"t",:"z",:"a",:"gh",:"f",:"q",:"k",:"l",:"m",:"n",:"h",:"w",:"y"})[o]||o).replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):s.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}async generateSitemap(){const s=await this.getSEOSettings(),n=[];return n.push({url:s.siteUrl,lastModified:new Date().toISOString(),changeFrequency:"weekly",priority:1}),n.push({url:`${s.siteUrl}/shop`,lastModified:new Date().toISOString(),changeFrequency:"daily",priority:.9}),n.push({url:`${s.siteUrl}/about`,lastModified:new Date().toISOString(),changeFrequency:"monthly",priority:.7}),n.push({url:`${s.siteUrl}/contact`,lastModified:new Date().toISOString(),changeFrequency:"monthly",priority:.6}),this.generateSitemapXML(n)}generateSitemapXML(s){return`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  ${s.map(o=>`
    <url>
      <loc>${o.url}</loc>
      <lastmod>${o.lastModified}</lastmod>
      <changefreq>${o.changeFrequency}</changefreq>
      <priority>${o.priority}</priority>
    </url>`).join("")}
</urlset>`}generateRobotsContent(s){const n=[];return s.noIndex&&n.push("noindex"),s.noFollow&&n.push("nofollow"),n.length===0&&n.push("index","follow"),s.robots&&n.push(s.robots),n.join(", ")}escapeHtml(s){const n=document.createElement("div");return n.textContent=s,n.innerHTML}}const R4=new O4;function M4(i){const[s,n]=_.useState(null);return _.useEffect(()=>{if(i){const o=R4.analyzeSEO(i);n(o)}},[i]),s}function of({initialData:i={},onChange:s,showPreview:n=!0,entityType:o="page"}){const{i18n:u}=Me(),c=u.language==="ar";console.log("SEOForm initialData:",i);const[m,g]=_.useState({title:"",titleAr:"",description:"",descriptionAr:"",keywords:"",keywordsAr:"",canonicalUrl:"",ogTitle:"",ogTitleAr:"",ogDescription:"",ogDescriptionAr:"",ogImage:"",ogType:"website",ogUrl:"",twitterCard:"summary_large_image",twitterTitle:"",twitterTitleAr:"",twitterDescription:"",twitterDescriptionAr:"",twitterImage:"",robots:"",author:"",noIndex:!1,noFollow:!1,...i});_.useEffect(()=>{console.log("SEOForm useEffect - initialData changed:",i),g(p=>({...p,...i}))},[i]);const x=M4(m),j=(p,E)=>{const b={...m,[p]:E};g(b),s(b)},y=()=>{const p=c?m.titleAr||m.title:m.title||m.titleAr;p&&(j("ogTitle",m.ogTitle||p),j("ogTitleAr",m.ogTitleAr||p),j("twitterTitle",m.twitterTitle||p),j("twitterTitleAr",m.twitterTitleAr||p))},w=()=>{const p=c?m.descriptionAr||m.description:m.description||m.descriptionAr;p&&(j("ogDescription",m.ogDescription||p),j("ogDescriptionAr",m.ogDescriptionAr||p),j("twitterDescription",m.twitterDescription||p),j("twitterDescriptionAr",m.twitterDescriptionAr||p))},A=p=>p>=80?"text-green-600":p>=60?"text-yellow-600":"text-red-600",h=p=>p>=80?"default":p>=60?"secondary":"destructive";return e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bi,{className:"h-5 w-5"}),e.jsx(pe,{children:"SEO Settings"})]}),x&&e.jsxs(Se,{variant:h(x.score),children:["SEO Score: ",x.score,"%"]})]}),e.jsxs(Ce,{children:["Optimize your ",o," for search engines and social media"]})]}),e.jsxs(ne,{children:[x&&e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"SEO Analysis"}),e.jsxs("span",{className:`text-2xl font-bold ${A(x.score)}`,children:[x.score,"%"]})]}),x.issues.length>0&&e.jsx("div",{className:"space-y-2",children:x.issues.map((p,E)=>e.jsxs(Sh,{variant:p.type==="error"?"destructive":"default",children:[p.type==="error"?e.jsx($s,{className:"h-4 w-4"}):e.jsx(Qw,{className:"h-4 w-4"}),e.jsx(Ch,{children:p.message})]},E))}),x.suggestions.length>0&&e.jsx("div",{className:"space-y-2",children:x.suggestions.map((p,E)=>e.jsxs(Sh,{children:[e.jsx(Ca,{className:"h-4 w-4"}),e.jsx(Ch,{children:p.message})]},E))})]}),e.jsxs(La,{defaultValue:"basic",className:"space-y-6",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-4",children:[e.jsxs(Pe,{value:"basic",children:[e.jsx(mo,{className:"h-4 w-4 mr-2"}),"Basic SEO"]}),e.jsxs(Pe,{value:"social",children:[e.jsx($x,{className:"h-4 w-4 mr-2"}),"Social Media"]}),e.jsxs(Pe,{value:"advanced",children:[e.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Advanced"]}),n&&e.jsxs(Pe,{value:"preview",children:[e.jsx($t,{className:"h-4 w-4 mr-2"}),"Preview"]})]}),e.jsxs(ze,{value:"basic",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title",children:"Title (English)"}),e.jsx($,{id:"title",value:m.title||"",onChange:p=>j("title",p.target.value),placeholder:"Enter page title",maxLength:60}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[m.title?.length||0,"/60 characters"]}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"h-auto p-0 text-xs",children:"Auto-fill social media"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"titleAr",children:"Title (Arabic)"}),e.jsx($,{id:"titleAr",value:m.titleAr||"",onChange:p=>j("titleAr",p.target.value),placeholder:"  ",maxLength:60}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.titleAr?.length||0,"/60 characters"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description",children:"Description (English)"}),e.jsx(ct,{id:"description",value:m.description||"",onChange:p=>j("description",p.target.value),placeholder:"Enter meta description",rows:3,maxLength:160}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:[m.description?.length||0,"/160 characters"]}),e.jsx(q,{type:"button",variant:"ghost",size:"sm",onClick:w,className:"h-auto p-0 text-xs",children:"Auto-fill social media"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"descriptionAr",children:"Description (Arabic)"}),e.jsx(ct,{id:"descriptionAr",value:m.descriptionAr||"",onChange:p=>j("descriptionAr",p.target.value),placeholder:"  ",rows:3,maxLength:160}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[m.descriptionAr?.length||0,"/160 characters"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"keywords",children:"Keywords (English)"}),e.jsx($,{id:"keywords",value:m.keywords||"",onChange:p=>j("keywords",p.target.value),placeholder:"keyword1, keyword2, keyword3"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"keywordsAr",children:"Keywords (Arabic)"}),e.jsx($,{id:"keywordsAr",value:m.keywordsAr||"",onChange:p=>j("keywordsAr",p.target.value),placeholder:" 1  2"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"canonicalUrl",children:"Canonical URL"}),e.jsx($,{id:"canonicalUrl",type:"url",value:m.canonicalUrl||"",onChange:p=>j("canonicalUrl",p.target.value),placeholder:"https://spirithubcafe.com/page-url"})]})]}),e.jsxs(ze,{value:"social",className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium",children:"Open Graph (Facebook, WhatsApp, etc.)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ogTitle",children:"OG Title (English)"}),e.jsx($,{id:"ogTitle",value:m.ogTitle||"",onChange:p=>j("ogTitle",p.target.value),placeholder:"Open Graph title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ogTitleAr",children:"OG Title (Arabic)"}),e.jsx($,{id:"ogTitleAr",value:m.ogTitleAr||"",onChange:p=>j("ogTitleAr",p.target.value),placeholder:" Open Graph"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ogDescription",children:"OG Description (English)"}),e.jsx(ct,{id:"ogDescription",value:m.ogDescription||"",onChange:p=>j("ogDescription",p.target.value),placeholder:"Open Graph description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ogDescriptionAr",children:"OG Description (Arabic)"}),e.jsx(ct,{id:"ogDescriptionAr",value:m.ogDescriptionAr||"",onChange:p=>j("ogDescriptionAr",p.target.value),placeholder:" Open Graph",rows:3})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ogImage",children:"OG Image URL"}),e.jsx($,{id:"ogImage",type:"url",value:m.ogImage||"",onChange:p=>j("ogImage",p.target.value),placeholder:"https://spirithubcafe.com/images/og-image.jpg"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended size: 1200x630 pixels"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium",children:"Twitter Cards"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"twitterTitle",children:"Twitter Title (English)"}),e.jsx($,{id:"twitterTitle",value:m.twitterTitle||"",onChange:p=>j("twitterTitle",p.target.value),placeholder:"Twitter title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"twitterTitleAr",children:"Twitter Title (Arabic)"}),e.jsx($,{id:"twitterTitleAr",value:m.twitterTitleAr||"",onChange:p=>j("twitterTitleAr",p.target.value),placeholder:" "})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"twitterImage",children:"Twitter Image URL"}),e.jsx($,{id:"twitterImage",type:"url",value:m.twitterImage||"",onChange:p=>j("twitterImage",p.target.value),placeholder:"https://spirithubcafe.com/images/twitter-image.jpg"})]})]})]}),e.jsx(ze,{value:"advanced",className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-lg font-medium",children:"Search Engine Settings"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"noIndex",checked:m.noIndex||!1,onCheckedChange:p=>j("noIndex",p)}),e.jsx(M,{htmlFor:"noIndex",children:"No Index (Hide from search engines)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"noFollow",checked:m.noFollow||!1,onCheckedChange:p=>j("noFollow",p)}),e.jsx(M,{htmlFor:"noFollow",children:"No Follow (Don't follow links)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"robots",children:"Custom Robots Tags"}),e.jsx($,{id:"robots",value:m.robots||"",onChange:p=>j("robots",p.target.value),placeholder:"noarchive, nosnippet"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"author",children:"Author"}),e.jsx($,{id:"author",value:m.author||"",onChange:p=>j("author",p.target.value),placeholder:"Author name"})]})]})}),n&&e.jsx(ze,{value:"preview",className:"space-y-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(Bi,{className:"h-5 w-5 mr-2"}),"Google Search Preview"]}),e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("div",{className:"text-blue-600 text-lg cursor-pointer hover:underline",children:(c?m.titleAr||m.title:m.title||m.titleAr)||"Page Title"}),e.jsx("div",{className:"text-green-700 text-sm",children:m.canonicalUrl||"https://spirithubcafe.com/page-url"}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:(c?m.descriptionAr||m.description:m.description||m.descriptionAr)||"Page description will appear here..."})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx($x,{className:"h-5 w-5 mr-2"}),"Facebook/WhatsApp Preview"]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[m.ogImage&&e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:e.jsx("img",{src:m.ogImage,alt:"OG Image",className:"w-full h-full object-cover",onError:p=>{p.target.style.display="none"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-sm",children:(c?m.ogTitleAr||m.ogTitle:m.ogTitle||m.ogTitleAr)||"Open Graph Title"}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:(c?m.ogDescriptionAr||m.ogDescription:m.ogDescription||m.ogDescriptionAr)||"Open Graph description..."}),e.jsx("div",{className:"text-gray-500 text-xs mt-2 uppercase",children:"spirithubcafe.com"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium mb-4 flex items-center",children:[e.jsx(Kw,{className:"h-5 w-5 mr-2"}),"Twitter Preview"]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white",children:[m.twitterImage&&e.jsx("div",{className:"aspect-video bg-gray-200 flex items-center justify-center",children:e.jsx("img",{src:m.twitterImage,alt:"Twitter Image",className:"w-full h-full object-cover",onError:p=>{p.target.style.display="none"}})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-sm",children:(c?m.twitterTitleAr||m.twitterTitle:m.twitterTitle||m.twitterTitleAr)||"Twitter Title"}),e.jsx("div",{className:"text-gray-600 text-sm mt-1",children:(c?m.twitterDescriptionAr||m.twitterDescription:m.twitterDescription||m.twitterDescriptionAr)||"Twitter description..."}),e.jsx("div",{className:"text-gray-500 text-xs mt-2",children:"spirithubcafe.com"})]})]})]})]})})]})]})]})}const I4=i=>({title:i.meta_title||"",titleAr:i.meta_title_ar||"",description:i.meta_description||"",descriptionAr:i.meta_description_ar||"",keywords:i.meta_keywords||"",keywordsAr:i.meta_keywords_ar||"",canonicalUrl:i.canonical_url||"",ogTitle:i.og_title||"",ogTitleAr:i.og_title_ar||"",ogDescription:i.og_description||"",ogDescriptionAr:i.og_description_ar||"",ogImage:i.og_image||"",twitterTitle:i.twitter_title||"",twitterTitleAr:i.twitter_title_ar||"",twitterDescription:i.twitter_description||"",twitterDescriptionAr:i.twitter_description_ar||"",twitterImage:i.twitter_image||""}),P4=i=>({meta_title:i.title,meta_title_ar:i.titleAr,meta_description:i.description,meta_description_ar:i.descriptionAr,meta_keywords:i.keywords,meta_keywords_ar:i.keywordsAr,canonical_url:i.canonicalUrl,og_title:i.ogTitle,og_title_ar:i.ogTitleAr,og_description:i.ogDescription,og_description_ar:i.ogDescriptionAr,og_image:i.ogImage,twitter_title:i.twitterTitle,twitter_title_ar:i.twitterTitleAr,twitter_description:i.twitterDescription,twitter_description_ar:i.twitterDescriptionAr,twitter_image:i.twitterImage});function z4(){const{i18n:i}=Me(),s=i.language==="ar",[n,o]=_.useState([]),[u,c]=_.useState(!0),[m,g]=_.useState(new Set),[x,j]=_.useState(!1),[y,w]=_.useState(null),[A,h]=_.useState(!1),[p,E]=_.useState(!1),[b,v]=_.useState(null),[U,C]=_.useState(0),[R,S]=_.useState("basic"),[N,z]=_.useState({name:"",name_ar:"",description:"",description_ar:"",image:"",is_active:!0,showOnHome:!0,show_title:!0,show_subtitle:!0,show_availability_badge:!0,badge_text_source:"available",badge_variant:"default",badge_position:"right",item_count_format:"short",subtitle_override:"",sort_order:1,page_subtitle:"",page_subtitle_ar:"",seo:{}});_.useEffect(()=>{L()},[]);const L=async()=>{try{c(!0);const k=await we.categories.list();o(k.items)}catch(k){console.error("Error loading categories:",k)}finally{c(!1)}},T=async k=>{if(k){if(!k.type.startsWith("image/")){te.error(s?"    ":"Please select a valid image file");return}if(k.size>5*1024*1024){te.error(s?"    (  5 )":"Image size too large (max 5MB)");return}C(0);try{if(!bt.currentUser){te.error(s?"   ":"Please login first");return}const F=setInterval(()=>{C(X=>X>=90?(clearInterval(F),90):X+10)},200);let ue;try{const X=Date.now(),Y=k.name.replace(/[^a-zA-Z0-9.-]/g,"_"),ce=`categories/${`${X}_${Y}`}`;console.log("Attempting Firebase Storage upload..."),ue=await Ja.upload(ce,k),console.log("Firebase Storage upload successful:",ue)}catch(X){console.warn("Firebase Storage failed, using fallback:",X),clearInterval(F),C(50),console.log("Using fallback upload method..."),ue=await Ja.uploadAsDataURL(k),te.success(s?"    ":"Used fallback upload method")}clearInterval(F),C(100),z(X=>({...X,image:ue})),setTimeout(()=>C(0),1e3),te.success(s?"   ":"Image uploaded successfully")}catch(B){console.error("Upload error:",B),C(0);let F=s?"   ":"Error uploading image";B instanceof Error&&(B.message.includes("authentication")||B.message.includes("Unauthorized")?F=s?"    ":"Login required to upload images":B.message.includes("quota")?F=s?"   ":"Storage quota exceeded":B.message.includes("CORS")?F=s?" CORS:     Firebase":"CORS error: Please check Firebase configuration":B.message.includes("permission")&&(F=s?"    ":"No permission to upload images")),te.error(F)}}},O=k=>{if(k){w(k);const B=I4(k);console.log("Category SEO Data Loading:",{original:k,converted:B}),z({name:k.name,name_ar:k.name_ar||"",page_title:k.page_title||"",description:k.description||"",description_ar:k.description_ar||"",image:k.image||"",page_subtitle:k.page_subtitle||"",page_subtitle_ar:k.page_subtitle_ar||"",page_title_ar:k.page_title_ar||"",is_active:k.is_active,showOnHome:k.showOnHome!==void 0?k.showOnHome:!0,show_title:k.show_title!==void 0?k.show_title:!0,show_subtitle:k.show_subtitle!==void 0?k.show_subtitle:!0,show_availability_badge:k.show_availability_badge!==void 0?k.show_availability_badge:!0,badge_text_source:k.badge_text_source||"available",badge_variant:k.badge_variant||"default",badge_position:k.badge_position||"right",item_count_format:k.item_count_format||"short",subtitle_override:k.subtitle_override||"",sort_order:k.sort_order,seo:B})}else w(null),z({name:"",name_ar:"",page_title:"",description:"",description_ar:"",image:"",page_subtitle:"",page_subtitle_ar:"",page_title_ar:"",is_active:!0,showOnHome:!0,show_title:!0,show_subtitle:!0,show_availability_badge:!0,badge_text_source:"available",badge_variant:"default",badge_position:"right",item_count_format:"short",subtitle_override:"",sort_order:n.length+1,seo:{}});j(!0)},I=()=>{j(!1),w(null),z({name:"",name_ar:"",description:"",description_ar:"",image:"",page_subtitle:"",page_subtitle_ar:"",is_active:!0,sort_order:1})},H=async k=>{if(k.preventDefault(),!N.name.trim()){alert(s?"   ":"Please enter category name");return}try{h(!0);const B={name:N.name,name_ar:N.name_ar,page_title:N.page_title,page_title_ar:N.page_title_ar,description:N.description,description_ar:N.description_ar,image:N.image,is_active:N.is_active,showOnHome:N.showOnHome,page_subtitle:N.page_subtitle,page_subtitle_ar:N.page_subtitle_ar,show_title:N.show_title,show_subtitle:N.show_subtitle,show_availability_badge:N.show_availability_badge,badge_text_source:N.badge_text_source,badge_variant:N.badge_variant,badge_position:N.badge_position,item_count_format:N.item_count_format,subtitle_override:N.subtitle_override,sort_order:N.sort_order,...N.seo?P4(N.seo):{}},F=X=>Array.isArray(X)?X.map(F):X&&typeof X=="object"?Object.entries(X).reduce((Y,[oe,ce])=>(ce!==void 0&&(Y[oe]=F(ce)),Y),{}):X,ue=F(B);y?await we.categories.update(y.id,ue):await we.categories.create(ue),await L(),I()}catch(B){const F=B;console.error("Error saving category:",F,JSON.stringify(F),F?.message,F?.code,F?.stack),alert((s?"   : ":"Error saving category: ")+(F?.message||""))}finally{h(!1)}},W=async()=>{if(b)try{h(!0),await we.categories.delete(b.id),await L(),E(!1),v(null)}catch(k){console.error("Error deleting category:",k),alert(s?"   ":"Error deleting category")}finally{h(!1)}},he=k=>{v(k),E(!0)},ee=async(k,B)=>{const F=k.id;g(ue=>{const X=new Set(ue);return X.add(F),X}),o(ue=>ue.map(X=>X.id===F?{...X,showOnHome:B}:X));try{await we.categories.update(F,{showOnHome:B}),te.success(i.language==="ar"?"     ":"Updated home visibility")}catch(ue){o(X=>X.map(Y=>Y.id===F?{...Y,showOnHome:k.showOnHome}:Y)),console.error("Error updating showOnHome:",ue),te.error(i.language==="ar"?"     ":"Failed to update home visibility")}finally{g(ue=>{const X=new Set(ue);return X.delete(F),X})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:s?" ":"Category Management"}),e.jsx("p",{className:"text-muted-foreground",children:s?"  ":"Manage product categories"})]}),e.jsxs(q,{onClick:()=>O(),children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),s?"  ":"Add New Category"]})]}),u?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((k,B)=>e.jsx(ie,{className:"animate-pulse py-0",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-5 bg-muted rounded-full w-16"}),e.jsx("div",{className:"h-6 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-muted rounded w-2/3"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-9 bg-muted rounded w-20"}),e.jsx("div",{className:"h-9 bg-muted rounded w-9"})]})]})})},B))}):n.length===0?e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:e.jsx(hs,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("p",{className:"text-lg font-medium mb-2",children:s?"   ":"No categories yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s?"    ":"Start by adding a category to organize your products"}),e.jsxs(q,{onClick:()=>O(),children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),s?"  ":"Add First Category"]})]})}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground w-16",children:s?"":"Image"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground flex-1",children:s?"":"Category"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground w-20",children:s?"":"Status"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground w-16",children:s?"":"Order"}),e.jsx("span",{className:"text-sm font-medium text-muted-foreground w-24",children:s?"":"Actions"})]})]}),n.sort((k,B)=>k.sort_order-B.sort_order).map(k=>e.jsx(ie,{className:"py-0 hover:shadow-md transition-all duration-200 border-l-4 border-l-transparent hover:border-l-primary",children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gradient-to-br from-amber-100 to-amber-200 dark:from-amber-900 dark:to-amber-800",children:k.image?e.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",onError:B=>{const F=B.target;F.src="/images/placeholder-category.png"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(hs,{className:"h-6 w-6 text-amber-600 dark:text-amber-400 opacity-50"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg truncate",children:s&&k.name_ar||k.name}),(s?k.name:k.name_ar)&&e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:s?k.name:k.name_ar})]})}),(k.description||k.description_ar)&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:s&&k.description_ar||k.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["ID: ",k.id.slice(0,8)]}),e.jsxs("span",{children:[s?" :":"Created:"," ",(()=>{if(!k.created)return s?" ":"N/A";try{return k.created&&typeof k.created=="object"&&"seconds"in k.created?new Date(k.created.seconds*1e3).toLocaleDateString(s?"ar-SA":"en-US"):k.created instanceof Date?k.created.toLocaleDateString(s?"ar-SA":"en-US"):new Date(k.created).toLocaleDateString(s?"ar-SA":"en-US")}catch{return s?" ":"N/A"}})()]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20",children:e.jsx(Se,{variant:k.is_active?"default":"secondary",className:"w-full justify-center",children:k.is_active?s?"":"Active":s?" ":"Inactive"})}),e.jsxs("div",{className:"w-28 flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:`show_on_home_${k.id}`,checked:!!k.showOnHome,onChange:B=>ee(k,B.target.checked),className:"rounded",title:s?"   ":"Show on Home Page",disabled:m.has(k.id)}),m.has(k.id)&&e.jsx(ua,{className:"h-4 w-4 animate-spin text-muted-foreground"}),e.jsx(M,{htmlFor:`show_on_home_${k.id}`,className:"text-xs",children:s?" ":"ShowHome"})]}),e.jsx("div",{className:"w-16 text-center",children:e.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-muted text-sm font-medium",children:k.sort_order})}),e.jsxs("div",{className:"flex gap-2 w-24",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>O(k),className:"h-8 w-8 p-0",title:s?"":"Edit",children:e.jsx(Ys,{className:"h-3 w-3"})}),e.jsx(q,{variant:"destructive",size:"sm",onClick:()=>he(k),className:"h-8 w-8 p-0",title:s?"":"Delete",children:e.jsx(Zt,{className:"h-3 w-3"})})]})]})]})})},k.id)),e.jsx(ie,{className:"py-0 bg-muted/20",children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:[s?" :":"Total Categories:"," ",n.length]}),e.jsxs("span",{children:[s?" :":"Active Categories:"," ",n.filter(k=>k.is_active).length]}),e.jsxs("span",{children:[s?"  :":"Inactive Categories:"," ",n.filter(k=>!k.is_active).length]})]})})})]}),e.jsx(Pt,{open:x,onOpenChange:j,children:e.jsxs(zt,{className:"max-w-2xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:y?s?" ":"Edit Category":s?"  ":"Add New Category"}),e.jsx(ps,{children:s?"      ":"Fill in the information below to create or edit the category"})]}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs(La,{value:R,onValueChange:S,className:"space-y-4",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-2",children:[e.jsxs(Pe,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(Ys,{className:"h-4 w-4"}),s?" ":"Basic Info"]}),e.jsxs(Pe,{value:"seo",className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-4 w-4"}),s?"  ":"SEO"]})]}),e.jsxs(ze,{value:"basic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"name",className:"mb-2 block",children:s?" ()":"Name (English)"}),e.jsx($,{id:"name",value:N.name,onChange:k=>z({...N,name:k.target.value}),placeholder:s?"  ":"Category name in English",required:!0})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"page_title",className:"mb-2 block",children:s?"  ()":"Page Title (English)"}),e.jsx($,{id:"page_title",value:N.page_title||"",onChange:k=>z(B=>({...B,page_title:k.target.value})),placeholder:s?"   ()":"Category page title in English"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"name_ar",className:"mb-2 block",children:s?" ()":"Name (Arabic)"}),e.jsx($,{id:"name_ar",value:N.name_ar,onChange:k=>z({...N,name_ar:k.target.value}),placeholder:s?"  ":"Category name in Arabic"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"description",className:"mb-2 block",children:s?" ()":"Description (English)"}),e.jsx(ct,{id:"description",value:N.description,onChange:k=>z({...N,description:k.target.value}),placeholder:s?"  ":"Category description in English",rows:3})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"description_ar",className:"mb-2 block",children:s?" ()":"Description (Arabic)"}),e.jsx(ct,{id:"description_ar",value:N.description_ar,onChange:k=>z({...N,description_ar:k.target.value}),placeholder:s?"  ":"Category description in Arabic",rows:3})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"page_subtitle",className:"mb-2 block",children:s?"   ()":"Page Subtitle (English)"}),e.jsx(ct,{id:"page_subtitle",value:N.page_subtitle,onChange:k=>z({...N,page_subtitle:k.target.value}),placeholder:s?"     ()":"Subtitle text for the shop/category page in English",rows:4})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"page_subtitle_ar",className:"mb-2 block",children:s?"   ()":"Page Subtitle (Arabic)"}),e.jsx(ct,{id:"page_subtitle_ar",value:N.page_subtitle_ar,onChange:k=>z({...N,page_subtitle_ar:k.target.value}),placeholder:s?"     ()":"Subtitle text for the shop/category page in Arabic",rows:4}),e.jsxs("div",{className:"mt-2",children:[e.jsx(M,{htmlFor:"page_title_ar",className:"mb-2 block",children:s?"  ()":"Page Title (Arabic)"}),e.jsx($,{id:"page_title_ar",value:N.page_title_ar||"",onChange:k=>z(B=>({...B,page_title_ar:k.target.value})),placeholder:s?"   ()":"Category page title in Arabic"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{htmlFor:"image",className:"mb-2 block",children:s?" ":"Category Image"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"image-url",className:"text-sm",children:s?" ":"Image URL"}),e.jsx($,{id:"image-url",value:N.image,onChange:k=>z({...N,image:k.target.value}),placeholder:s?"   ":"Enter category image URL"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:s?"":"Or"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"image-file",className:"text-sm",children:s?" ":"Upload Image"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{id:"image-file",type:"file",accept:"image/*",onChange:k=>{const B=k.target.files?.[0];B&&T(B)},className:"hidden"}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("image-file")?.click(),className:"w-full",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),s?" ":"Choose Image"]})]}),U>0&&e.jsx(Hn,{value:U,className:"w-full"})]}),N.image&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"text-sm",children:s?" ":"Image Preview"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-24 h-24 aspect-square overflow-hidden rounded-lg border",children:e.jsx("img",{src:N.image,alt:"Category preview",className:"w-full h-full object-cover",onError:k=>{const B=k.target;B.src="/images/placeholder-category.png"}})}),e.jsx("button",{type:"button",onClick:()=>z(k=>({...k,image:""})),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 hover:bg-destructive/90",title:s?" ":"Remove image",children:e.jsx(St,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"sort_order",className:"mb-2 block",children:s?" ":"Sort Order"}),e.jsx($,{id:"sort_order",type:"number",value:N.sort_order,onChange:k=>z({...N,sort_order:parseInt(k.target.value)||1}),min:"1"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:N.is_active,onChange:k=>z({...N,is_active:k.target.checked}),className:"rounded",placeholder:s?"    ":"Check if category is active",title:s?" ":"Active Category"}),e.jsx(M,{htmlFor:"is_active",children:s?" ":"Active Category"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"show_on_home",checked:!!N.showOnHome,onChange:k=>z({...N,showOnHome:k.target.checked}),className:"rounded",title:s?"   ":"Show on Home Page"}),e.jsx(M,{htmlFor:"show_on_home",children:s?"   ":"Show on Home Page"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"show_title",checked:!!N.show_title,onChange:k=>z({...N,show_title:k.target.checked}),className:"rounded"}),e.jsx(M,{htmlFor:"show_title",children:s?" ":"Show Title"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"show_subtitle",checked:!!N.show_subtitle,onChange:k=>z({...N,show_subtitle:k.target.checked}),className:"rounded"}),e.jsx(M,{htmlFor:"show_subtitle",children:s?"  ":"Show Subtitle"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"show_availability_badge",checked:!!N.show_availability_badge,onChange:k=>z({...N,show_availability_badge:k.target.checked}),className:"rounded"}),e.jsx(M,{htmlFor:"show_availability_badge",children:s?"  ":"Show Availability Badge"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"badge_text_source",className:"mb-2 block",children:s?"  ":"Badge Text Source"}),e.jsxs(Ue,{onValueChange:k=>z(B=>({...B,badge_text_source:k})),children:[e.jsx(Fe,{className:"w-full",children:e.jsx(Be,{children:N.badge_text_source})}),e.jsxs(He,{children:[e.jsx(Q,{value:"available",children:s?"":"Available"}),e.jsx(Q,{value:"total",children:s?"":"Total"})]})]})]})]})]}),e.jsx(ze,{value:"seo",className:"space-y-4",children:e.jsx(of,{initialData:N.seo||{},onChange:k=>z(B=>({...B,seo:k})),entityType:"category"})})]}),e.jsxs(fs,{children:[e.jsxs(q,{type:"button",variant:"outline",onClick:I,children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),s?"":"Cancel"]}),e.jsxs(q,{type:"submit",disabled:A,children:[e.jsx(Gs,{className:"h-4 w-4 mr-2"}),A?s?" ...":"Saving...":s?"":"Save"]})]})]})]})}),e.jsx(Pt,{open:p,onOpenChange:E,children:e.jsxs(zt,{className:"max-w-lg w-[95vw]",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:s?" ":"Confirm Delete"}),e.jsx(ps,{children:s?`      "${b?.name}"      .`:`Are you sure you want to delete the category "${b?.name}"? This action cannot be undone.`})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>E(!1),children:s?"":"Cancel"}),e.jsx(q,{variant:"destructive",onClick:W,disabled:A,children:A?s?" ...":"Deleting...":s?"":"Delete"})]})]})})]})}function da({value:i,onChange:s,placeholder:n="",direction:o="ltr",className:u=""}){const c=_.useRef(null),[m,g]=_.useState(!1),x=(y,w="")=>{const A=c.current;if(!A)return;const h=A.selectionStart,p=A.selectionEnd,E=i.substring(h,p);let b;if(E)b=i.substring(0,h)+y+E+w+i.substring(p);else if(y.includes("<li>"))b=i.substring(0,h)+y+"List item"+w+i.substring(p);else if(y.includes("<a href="))b=i.substring(0,h)+'<a href="https://example.com">Link text</a>'+i.substring(p);else{const v=y.includes("<h")?"Heading text":"Text";b=i.substring(0,h)+y+v+w+i.substring(p)}s(b),setTimeout(()=>{A.focus();const v=E?h+y.length+E.length+w.length:h+b.substring(h).indexOf(w)+w.length;A.setSelectionRange(v,v)},0)},j=[{icon:Xw,action:()=>x("<strong>","</strong>"),title:"Bold"},{icon:Zw,action:()=>x("<em>","</em>"),title:"Italic"},{icon:Jw,action:()=>x("<u>","</u>"),title:"Underline"},{icon:In,action:()=>x("<h3>","</h3>"),title:"Heading"},{icon:ny,action:()=>x(`<ul>
<li>`,`</li>
</ul>`),title:"Bullet List"},{icon:eN,action:()=>x(`<ol>
<li>`,`</li>
</ol>`),title:"Numbered List"},{icon:tN,action:()=>x('<div style="text-align: left;">',"</div>"),title:"Align Left"},{icon:aN,action:()=>x('<div style="text-align: center;">',"</div>"),title:"Align Center"},{icon:sN,action:()=>x('<div style="text-align: right;">',"</div>"),title:"Align Right"},{icon:ly,action:()=>x('<a href="URL">',"</a>"),title:"Link"}];return e.jsxs("div",{className:`rich-text-editor border rounded-lg ${u}`,dir:o,children:[e.jsxs("div",{className:"border-b p-2 flex flex-wrap gap-1 bg-muted/50",children:[j.map((y,w)=>e.jsx(q,{type:"button",variant:"ghost",size:"sm",onClick:y.action,title:y.title,className:"h-8 w-8 p-0",children:e.jsx(y.icon,{className:"h-4 w-4"})},w)),e.jsx("div",{className:"ml-auto",children:e.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:()=>g(!m),className:"h-8",children:m?"Edit":"Preview"})})]}),e.jsx("div",{className:"p-3",children:m?e.jsx("div",{className:`min-h-[200px] ${o==="rtl"?"rtl":"ltr"}`,children:i&&i.trim()?e.jsx(Za,{content:i,className:`${o==="rtl"?"rtl":"ltr"} text-sm`}):e.jsx("div",{className:"text-muted-foreground text-sm italic p-4 border-2 border-dashed rounded-lg text-center",children:o==="rtl"?"   ":"No content to preview"})}):e.jsx("textarea",{ref:c,value:i,onChange:y=>s(y.target.value),placeholder:n,className:`w-full min-h-[200px] resize-none border-0 outline-none bg-transparent text-sm leading-relaxed rich-text-textarea ${o==="rtl"?"rtl":"ltr"}`})}),e.jsx("div",{className:"border-t px-3 py-2 text-xs text-muted-foreground",children:"Use the buttons above to format your text. Switch to Preview to see the final result."})]})}function L4({properties:i,onPropertiesChange:s}){const{i18n:n}=Me(),o=n.language==="ar",[u,c]=_.useState(null),[m,g]=_.useState(null),[x,j]=_.useState(!1),[y,w]=_.useState(!1),A={name:"",name_ar:"",type:"select",required:!1,affects_price:!1,affects_stock:!1,display_type:"dropdown",options:[],is_active:!0,sort_order:0},h={value:"",label:"",label_ar:"",price_omr:0,price_usd:0,price_sar:0,sale_price_omr:0,sale_price_usd:0,sale_price_sar:0,price_modifier_omr:0,price_modifier_usd:0,price_modifier_sar:0,is_active:!0,sort_order:0},p=()=>{c(A),j(!0)},E=N=>{c({...N,options:N.options||[],affects_stock:N.affects_stock||!1,display_type:N.display_type||"dropdown",is_active:N.is_active!==!1,sort_order:N.sort_order||0}),j(!0)},b=N=>{const z=i.filter((L,T)=>T!==N);s(z)},v=()=>{if(!u)return;const N=[...i],z=N.findIndex(L=>L.id===u.id);z>=0?N[z]=u:N.push({...u,id:Date.now().toString()}),s(N),c(null),j(!1)},U=()=>{g({...h}),w(!0)},C=N=>{g({...N,price_omr:N.price_omr||0,price_usd:N.price_usd||0,price_sar:N.price_sar||0,sale_price_omr:N.sale_price_omr||0,sale_price_usd:N.sale_price_usd||0,sale_price_sar:N.sale_price_sar||0,price_modifier:N.price_modifier||0,price_modifier_omr:N.price_modifier_omr||N.price_modifier||0,price_modifier_usd:N.price_modifier_usd||0,price_modifier_sar:N.price_modifier_sar||0,is_active:N.is_active!==!1,sort_order:N.sort_order||0}),w(!0)},R=N=>{if(!u||!u.options)return;const z=u.options.filter((L,T)=>T!==N);c({...u,options:z})},S=()=>{if(!m||!u||!u.options)return;const N=[...u.options];if(m.id){const z=N.findIndex(L=>L.id===m.id);z>=0?N[z]=m:N.push({...m,id:m.id||Date.now().toString()})}else N.push({...m,id:Date.now().toString()});c({...u,options:N}),g(null),w(!1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:o?" ":"Product Properties"}),e.jsxs(q,{onClick:p,size:"sm",children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),o?" ":"Add Property"]})]}),i.length===0?e.jsx(ie,{children:e.jsx(ne,{className:"py-6 text-center text-muted-foreground",children:o?"   ":"No properties added"})}):e.jsx("div",{className:"space-y-4",children:i.map((N,z)=>e.jsxs(ie,{children:[e.jsx(ge,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{className:"text-base",children:o?N.name_ar:N.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Se,{variant:"outline",children:N.type}),N.affects_price&&e.jsx(Se,{variant:"secondary",children:o?"  ":"Affects Price"}),N.required&&e.jsx(Se,{variant:"destructive",children:o?"":"Required"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>E(N),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>b(z),children:e.jsx(Zt,{className:"h-4 w-4"})})]})]})}),e.jsx(ne,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:o?":":"Options:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:N.options?.map((L,T)=>e.jsxs("div",{className:"flex flex-col p-3 border rounded-lg hover:bg-accent/50",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"text-sm font-medium",children:o?L.label_ar:L.label})}),e.jsxs("div",{className:"mt-2 space-y-1",children:[(L.price_modifier||L.price_modifier_omr||L.price_omr)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded",children:o?"":"Price"}),e.jsx("span",{className:"text-xs font-mono",children:L.price_omr?xr(L.price_omr,"OMR",o):xr(L.price_modifier_omr||L.price_modifier||0,"OMR",o)})]}),L.on_sale&&(L.sale_price_modifier_omr||L.sale_price_omr)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-destructive/10 text-destructive rounded",children:o?"":"Sale"}),e.jsx("span",{className:"text-xs font-mono text-destructive",children:L.sale_price_omr?xr(L.sale_price_omr,"OMR",o):xr(L.sale_price_modifier_omr||0,"OMR",o)})]}),L.stock&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded",children:o?"":"Stock"}),e.jsx("span",{className:"text-xs",children:L.stock})]})]})]},L.id||T))})]})})]},N.id||z))}),e.jsx(Pt,{open:x,onOpenChange:j,children:e.jsxs(zt,{className:"max-w-4xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsx(Jt,{children:e.jsx(ea,{children:u?.id?o?" ":"Edit Property":o?"  ":"Add New Property"})}),u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ()":"Name (English)"}),e.jsx($,{value:u.name,onChange:N=>c({...u,name:N.target.value}),placeholder:"Size"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ()":"Name (Arabic)"}),e.jsx($,{value:u.name_ar,onChange:N=>c({...u,name_ar:N.target.value}),placeholder:""})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?"":"Type"}),e.jsxs(Ue,{value:u.type,onValueChange:N=>c({...u,type:N}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"select",children:"Select"}),e.jsx(Q,{value:"radio",children:"Radio"}),e.jsx(Q,{value:"checkbox",children:"Checkbox"}),e.jsx(Q,{value:"color",children:"Color"}),e.jsx(Q,{value:"size",children:"Size"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ":"Display Type"}),e.jsxs(Ue,{value:u.display_type,onValueChange:N=>c({...u,display_type:N}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"dropdown",children:"Dropdown"}),e.jsx(Q,{value:"buttons",children:"Buttons"}),e.jsx(Q,{value:"color_swatches",children:"Color Swatches"}),e.jsx(Q,{value:"size_grid",children:"Size Grid"})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{checked:u.required,onCheckedChange:N=>c({...u,required:N})}),e.jsx(M,{children:o?"":"Required"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{checked:u.affects_price,onCheckedChange:N=>c({...u,affects_price:N})}),e.jsx(M,{children:o?"  ":"Affects Price"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{checked:u.affects_stock,onCheckedChange:N=>c({...u,affects_stock:N})}),e.jsx(M,{children:o?"  ":"Affects Stock"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{checked:u.is_active,onCheckedChange:N=>c({...u,is_active:N})}),e.jsx(M,{children:o?"":"Active"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:o?"":"Options"}),e.jsxs(q,{onClick:U,size:"sm",children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),o?" ":"Add Option"]})]}),e.jsx("div",{className:"space-y-2",children:u.options?.map((N,z)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:o?N.label_ar:N.label}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Value: ",N.value,(N.price_modifier||N.price_modifier_omr||N.price_omr)&&e.jsx("span",{className:"ml-2",children:N.price_omr?`(${xr(N.price_omr,"OMR",o)})`:`(${xr(N.price_modifier_omr||N.price_modifier||0,"OMR",o)})`})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>C(N),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>R(z),children:e.jsx(Zt,{className:"h-4 w-4"})})]})]},N.id||z))})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(q,{variant:"outline",onClick:()=>j(!1),children:o?"":"Cancel"}),e.jsx(q,{onClick:v,children:o?"":"Save"})]})]})]})}),e.jsx(Pt,{open:y,onOpenChange:w,children:e.jsxs(zt,{className:"max-w-2xl w-[95vw]",children:[e.jsx(Jt,{children:e.jsx(ea,{children:m?.id?o?" ":"Edit Option":o?"  ":"Add New Option"})}),m&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?"":"Value"}),e.jsx($,{value:m.value,onChange:N=>g({...m,value:N.target.value}),placeholder:"small"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ()":"Label (English)"}),e.jsx($,{value:m.label,onChange:N=>g({...m,label:N.target.value}),placeholder:"Small"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ()":"Label (Arabic)"}),e.jsx($,{value:m.label_ar,onChange:N=>g({...m,label_ar:N.target.value}),placeholder:""})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b pb-2",children:[e.jsx("h5",{className:"font-semibold text-lg",children:o?" ":"Option Pricing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o?"      ()":"Set the price for this option and sale price (optional)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("h6",{className:"font-medium",children:o?" ":"Absolute Price"}),e.jsx("p",{className:"text-xs text-muted-foreground ml-2",children:o?"(    )":"(Replaces base product price)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium",children:"OMR ( )"}),e.jsx($,{type:"number",step:"0.001",min:"0",value:m.price_omr||0,onChange:N=>{const z=parseFloat(N.target.value)||0;g({...m,price_omr:z,price_usd:Pc(z,"USD"),price_sar:Pc(z,"SAR")})},className:"font-mono"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium",children:"USD ()"}),e.jsx($,{type:"number",step:"0.01",value:m.price_usd||0,disabled:!0,className:"bg-muted font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o?" ":"Auto-calculated"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium",children:"SAR ( )"}),e.jsx($,{type:"number",step:"0.01",value:m.price_sar||0,disabled:!0,className:"bg-muted font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o?" ":"Auto-calculated"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),e.jsx("h6",{className:"font-medium",children:o?"  ( )":"Sale Price (After Discount)"}),e.jsx(it,{checked:m.on_sale||!1,onCheckedChange:N=>g({...m,on_sale:N})})]}),m.on_sale&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-destructive/5 border border-destructive/20 rounded-lg",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium text-destructive",children:"OMR ( )"}),e.jsx($,{type:"number",step:"0.001",min:"0",max:m.price_modifier_omr||void 0,value:m.sale_price_modifier_omr||0,onChange:N=>{const z=parseFloat(N.target.value)||0,L=m.price_modifier_omr||0;if(z>L&&L>0){console.warn("Sale price cannot be higher than regular price");return}g({...m,sale_price_modifier_omr:z,sale_price_modifier_usd:Pc(z,"USD"),sale_price_modifier_sar:Pc(z,"SAR")})},className:"font-mono border-destructive/30 focus:border-destructive"}),m.sale_price_modifier_omr&&m.price_modifier_omr&&m.sale_price_modifier_omr>m.price_modifier_omr&&e.jsx("p",{className:"text-xs text-destructive",children:o?"         ":"Sale price cannot be higher than regular price"}),m.sale_price_modifier_omr&&m.price_modifier_omr&&m.sale_price_modifier_omr<m.price_modifier_omr&&e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:o?`: ${xr(m.price_modifier_omr-m.sale_price_modifier_omr,"OMR",o)}`:`Savings: ${xr(m.price_modifier_omr-m.sale_price_modifier_omr,"OMR",o)}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium text-destructive",children:"USD ()"}),e.jsx($,{type:"number",step:"0.01",value:m.sale_price_modifier_usd||0,disabled:!0,className:"bg-muted font-mono"}),e.jsx("p",{className:"text-xs text-destructive/70",children:o?" ":"Auto-calculated"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"font-medium text-destructive",children:"SAR ( )"}),e.jsx($,{type:"number",step:"0.01",value:m.sale_price_modifier_sar||0,disabled:!0,className:"bg-muted font-mono"}),e.jsx("p",{className:"text-xs text-destructive/70",children:o?" ":"Auto-calculated"})]})]}),!m.on_sale&&e.jsx("div",{className:"p-4 bg-muted/50 border border-border rounded-lg text-center",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:o?"       ":"Enable the toggle above to add a discounted price for this option"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?"":"Stock"}),e.jsx($,{type:"number",value:m.stock||"",onChange:N=>g({...m,stock:parseInt(N.target.value)||void 0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"SKU"}),e.jsx($,{value:m.sku||"",onChange:N=>g({...m,sku:N.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{checked:m.is_active!==!1,onCheckedChange:N=>g({...m,is_active:N})}),e.jsx(M,{children:o?"":"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(q,{variant:"outline",onClick:()=>w(!1),children:o?"":"Cancel"}),e.jsx(q,{onClick:S,children:o?"":"Save"})]})]})]})})]})}function U4({editingProduct:i,onSave:s,onCancel:n}){const{i18n:o}=Me(),[u,c]=_.useState([]),[m,g]=_.useState(!1),[x,j]=_.useState(0),[y,w]=_.useState(0),[A,h]=_.useState("basic"),p=o.language==="ar",E=!!i,[b,v]=_.useState({name:"",name_ar:"",description:"",description_ar:"",price_omr:0,sale_price_omr:void 0,category_id:"",image:"",gallery:[],is_featured:!1,is_bestseller:!1,properties:[],stock_quantity:0,slug:"",roast_level:"",roast_level_ar:"",process:"",process_ar:"",variety:"",variety_ar:"",altitude:"",altitude_ar:"",notes:"",notes_ar:"",uses:"",uses_ar:"",farm:"",farm_ar:"",aromatic_profile:"",aromatic_profile_ar:"",intensity:"",intensity_ar:"",compatibility:"",compatibility_ar:""}),U=T=>{v(O=>({...O,properties:T}))};_.useEffect(()=>{(async()=>{try{const O=await we.categories.list();c(O.items)}catch(O){console.error("Error loading categories:",O),te.error(p?"   ":"Error loading categories")}})(),i&&(console.log("Loading SEO data for product:",i.id,{meta_title:i.meta_title,meta_description:i.meta_description,meta_keywords:i.meta_keywords,seo_auto_generated:i.seo_auto_generated}),v({name:i.name||"",name_ar:i.name_ar||"",description:i.description||"",description_ar:i.description_ar||"",price_omr:i.price_omr||0,sale_price_omr:i.sale_price_omr,category_id:i.category_id||"",image:i.image||"",gallery:i.gallery||[],is_featured:i.is_featured||!1,is_bestseller:i.is_bestseller||!1,properties:i.properties||[],stock_quantity:i.stock_quantity||0,slug:i.slug||"",roast_level:i.roast_level||"",roast_level_ar:i.roast_level_ar||"",process:i.processing_method||"",process_ar:i.processing_method_ar||"",variety:i.variety||"",variety_ar:i.variety_ar||"",altitude:i.altitude||"",altitude_ar:i.altitude_ar||"",notes:i.notes||"",notes_ar:i.notes_ar||"",uses:i.uses||"",uses_ar:i.uses_ar||"",farm:i.farm||"",farm_ar:i.farm_ar||"",aromatic_profile:i.aromatic_profile||"",aromatic_profile_ar:i.aromatic_profile_ar||"",intensity:i.intensity||"",intensity_ar:i.intensity_ar||"",compatibility:i.compatibility||"",compatibility_ar:i.compatibility_ar||"",seo:{title:i.meta_title||"",titleAr:i.meta_title_ar||"",description:i.meta_description||"",descriptionAr:i.meta_description_ar||"",keywords:i.meta_keywords||"",keywordsAr:i.meta_keywords_ar||"",canonicalUrl:i.canonical_url||"",ogTitle:i.og_title||"",ogTitleAr:i.og_title_ar||"",ogDescription:i.og_description||"",ogDescriptionAr:i.og_description_ar||"",ogImage:i.og_image||"",twitterTitle:i.twitter_title||"",twitterTitleAr:i.twitter_title_ar||"",twitterDescription:i.twitter_description||"",twitterDescriptionAr:i.twitter_description_ar||"",twitterImage:i.twitter_image||""}}))},[i,p]);const C=T=>T.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),R=async()=>{if(!b.name||!b.name_ar||!b.category_id||b.price_omr<=0){te.error(p?"    ":"Please fill all required fields");return}g(!0);try{const T=u.find(I=>I.id===b.category_id);if(!T){te.error(p?"    ":"Category not found");return}const O={name:b.name,name_ar:b.name_ar,description:b.description,description_ar:b.description_ar,price_omr:b.price_omr,sale_price_omr:b.sale_price_omr&&b.sale_price_omr>0?b.sale_price_omr:void 0,category_id:b.category_id,category:T,image:b.image,gallery:b.gallery||[],is_featured:b.is_featured,is_bestseller:b.is_bestseller,is_active:!0,stock_quantity:b.stock_quantity,slug:b.slug||C(b.name),properties:b.properties,sort_order:0,is_new_arrival:!1,is_on_sale:(b.sale_price_omr||0)>0,stock:b.stock_quantity,roast_level:b.roast_level,roast_level_ar:b.roast_level_ar,processing_method:b.process,processing_method_ar:b.process_ar,variety:b.variety,variety_ar:b.variety_ar,altitude:b.altitude,altitude_ar:b.altitude_ar,notes:b.notes,notes_ar:b.notes_ar,uses:b.uses,uses_ar:b.uses_ar,farm:b.farm,farm_ar:b.farm_ar,aromatic_profile:b.aromatic_profile,aromatic_profile_ar:b.aromatic_profile_ar,intensity:b.intensity,intensity_ar:b.intensity_ar,compatibility:b.compatibility,compatibility_ar:b.compatibility_ar,meta_title:b.seo?.title||"",meta_title_ar:b.seo?.titleAr||"",meta_description:b.seo?.description||"",meta_description_ar:b.seo?.descriptionAr||"",meta_keywords:b.seo?.keywords||"",meta_keywords_ar:b.seo?.keywordsAr||"",canonical_url:b.seo?.canonicalUrl||"",og_title:b.seo?.ogTitle||"",og_title_ar:b.seo?.ogTitleAr||"",og_description:b.seo?.ogDescription||"",og_description_ar:b.seo?.ogDescriptionAr||"",og_image:b.seo?.ogImage||"",twitter_title:b.seo?.twitterTitle||"",twitter_title_ar:b.seo?.twitterTitleAr||"",twitter_description:b.seo?.twitterDescription||"",twitter_description_ar:b.seo?.twitterDescriptionAr||"",twitter_image:b.seo?.twitterImage||"",updated_at:new Date};E?(await we.products.update(i.id,O),te.success(p?"   ":"Product updated successfully")):(await we.products.create(O),te.success(p?"   ":"Product added successfully")),s()}catch(T){console.error("Error saving product:",T),te.error(p?"   ":"Error saving product")}finally{g(!1)}},S=async(T,O=!1)=>{if(!T)return;const I=o.language==="ar";if(!T.type.startsWith("image/")){te.error(I?"    ":"Please select a valid image file");return}if(T.size>5*1024*1024){te.error(I?"    (  5 )":"Image size too large (max 5MB)");return}const H=O?w:j;H(0);try{if(!bt.currentUser){te.error(I?"   ":"Please login first");return}const he=setInterval(()=>{H(k=>k>=90?(clearInterval(he),90):k+10)},200);let ee;try{const k=Date.now(),B=T.name.replace(/[^a-zA-Z0-9.-]/g,"_"),F=`${k}_${B}`,ue=O?`products/gallery/${F}`:`products/${F}`;console.log("Attempting Firebase Storage upload..."),ee=await Ja.upload(ue,T),console.log("Firebase Storage upload successful:",ee)}catch(k){console.warn("Firebase Storage failed, using fallback:",k),clearInterval(he),H(50),console.log("Using fallback upload method..."),ee=await Ja.uploadAsDataURL(T),te.success(I?"    ":"Used fallback upload method")}clearInterval(he),H(100),v(O?k=>({...k,gallery:[...k.gallery||[],ee]}):k=>({...k,image:ee})),setTimeout(()=>H(0),1e3),te.success(I?"   ":"Image uploaded successfully")}catch(W){console.error("Upload error:",W),H(0);let he=I?"   ":"Error uploading image";W instanceof Error&&(W.message.includes("authentication")||W.message.includes("Unauthorized")?he=I?"    ":"Login required to upload images":W.message.includes("quota")?he=I?"   ":"Storage quota exceeded":W.message.includes("CORS")?he=I?" CORS:     Firebase":"CORS error: Please check Firebase configuration":W.message.includes("permission")&&(he=I?"    ":"No permission to upload images")),te.error(he)}},N=T=>{try{return new URL(T),/\.(jpg|jpeg|png|gif|webp|bmp|svg)(\?.*)?$/i.test(T)}catch{return!1}},z=(T,O=!1)=>{if(!T.trim()){te.error(p?"   ":"Please enter image URL");return}if(!N(T)){te.error(p?"   ":"Invalid image URL");return}if(O){if(b.gallery?.includes(T)){te.error(p?"   ":"This image already exists");return}v(I=>({...I,gallery:[...I.gallery||[],T]}))}else v(I=>({...I,image:T}));te.success(p?"   ":"Image added successfully")},L=T=>{v(O=>({...O,gallery:O.gallery?.filter((I,H)=>H!==T)||[]}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:E?p?" ":"Edit Product":p?"  ":"Add New Product"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E?p?"  ":"Edit product details":p?"    ":"Add a new product to the store"})]}),e.jsxs(q,{variant:"outline",onClick:n,children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),p?"":"Back"]})]}),e.jsxs(La,{value:A,onValueChange:h,className:"space-y-6",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-5",children:[e.jsxs(Pe,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(Fi,{className:"h-4 w-4"}),p?" ":"Basic Info"]}),e.jsxs(Pe,{value:"coffee",className:"flex items-center gap-2",children:[e.jsx(so,{className:"h-4 w-4"}),p?" ":"Coffee Info"]}),e.jsxs(Pe,{value:"gallery",className:"flex items-center gap-2",children:[e.jsx(oy,{className:"h-4 w-4"}),p?"":"Gallery"]}),e.jsxs(Pe,{value:"seo",className:"flex items-center gap-2",children:[e.jsx(Bi,{className:"h-4 w-4"}),p?"  ":"SEO"]}),e.jsxs(Pe,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),p?"":"Settings"]})]}),e.jsxs(ze,{value:"basic",className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Basic Information"}),e.jsx(Ce,{children:p?"   ":"Enter the basic product information"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name-en",children:p?" ()":"Name (English)"}),e.jsx($,{id:"name-en",value:b.name,onChange:T=>v(O=>({...O,name:T.target.value,slug:C(T.target.value)})),placeholder:p?"   ":"Enter product name in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"name-ar",children:p?" ()":"Name (Arabic)"}),e.jsx($,{id:"name-ar",value:b.name_ar,onChange:T=>v(O=>({...O,name_ar:T.target.value})),placeholder:p?"   ":"Enter product name in Arabic",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-en",children:p?" ()":"Description (English)"}),e.jsx(da,{value:b.description,onChange:T=>v(O=>({...O,description:T})),placeholder:p?"   ":"Enter product description in English",direction:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-ar",children:p?" ()":"Description (Arabic)"}),e.jsx(da,{value:b.description_ar,onChange:T=>v(O=>({...O,description_ar:T})),placeholder:p?"   ":"Enter product description in Arabic",direction:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"price",children:[p?"":"Price"," (OMR)"]}),e.jsx($,{id:"price",type:"number",step:"0.01",min:"0",value:b.price_omr,onChange:T=>v(O=>({...O,price_omr:parseFloat(T.target.value)||0})),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"sale-price",children:[p?" ":"Sale Price"," (OMR)"]}),e.jsx($,{id:"sale-price",type:"number",step:"0.01",min:"0",value:b.sale_price_omr||"",onChange:T=>v(O=>({...O,sale_price_omr:T.target.value?parseFloat(T.target.value):void 0})),placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"stock",children:p?"":"Stock"}),e.jsx($,{id:"stock",type:"number",min:"0",value:b.stock_quantity,onChange:T=>v(O=>({...O,stock_quantity:parseInt(T.target.value)||0})),placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"category",children:p?"":"Category"}),e.jsxs(Ue,{value:b.category_id,onValueChange:T=>v(O=>({...O,category_id:T})),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:p?" ":"Select category"})}),e.jsx(He,{children:u.map(T=>e.jsxs(Q,{value:T.id,children:[p?T.name_ar:T.name," / ",p?T.name:T.name_ar]},T.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"slug",children:p?" ":"Slug"}),e.jsx($,{id:"slug",value:b.slug,onChange:T=>v(O=>({...O,slug:T.target.value})),placeholder:"product-slug"})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Advanced Properties"}),e.jsx(Ce,{children:p?"        ":"Add advanced product properties with multiple options and different pricing"})]}),e.jsx(ne,{children:e.jsx(L4,{properties:b.properties,onPropertiesChange:U})})]})]}),e.jsxs(ze,{value:"coffee",className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(so,{className:"h-5 w-5 text-amber-600"}),p?" ":"Coffee Information"]}),e.jsx(Ce,{children:p?"     ":"Enter coffee information that will be displayed to customers"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"roast-level",children:p?" ":"Roast Level"}),e.jsx($,{id:"roast-level",value:b.roast_level,onChange:T=>v(O=>({...O,roast_level:T.target.value})),placeholder:p?":  ":"e.g., Light"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"roast-level-ar",children:p?"  ()":"Roast Level (Arabic)"}),e.jsx($,{id:"roast-level-ar",value:b.roast_level_ar,onChange:T=>v(O=>({...O,roast_level_ar:T.target.value})),placeholder:p?":  ":"e.g.,  ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"process",children:p?"":"Process"}),e.jsx($,{id:"process",value:b.process,onChange:T=>v(O=>({...O,process:T.target.value})),placeholder:p?": ":"e.g., Natural"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"process-ar",children:p?" ()":"Process (Arabic)"}),e.jsx($,{id:"process-ar",value:b.process_ar,onChange:T=>v(O=>({...O,process_ar:T.target.value})),placeholder:p?": ":"e.g., ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"variety",children:p?"":"Variety"}),e.jsx($,{id:"variety",value:b.variety,onChange:T=>v(O=>({...O,variety:T.target.value})),placeholder:p?": ":"e.g., Mokka"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"variety-ar",children:p?" ()":"Variety (Arabic)"}),e.jsx($,{id:"variety-ar",value:b.variety_ar,onChange:T=>v(O=>({...O,variety_ar:T.target.value})),placeholder:p?": ":"e.g., ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"altitude",children:p?"":"Altitude"}),e.jsx($,{id:"altitude",value:b.altitude,onChange:T=>v(O=>({...O,altitude:T.target.value})),placeholder:p?": 1,450-1,530 ":"e.g., 1,450-1,530 masl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"altitude-ar",children:p?" ()":"Altitude (Arabic)"}),e.jsx($,{id:"altitude-ar",value:b.altitude_ar,onChange:T=>v(O=>({...O,altitude_ar:T.target.value})),placeholder:p?": 1,450-1,530 ":"e.g., - ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"notes",children:p?"":"Notes"}),e.jsx(ct,{id:"notes",value:b.notes,onChange:T=>v(O=>({...O,notes:T.target.value})),placeholder:p?":    ":"e.g., Grapefruit, Plum, Cacao",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"notes-ar",children:p?" ()":"Notes (Arabic)"}),e.jsx(ct,{id:"notes-ar",value:b.notes_ar,onChange:T=>v(O=>({...O,notes_ar:T.target.value})),placeholder:p?":    ":"e.g.,    ",rows:3,dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"uses",children:p?"":"Uses"}),e.jsx(ct,{id:"uses",value:b.uses,onChange:T=>v(O=>({...O,uses:T.target.value})),placeholder:p?":     ":"e.g., Espresso, Drip Coffee, French Press",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"uses-ar",children:p?" ()":"Uses (Arabic)"}),e.jsx(ct,{id:"uses-ar",value:b.uses_ar,onChange:T=>v(O=>({...O,uses_ar:T.target.value})),placeholder:p?":     ":"e.g.,     ",rows:3,dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"farm",children:p?"":"Farm"}),e.jsx($,{id:"farm",value:b.farm,onChange:T=>v(O=>({...O,farm:T.target.value})),placeholder:p?": ":"e.g., Hawaii"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"farm-ar",children:p?" ()":"Farm (Arabic)"}),e.jsx($,{id:"farm-ar",value:b.farm_ar,onChange:T=>v(O=>({...O,farm_ar:T.target.value})),placeholder:p?": ":"e.g., ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"aromatic-profile",children:p?" ":"Aromatic Profile"}),e.jsx(ct,{id:"aromatic-profile",value:b.aromatic_profile,onChange:T=>v(O=>({...O,aromatic_profile:T.target.value})),placeholder:p?":   ":"e.g., Fruity, Floral, Citrusy",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"aromatic-profile-ar",children:p?"  ()":"Aromatic Profile (Arabic)"}),e.jsx(ct,{id:"aromatic-profile-ar",value:b.aromatic_profile_ar,onChange:T=>v(O=>({...O,aromatic_profile_ar:T.target.value})),placeholder:p?":   ":"e.g.,   ",rows:3,dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"intensity",children:p?"":"Intensity"}),e.jsx($,{id:"intensity",value:b.intensity,onChange:T=>v(O=>({...O,intensity:T.target.value})),placeholder:p?":   ":"e.g., Medium, Strong, Light"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"intensity-ar",children:p?" ()":"Intensity (Arabic)"}),e.jsx($,{id:"intensity-ar",value:b.intensity_ar,onChange:T=>v(O=>({...O,intensity_ar:T.target.value})),placeholder:p?":   ":"e.g.,   ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"compatibility",children:p?"":"Compatibility"}),e.jsx(ct,{id:"compatibility",value:b.compatibility,onChange:T=>v(O=>({...O,compatibility:T.target.value})),placeholder:p?":     ":"e.g., Pairs well with milk, sugar, honey",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"compatibility-ar",children:p?" ()":"Compatibility (Arabic)"}),e.jsx(ct,{id:"compatibility-ar",value:b.compatibility_ar,onChange:T=>v(O=>({...O,compatibility_ar:T.target.value})),placeholder:p?":     ":"e.g.,     ",rows:3,dir:"rtl"})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Information Preview"}),e.jsx(Ce,{children:p?"    ":"How the coffee information will appear to customers"})]}),e.jsx(ne,{children:e.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(so,{className:"h-4 w-4 text-amber-600"}),e.jsx("h3",{className:"font-medium text-sm",children:p?" ":"Coffee Information"})]}),e.jsxs("div",{className:"space-y-2",children:[[{label:p?" ":"Roast Level",value:b.roast_level},{label:p?"":"Process",value:b.process},{label:p?"":"Variety",value:b.variety},{label:p?"":"Altitude",value:b.altitude},{label:p?"":"Notes",value:b.notes},{label:p?"":"Uses",value:b.uses},{label:p?"":"Farm",value:b.farm},{label:p?" ":"Aromatic Profile",value:b.aromatic_profile},{label:p?"":"Intensity",value:b.intensity},{label:p?"":"Compatibility",value:b.compatibility}].filter(T=>T.value&&T.value.trim()).map((T,O)=>e.jsxs("div",{className:"flex justify-between items-start text-sm",children:[e.jsxs("span",{className:"text-muted-foreground font-medium",children:[T.label,":"]}),e.jsx("span",{className:"text-right flex-1 ml-2",dir:p?"rtl":"ltr",children:T.value})]},O)),![b.roast_level,b.process,b.variety,b.altitude,b.notes,b.uses,b.farm,b.aromatic_profile,b.intensity,b.compatibility].some(T=>T&&T.trim())&&e.jsx("p",{className:"text-muted-foreground text-sm text-center py-4",children:p?"     ":"No coffee information added yet"})]})]})})]})]}),e.jsxs(ze,{value:"gallery",className:"space-y-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Main Image"}),e.jsx(Ce,{children:p?"       ":"Upload the main product image or enter image URL"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"main-image-url",children:p?"  ":"Main Image URL"}),e.jsx($,{id:"main-image-url",type:"url",value:b.image||"",onChange:T=>v(O=>({...O,image:T.target.value})),onBlur:T=>{const O=T.target.value.trim();O&&!N(O)&&te.error(p?"   ":"Invalid image URL")},placeholder:p?"   ":"Enter main image URL"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:p?"":"Or"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"main-image",children:p?"  ":"Upload Main Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx($,{id:"main-image",type:"file",accept:"image/*",onChange:T=>{const O=T.target.files?.[0];O&&S(O,!1)}}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("main-image")?.click(),children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),p?"":"Upload"]})]}),x>0&&e.jsx(Hn,{value:x,className:"w-full"})]}),b.image&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?"  ":"Current Main Image"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-32 h-32 aspect-square overflow-hidden rounded-lg border",children:e.jsx("img",{src:b.image,alt:`${p?"  ":"Main product image"}: ${b.name||b.name_ar||""}`,className:"w-full h-full object-cover",onError:T=>{const O=T.target;O.src="/images/placeholder-product.png"}})}),e.jsx("button",{onClick:()=>v(T=>({...T,image:""})),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 hover:bg-destructive/90",title:p?" ":"Remove image",children:e.jsx(St,{className:"h-4 w-4"})})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Image Gallery"}),e.jsx(Ce,{children:p?"       ":"Add additional product images via upload or URLs"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"gallery-url",children:p?"  ":"Add Image by URL"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{id:"gallery-url",type:"url",placeholder:p?"  ":"Enter image URL",onKeyDown:T=>{if(T.key==="Enter"){const O=T.target,I=O.value.trim();I&&(z(I,!0),O.value="")}}}),e.jsx(q,{type:"button",variant:"outline",onClick:()=>{const T=document.getElementById("gallery-url"),O=T.value.trim();O&&(z(O,!0),T.value="")},children:p?"":"Add"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:p?"":"Or"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"gallery-image",children:p?"  ":"Upload Gallery Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx($,{id:"gallery-image",type:"file",accept:"image/*",onChange:T=>{const O=T.target.files?.[0];O&&S(O,!0)}}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("gallery-image")?.click(),children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),p?"":"Upload"]})]}),y>0&&e.jsx(Hn,{value:y,className:"w-full"})]}),b.gallery&&b.gallery.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?"  ":"Current Gallery Images"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:b.gallery.map((T,O)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg border",children:e.jsx("img",{src:T,alt:`${b.name||b.name_ar||(p?"":"Product")} - ${p?"":"Image"} ${O+1}`,className:"w-full h-full object-cover",onError:I=>{const H=I.target;H.src="/images/placeholder-product.png"}})}),e.jsx("button",{onClick:()=>L(O),className:"absolute -top-2 -right-2 bg-destructive text-destructive-foreground rounded-full p-1 hover:bg-destructive/90",title:p?" ":"Remove image",children:e.jsx(St,{className:"h-4 w-4"})})]},O))})]})]})]})]}),e.jsx(ze,{value:"seo",className:"space-y-6",children:e.jsx(of,{initialData:b.seo||{},onChange:T=>v(O=>({...O,seo:T})),entityType:"product"})}),e.jsx(ze,{value:"settings",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:p?" ":"Product Settings"}),e.jsx(Ce,{children:p?"    ":"Configure product status and special features"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:b.is_featured,onChange:T=>v(O=>({...O,is_featured:T.target.checked})),className:"rounded border-gray-300 text-primary focus:ring-primary",title:p?" ":"Featured product"}),e.jsx(M,{htmlFor:"featured",children:p?" ":"Featured Product"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"bestseller",checked:b.is_bestseller,onChange:T=>v(O=>({...O,is_bestseller:T.target.checked})),className:"rounded border-gray-300 text-primary focus:ring-primary",title:p?" ":"Best seller"}),e.jsx(M,{htmlFor:"bestseller",children:p?" ":"Best Seller"})]})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[e.jsx(q,{variant:"outline",onClick:n,children:p?"":"Cancel"}),e.jsx(q,{onClick:R,disabled:m,className:"flex items-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),p?" ...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-4 w-4"}),p?"":"Save"]})})]})]})}function B4(){const{i18n:i}=Me(),{formatPrice:s}=Fa(),n=i.language==="ar",[o,u]=_.useState([]),[c,m]=_.useState([]),[g,x]=_.useState(!0),[j,y]=_.useState(null),[w,A]=_.useState(!1),[h,p]=_.useState(!1),[E,b]=_.useState(null),[v,U]=_.useState(!1),[C,R]=_.useState(null),[S,N]=_.useState(!1),[z,L]=_.useState("grid"),[T,O]=_.useState({category_id:"all",status:"all",search:""});_.useEffect(()=>{(async()=>{try{x(!0);const[K,ye]=await Promise.all([we.products.list(),we.categories.list()]);u(K.items),m(ye.items)}catch(K){console.error("Error loading data:",K),te.error(n?"   ":"Error loading data")}finally{x(!1)}})()},[n]);const I=async()=>{try{x(!0);const[V,K]=await Promise.all([we.products.list(),we.categories.list()]);u(V.items),m(K.items)}catch(V){console.error("Error loading data:",V),te.error(n?"   ":"Error loading data")}finally{x(!1)}},H=o.filter(V=>{let K=!0;if(T.category_id&&T.category_id!=="all"&&V.category_id!==T.category_id&&(K=!1),T.status&&T.status!=="all"&&(T.status==="active"&&!V.is_active&&(K=!1),T.status==="inactive"&&V.is_active&&(K=!1),T.status==="featured"&&!V.is_featured&&(K=!1),T.status==="bestseller"&&!V.is_bestseller&&(K=!1),T.status==="new_arrival"&&!V.is_new_arrival&&(K=!1),T.status==="on_sale"&&!V.is_on_sale&&(K=!1)),T.search){const ye=T.search.toLowerCase(),me=V.name.toLowerCase().includes(ye),De=V.name_ar?.toLowerCase().includes(ye),Ye=V.sku?.toLowerCase().includes(ye);!me&&!De&&!Ye&&(K=!1)}return K}),W=V=>{y(V),A(!0)},he=()=>{y(null),A(!0)},ee=async()=>{A(!1),y(null),await I()},k=()=>{A(!1),y(null)},B=async()=>{if(E)try{N(!0),await we.products.delete(E.id),await I(),p(!1),b(null),te.success(n?"   ":"Product deleted successfully")}catch(V){console.error("Error deleting product:",V),te.error(n?"   ":"Error deleting product")}finally{N(!1)}},F=V=>V.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ue=async V=>{try{x(!0);const K=JSON.parse(JSON.stringify(V));delete K.id,delete K.created_at,delete K.updated_at;const ye=V.slug||F(V.name||"product");K.slug=`${ye}-copy-${Date.now()}`,K.name=V.name?`${V.name} (Copy)`:V.name,V.name_ar&&(K.name_ar=`${V.name_ar} ()`),await we.products.create(K),te.success(n?"   ":"Product duplicated successfully"),await I()}catch(K){console.error("Error duplicating product:",K),te.error(n?"   ":"Error duplicating product")}finally{x(!1)}},X=V=>{b(V),p(!0)},Y=V=>{R(V),U(!0)},oe=V=>{const K=c.find(ye=>ye.id===V);return K?n&&K.name_ar||K.name:n?" ":"Unspecified"},ce=V=>{const K=[];return V.is_featured&&K.push({text:n?"":"Featured",color:"bg-blue-500"}),V.is_bestseller&&K.push({text:n?" ":"Bestseller",color:"bg-green-500"}),V.is_new_arrival&&K.push({text:n?" ":"New",color:"bg-purple-500"}),V.is_on_sale&&V.sale_price_omr&&V.sale_price_omr<(V.price_omr||0)&&K.push({text:n?"":"Sale",color:"bg-red-500"}),K};return w?e.jsx(U4,{editingProduct:j,onSave:ee,onCancel:k}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:n?" ":"Product Management"}),e.jsx("p",{className:"text-muted-foreground",children:n?"  ":"Manage and organize products"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center border rounded-lg p-1",children:[e.jsx(q,{variant:z==="grid"?"default":"ghost",size:"sm",onClick:()=>L("grid"),className:"h-8 w-8 p-0",children:e.jsx(oy,{className:"h-4 w-4"})}),e.jsx(q,{variant:z==="list"?"default":"ghost",size:"sm",onClick:()=>L("list"),className:"h-8 w-8 p-0",children:e.jsx(ny,{className:"h-4 w-4"})})]}),e.jsxs(q,{onClick:he,children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),n?"  ":"Add New Product"]})]})]}),e.jsx(ie,{className:"py-0",children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?"":"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:n?"  ...":"Search products...",value:T.search,onChange:V=>O({...T,search:V.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?"":"Category"}),e.jsxs(Ue,{value:T.category_id,onValueChange:V=>O({...T,category_id:V}),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:n?" ":"All Categories"})}),e.jsxs(He,{children:[e.jsx(Q,{value:"all",children:n?" ":"All Categories"}),c.map(V=>e.jsx(Q,{value:V.id,children:n&&V.name_ar||V.name},V.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?"":"Status"}),e.jsxs(Ue,{value:T.status,onValueChange:V=>O({...T,status:V}),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:n?" ":"All Status"})}),e.jsxs(He,{children:[e.jsx(Q,{value:"all",children:n?" ":"All Status"}),e.jsx(Q,{value:"active",children:n?"":"Active"}),e.jsx(Q,{value:"inactive",children:n?" ":"Inactive"}),e.jsx(Q,{value:"featured",children:n?"":"Featured"}),e.jsx(Q,{value:"bestseller",children:n?" ":"Bestseller"}),e.jsx(Q,{value:"new_arrival",children:n?" ":"New Arrival"}),e.jsx(Q,{value:"on_sale",children:n?"":"On Sale"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(q,{variant:"outline",onClick:()=>O({category_id:"all",status:"all",search:""}),className:"w-full",children:[e.jsx(cy,{className:"h-4 w-4 mr-2"}),n?" ":"Clear Filters"]})})]})})}),g?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((V,K)=>e.jsx(ie,{className:"animate-pulse py-0",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg mb-4"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"h-5 bg-muted rounded-full w-12"}),e.jsx("div",{className:"h-5 bg-muted rounded-full w-16"})]}),e.jsx("div",{className:"h-5 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-6 bg-muted rounded w-20 mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-9 bg-muted rounded flex-1"}),e.jsx("div",{className:"h-9 bg-muted rounded w-9"})]})]})},K))}):H.length===0?e.jsx(ie,{className:"py-0",children:e.jsxs(ne,{className:"text-center py-12",children:[e.jsx(Tm,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:n?"  ":"No products found"}),e.jsxs(q,{onClick:he,children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),n?"  ":"Add First Product"]})]})}):z==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:H.map(V=>e.jsx(ie,{className:"group hover:shadow-lg transition-shadow py-0 h-full flex flex-col",children:e.jsxs(ne,{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-lg mb-4 overflow-hidden",children:[V.image?e.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(Tm,{className:"h-8 w-8"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(Se,{variant:V.is_active?"default":"secondary",className:"text-xs",children:V.is_active?n?"":"Active":n?" ":"Inactive"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-1",children:n&&V.name_ar||V.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:oe(V.category_id)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:V.is_on_sale&&V.sale_price_omr&&V.sale_price_omr<V.price_omr?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold text-lg text-red-600",children:s(V.sale_price_omr)}),e.jsx("p",{className:"text-xs text-muted-foreground line-through",children:s(V.price_omr)})]}):e.jsx("p",{className:"font-semibold text-lg",children:s(V.price_omr)})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n?":":"Stock:"," ",V.stock_quantity||V.stock||0]}),V.sku&&e.jsx("p",{className:"text-xs text-muted-foreground",children:V.sku})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:ce(V).map((K,ye)=>e.jsx("span",{className:`text-xs px-2 py-0.5 rounded text-white ${K.color}`,children:K.text},ye))})]}),e.jsxs("div",{className:"flex gap-1 mt-auto pt-4 opacity-100",children:[e.jsx(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>Y(V),children:e.jsx($t,{className:"h-3 w-3"})}),e.jsx(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>W(V),children:e.jsx(Ys,{className:"h-3 w-3"})}),e.jsx(q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ue(V),children:e.jsx(Vx,{className:"h-3 w-3"})}),e.jsx(q,{variant:"destructive",size:"sm",onClick:()=>X(V),children:e.jsx(Zt,{className:"h-3 w-3"})})]})]})},V.id))}):e.jsx("div",{className:"space-y-4",children:H.map(V=>e.jsx(ie,{className:"hover:shadow-lg transition-shadow py-0",children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 aspect-square bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-lg overflow-hidden flex-shrink-0",children:V.image?e.jsx("img",{src:V.image,alt:V.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(Tm,{className:"h-6 w-6"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-base truncate",children:n&&V.name_ar||V.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:oe(V.category_id)}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Se,{variant:V.is_active?"default":"secondary",className:"text-xs",children:V.is_active?n?"":"Active":n?" ":"Inactive"}),ce(V).map((K,ye)=>e.jsx("span",{className:`text-xs px-2 py-0.5 rounded text-white ${K.color}`,children:K.text},ye))]})]}),e.jsxs("div",{className:"text-right ml-4",children:[V.is_on_sale&&V.sale_price_omr&&V.sale_price_omr<V.price_omr?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold text-lg text-red-600",children:s(V.sale_price_omr)}),e.jsx("p",{className:"text-sm text-muted-foreground line-through",children:s(V.price_omr)})]}):e.jsx("p",{className:"font-semibold text-lg",children:s(V.price_omr)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n?":":"Stock:"," ",V.stock_quantity||V.stock||0]}),V.sku&&e.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:V.sku})]}),e.jsxs("div",{className:"flex gap-1 ml-4",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>Y(V),children:e.jsx($t,{className:"h-4 w-4"})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>W(V),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>ue(V),children:e.jsx(Vx,{className:"h-4 w-4"})}),e.jsx(q,{variant:"destructive",size:"sm",onClick:()=>X(V),children:e.jsx(Zt,{className:"h-4 w-4"})})]})]})})]})})},V.id))}),e.jsx(Pt,{open:h,onOpenChange:p,children:e.jsxs(zt,{className:"max-w-lg w-[95vw]",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:n?" ":"Confirm Delete"}),e.jsx(ps,{children:n?`      "${E?.name}"      .`:`Are you sure you want to delete the product "${E?.name}"? This action cannot be undone.`})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>p(!1),children:n?"":"Cancel"}),e.jsx(q,{variant:"destructive",onClick:B,disabled:S,children:S?n?" ...":"Deleting...":n?"":"Delete"})]})]})}),e.jsx(Pt,{open:v,onOpenChange:U,children:e.jsxs(zt,{className:"max-w-4xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsx(Jt,{children:e.jsx(ea,{children:n?" ":"Product Details"})}),C&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-muted",children:e.jsx("img",{src:C.image||C.image_url||"/placeholder.jpg",alt:C.name,className:"w-full h-full object-cover"})}),C.gallery&&C.gallery.length>0&&e.jsx("div",{className:"mt-2 grid grid-cols-4 gap-2",children:C.gallery.slice(0,4).map((V,K)=>e.jsx("div",{className:"aspect-square overflow-hidden rounded",children:e.jsx("img",{src:V,alt:`Gallery ${K+1}`,className:"w-full h-full object-cover"})},K))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-xl font-bold",children:n&&C.name_ar||C.name}),e.jsx("p",{className:"text-muted-foreground",children:oe(C.category_id)}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-2xl font-bold",children:s(C.price_omr)}),C.is_on_sale&&C.sale_price_omr&&e.jsxs("p",{className:"text-lg text-red-600 font-semibold",children:[n?" : ":"Sale Price: ",s(C.sale_price_omr)]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:ce(C).map((V,K)=>e.jsx("span",{className:`text-xs px-2 py-0.5 rounded text-white ${V.color}`,children:V.text},K))})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:n?" ":"Inventory Information"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Current Stock:"}),e.jsx("p",{className:"text-lg font-bold",children:C.stock_quantity||C.stock||0})]}),C.sku&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"SKU:"}),e.jsx("p",{className:"font-mono",children:C.sku})]}),(C.weight||C.weight_grams)&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?":":"Weight:"}),e.jsx("p",{children:C.weight_grams?`${C.weight_grams}g`:`${C.weight}kg`})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?":":"Status:"}),e.jsx("p",{className:C.is_active?"text-green-600":"text-red-600",children:C.is_active?n?"":"Active":n?" ":"Inactive"})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:n?" ":"Coffee Properties"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[C.bean_type&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Bean Type:"}),e.jsx("p",{children:C.bean_type})]}),C.roast_level&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Roast Level:"}),e.jsx("p",{children:C.roast_level})]}),C.processing_method&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Processing Method:"}),e.jsx("p",{children:C.processing_method})]}),C.altitude&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?":":"Altitude:"}),e.jsx("p",{children:C.altitude})]}),C.harvest_year&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Harvest Year:"}),e.jsx("p",{children:C.harvest_year})]}),C.caffeine_content&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Caffeine Content:"}),e.jsx("p",{children:C.caffeine_content})]}),C.variety&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?":":"Variety:"}),e.jsx("p",{children:C.variety})]}),C.farm&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?":":"Farm:"}),e.jsx("p",{children:C.farm})]})]})]}),(C.grind_options?.length||C.package_size?.length)&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:n?" ":"Product Options"}),e.jsxs("div",{className:"space-y-3",children:[C.grind_options&&C.grind_options.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Grind Options:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.grind_options.map((V,K)=>e.jsx("span",{className:"px-2 py-1 bg-muted rounded text-xs",children:V},K))})]}),C.package_size&&C.package_size.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" :":"Package Sizes:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.package_size.map((V,K)=>e.jsx("span",{className:"px-2 py-1 bg-muted rounded text-xs",children:V},K))})]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:n?" ":"Pricing Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" ( ):":"Price (OMR):"}),e.jsx("p",{className:"text-lg font-bold",children:s(C.price_omr)})]}),C.price_usd&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" ():":"Price (USD):"}),e.jsxs("p",{className:"text-lg font-bold",children:["$",C.price_usd]})]}),C.price_sar&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?" ( ):":"Price (SAR):"}),e.jsxs("p",{className:"text-lg font-bold",children:[C.price_sar," SAR"]})]}),C.sale_price_omr&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-muted-foreground",children:n?"  ( ):":"Sale Price (OMR):"}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:s(C.sale_price_omr)})]})]})]}),C.properties&&C.properties.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:n?"  ":"Advanced Product Properties"}),e.jsx("div",{className:"space-y-3",children:C.properties.map((V,K)=>e.jsxs("div",{className:"border-l-2 border-muted pl-3",children:[e.jsx("span",{className:"font-semibold text-sm",children:n&&V.name_ar||V.name}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[n?":":"Type:"," ",V.type," |",V.required?n?" ":" Required":n?" ":" Optional"," |",V.affects_price?n?"   ":" Affects Price":""]}),V.options&&V.options.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:V.options.map((ye,me)=>e.jsxs("span",{className:"px-2 py-1 bg-muted rounded text-xs",children:[n&&ye.label_ar||ye.label,ye.price_omr&&` (+${xr(ye.price_omr,"OMR",n)})`,ye.stock&&` (${ye.stock} ${n?"":"units"})`]},me))})]},K))})]})]})]})})]})}function ad({className:i,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:_e("w-full caption-bottom text-sm",i),...s})})}function sd({className:i,...s}){return e.jsx("thead",{"data-slot":"table-header",className:_e("[&_tr]:border-b",i),...s})}function rd({className:i,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:_e("[&_tr:last-child]:border-0",i),...s})}function ei({className:i,...s}){return e.jsx("tr",{"data-slot":"table-row",className:_e("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",i),...s})}function Kt({className:i,...s}){return e.jsx("th",{"data-slot":"table-head",className:_e("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),...s})}function Xt({className:i,...s}){return e.jsx("td",{"data-slot":"table-cell",className:_e("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",i),...s})}function F4(){const{i18n:i}=Me(),[s,n]=_.useState([]),[o,u]=_.useState([]),[c,m]=_.useState(!0),[g,x]=_.useState(null),[j,y]=_.useState(!1),[w,A]=_.useState(!1),h=i.language==="ar",p=async()=>{try{m(!0);const L=await we.reviews.list();n(L.items)}catch(L){console.error("Error loading reviews:",L),te.error(h?"   ":"Error loading reviews"),n([])}finally{m(!1)}};_.useEffect(()=>{p(),E()},[]);const E=async()=>{try{const L=await we.products.list();u(L.items)}catch(L){console.error("Error loading products:",L)}},b=L=>{const T=o.find(O=>O.id===L);return T?h&&T.name_ar||T.name:L},v=async L=>{try{await we.reviews.update(L,{is_approved:!0}),n(T=>T.map(O=>O.id===L?{...O,is_approved:!0}:O)),te.success(h?"  ":"Review approved")}catch(T){console.error("Error approving review:",T),te.error(h?"   ":"Error approving review")}},U=async L=>{try{await we.reviews.update(L,{is_approved:!1}),n(T=>T.map(O=>O.id===L?{...O,is_approved:!1}:O)),te.success(h?"  ":"Review rejected")}catch(T){console.error("Error rejecting review:",T),te.error(h?"   ":"Error rejecting review")}},C=async()=>{if(g)try{await we.reviews.delete(g.id),n(L=>L.filter(T=>T.id!==g.id)),A(!1),x(null),te.success(h?"  ":"Review deleted")}catch(L){console.error("Error deleting review:",L),te.error(h?"   ":"Error deleting review")}},R=L=>{const T=new Date(L);return new Intl.DateTimeFormat(h?"ar-SA":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(T)},S=L=>Array.from({length:5}).map((T,O)=>e.jsx(Hs,{className:`h-4 w-4 ${O<L?"text-yellow-400 fill-current":"text-gray-300"}`},O)),N=s.filter(L=>!L.is_approved),z=s.filter(L=>L.is_approved);return c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-muted-foreground",children:h?"  ...":"Loading reviews..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:h?" ":"Review Management"}),e.jsx("p",{className:"text-muted-foreground",children:h?"    ":"Approve or reject customer reviews"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:h?"  ":"Pending Approval"}),e.jsx(St,{className:"h-4 w-4 text-orange-500"})]}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:N.length})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:h?"":"Approved"}),e.jsx(rh,{className:"h-4 w-4 text-green-500"})]}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:z.length})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:h?" ":"Total Reviews"}),e.jsx(Hs,{className:"h-4 w-4 text-yellow-500"})]}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold",children:s.length})})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:h?" ":"All Reviews"}),e.jsx(Ce,{children:h?"   ":"Manage and approve customer reviews"})]}),e.jsx(ne,{children:s.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:h?"  ":"No reviews found"}):e.jsxs(ad,{children:[e.jsx(sd,{children:e.jsxs(ei,{children:[e.jsx(Kt,{children:h?"":"Product"}),e.jsx(Kt,{children:h?"":"Customer"}),e.jsx(Kt,{children:h?"":"Rating"}),e.jsx(Kt,{children:h?"":"Title"}),e.jsx(Kt,{children:h?"":"Status"}),e.jsx(Kt,{children:h?"":"Date"}),e.jsx(Kt,{children:h?"":"Actions"})]})}),e.jsx(rd,{children:s.map(L=>e.jsxs(ei,{children:[e.jsx(Xt,{className:"font-medium",children:b(L.product_id)}),e.jsx(Xt,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:L.user?.full_name||"Unknown User"}),L.is_verified_purchase&&e.jsx(Se,{variant:"secondary",className:"text-xs mt-1",children:h?" ":"Verified Purchase"})]})}),e.jsx(Xt,{children:e.jsx("div",{className:"flex items-center gap-1",children:S(L.rating)})}),e.jsx(Xt,{children:e.jsx("p",{className:"line-clamp-2",children:L.title})}),e.jsx(Xt,{children:e.jsx(Se,{variant:L.is_approved?"default":"secondary",className:L.is_approved?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800",children:L.is_approved?h?"":"Approved":h?" ":"Pending"})}),e.jsx(Xt,{children:R(L.created_at)}),e.jsx(Xt,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{x(L),y(!0)},children:e.jsx($t,{className:"h-4 w-4"})}),!L.is_approved&&e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>v(L.id),className:"text-green-600 hover:text-green-700",children:e.jsx(rh,{className:"h-4 w-4"})}),L.is_approved&&e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>U(L.id),className:"text-orange-600 hover:text-orange-700",children:e.jsx(St,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{x(L),A(!0)},className:"text-red-600 hover:text-red-700",children:e.jsx(Zt,{className:"h-4 w-4"})})]})})]},L.id))})]})})]}),e.jsx(Pt,{open:j,onOpenChange:y,children:e.jsxs(zt,{className:"max-w-2xl w-[95vw]",children:[e.jsx(Jt,{children:e.jsx(ea,{children:h?" ":"Review Details"})}),g&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:h?":":"Product:"}),e.jsx("p",{children:b(g.product_id)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:h?":":"Customer:"}),e.jsxs("p",{children:[g.user?.full_name||"Unknown User"," (",g.user?.email||"No email",")"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:h?":":"Rating:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[S(g.rating),e.jsxs("span",{className:"ml-2",children:["(",g.rating,"/5)"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:h?":":"Title:"}),e.jsx("p",{children:g.title})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:h?" :":"Review Text:"}),e.jsx("p",{className:"text-muted-foreground",children:g.review_text})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[h?" :":"Created:"," ",R(g.created_at)]}),g.is_verified_purchase&&e.jsx(Se,{variant:"secondary",children:h?" ":"Verified Purchase"})]})]}),e.jsx(fs,{children:e.jsx(q,{variant:"outline",onClick:()=>y(!1),children:h?"":"Close"})})]})}),e.jsx(Pt,{open:w,onOpenChange:A,children:e.jsxs(zt,{className:"max-w-lg w-[95vw]",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:h?" ":"Delete Review"}),e.jsx(ps,{children:h?"              .":"Are you sure you want to delete this review? This action cannot be undone."})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>A(!1),children:h?"":"Cancel"}),e.jsx(q,{variant:"destructive",onClick:C,children:h?"":"Delete"})]})]})})]})}var Uj="AlertDialog",[H4,BE]=ni(Uj,[dy]),Nr=dy(),Bj=i=>{const{__scopeAlertDialog:s,...n}=i,o=Nr(s);return e.jsx(kh,{...o,...n,modal:!0})};Bj.displayName=Uj;var q4="AlertDialogTrigger",$4=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,u=Nr(n);return e.jsx(Ah,{...u,...o,ref:s})});$4.displayName=q4;var V4="AlertDialogPortal",Fj=i=>{const{__scopeAlertDialog:s,...n}=i,o=Nr(s);return e.jsx(Dh,{...o,...n})};Fj.displayName=V4;var G4="AlertDialogOverlay",Hj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,u=Nr(n);return e.jsx(Oh,{...u,...o,ref:s})});Hj.displayName=G4;var Un="AlertDialogContent",[Y4,W4]=H4(Un),Q4=iN("AlertDialogContent"),qj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,children:o,...u}=i,c=Nr(n),m=_.useRef(null),g=pa(s,m),x=_.useRef(null);return e.jsx(rN,{contentName:Un,titleName:$j,docsSlug:"alert-dialog",children:e.jsx(Y4,{scope:n,cancelRef:x,children:e.jsxs(Eh,{role:"alertdialog",...c,...u,ref:g,onOpenAutoFocus:Ct(u.onOpenAutoFocus,j=>{j.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:j=>j.preventDefault(),onInteractOutside:j=>j.preventDefault(),children:[e.jsx(Q4,{children:o}),e.jsx(X4,{contentRef:m})]})})})});qj.displayName=Un;var $j="AlertDialogTitle",Vj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,u=Nr(n);return e.jsx(Th,{...u,...o,ref:s})});Vj.displayName=$j;var Gj="AlertDialogDescription",Yj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,u=Nr(n);return e.jsx(Qv,{...u,...o,ref:s})});Yj.displayName=Gj;var K4="AlertDialogAction",Wj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,u=Nr(n);return e.jsx(ld,{...u,...o,ref:s})});Wj.displayName=K4;var Qj="AlertDialogCancel",Kj=_.forwardRef((i,s)=>{const{__scopeAlertDialog:n,...o}=i,{cancelRef:u}=W4(Qj,n),c=Nr(n),m=pa(s,u);return e.jsx(ld,{...c,...o,ref:m})});Kj.displayName=Qj;var X4=({contentRef:i})=>{const s=`\`${Un}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Un}\` by passing a \`${Gj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Un}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(i.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,i]),null},Z4=Bj,J4=Fj,Xj=Hj,Zj=qj,Jj=Wj,e_=Kj,t_=Vj,a_=Yj;const eE=Z4,tE=J4,s_=_.forwardRef(({className:i,...s},n)=>e.jsx(Xj,{className:_e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...s,ref:n}));s_.displayName=Xj.displayName;const r_=_.forwardRef(({className:i,...s},n)=>e.jsxs(tE,{children:[e.jsx(s_,{}),e.jsx(Zj,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...s})]}));r_.displayName=Zj.displayName;const i_=({className:i,...s})=>e.jsx("div",{className:_e("flex flex-col space-y-2 text-center sm:text-left",i),...s});i_.displayName="AlertDialogHeader";const n_=({className:i,...s})=>e.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",i),...s});n_.displayName="AlertDialogFooter";const l_=_.forwardRef(({className:i,...s},n)=>e.jsx(t_,{ref:n,className:_e("text-lg font-semibold",i),...s}));l_.displayName=t_.displayName;const o_=_.forwardRef(({className:i,...s},n)=>e.jsx(a_,{ref:n,className:_e("text-sm text-muted-foreground",i),...s}));o_.displayName=a_.displayName;const c_=_.forwardRef(({className:i,...s},n)=>e.jsx(Jj,{ref:n,className:_e(Wh(),i),...s}));c_.displayName=Jj.displayName;const d_=_.forwardRef(({className:i,...s},n)=>e.jsx(e_,{ref:n,className:_e(Wh({variant:"outline"}),"mt-2 sm:mt-0",i),...s}));d_.displayName=e_.displayName;function aE(){const{i18n:i}=Me(),{refreshCount:s}=Zh(),n=i.language==="ar",[o,u]=_.useState([]),[c,m]=_.useState(!0),[g,x]=_.useState(null),[j,y]=_.useState(!1),[w,A]=_.useState(!1),[h,p]=_.useState("all"),[E,b]=_.useState("all"),[v,U]=_.useState(""),[C,R]=_.useState("all"),[S,N]=_.useState("confirmed"),[z,L]=_.useState(""),[T,O]=_.useState(""),[I,H]=_.useState(!1),W=async()=>{try{m(!0);const Y=await we.orders.list(),oe=await Promise.all(Y.items.map(async ce=>{const V=await we.orderItems.getByOrder(ce.id);return{...ce,items:V.items||[]}}));u(oe)}catch(Y){console.error("Error fetching orders:",Y),te.error(n?"   ":"Failed to load orders")}finally{m(!1)}};_.useEffect(()=>{W()},[]);const he=o.filter(Y=>{if(h!=="all"&&Y.status!==h||E!=="all"&&Y.payment_status!==E)return!1;if(v){const oe=v.toLowerCase();if(!(Y.order_number.toLowerCase().includes(oe)||Y.customer_name?.toLowerCase().includes(oe)||Y.customer_email?.toLowerCase().includes(oe)||Y.customer_phone?.toLowerCase().includes(oe)))return!1}if(C!=="all"){const oe=new Date(Y.created_at),ce=new Date,V=new Date(ce.getFullYear(),ce.getMonth(),ce.getDate());switch(C){case"today":if(oe<V)return!1;break;case"week":const K=new Date(ce.getTime()-7*24*60*60*1e3);if(oe<K)return!1;break;case"month":const ye=new Date(ce.getTime()-30*24*60*60*1e3);if(oe<ye)return!1;break}}return!0}),ee=Y=>{switch(Y){case"pending":return e.jsxs(Se,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:[e.jsx(ti,{className:"w-3 h-3 mr-1"}),n?" ":"Pending"]});case"confirmed":return e.jsxs(Se,{variant:"secondary",className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[e.jsx(Ca,{className:"w-3 h-3 mr-1"}),n?"":"Confirmed"]});case"preparing":return e.jsxs(Se,{variant:"secondary",className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:[e.jsx(Vs,{className:"w-3 h-3 mr-1"}),n?" ":"Preparing"]});case"shipped":return e.jsxs(Se,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",children:[e.jsx(Gx,{className:"w-3 h-3 mr-1"}),n?" ":"Shipped"]});case"delivered":return e.jsxs(Se,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx(Ca,{className:"w-3 h-3 mr-1"}),n?" ":"Delivered"]});case"cancelled":return e.jsxs(Se,{variant:"destructive",children:[e.jsx(Mn,{className:"w-3 h-3 mr-1"}),n?"":"Cancelled"]});default:return e.jsx(Se,{variant:"secondary",children:Y})}},k=Y=>{switch(Y){case"paid":return e.jsxs(Se,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[e.jsx(my,{className:"w-3 h-3 mr-1"}),n?"":"Paid"]});case"unpaid":return e.jsxs(Se,{variant:"destructive",children:[e.jsx(Mn,{className:"w-3 h-3 mr-1"}),n?" ":"Unpaid"]});case"partially_paid":return e.jsxs(Se,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:[e.jsx(id,{className:"w-3 h-3 mr-1"}),n?" ":"Partially Paid"]});case"refunded":return e.jsxs(Se,{variant:"secondary",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",children:[e.jsx(na,{className:"w-3 h-3 mr-1"}),n?"":"Refunded"]});case"failed":return e.jsxs(Se,{variant:"destructive",children:[e.jsx(Mn,{className:"w-3 h-3 mr-1"}),n?"":"Failed"]});default:return e.jsx(Se,{variant:"secondary",children:Y})}},B=async()=>{if(g)try{H(!0);const Y={status:S,updated_at:new Date().toISOString()};S==="shipped"&&z&&(Y.tracking_number=z,Y.shipped_at=new Date().toISOString()),await we.orders.update(g.id,Y)?(te.success(n?"    ":"Order status updated successfully"),y(!1),x(null),L(""),O(""),await W(),await s()):te.error(n?"   ":"Failed to update order")}catch(Y){console.error("Error updating order:",Y),te.error(n?"   ":"Error updating order")}finally{H(!1)}},F=async()=>{if(g)try{H(!0),await we.orders.update(g.id,{status:"cancelled",updated_at:new Date().toISOString()})?(te.success(n?"   ":"Order cancelled successfully"),A(!1),x(null),await W(),await s()):te.error(n?"   ":"Failed to cancel order")}catch(Y){console.error("Error cancelling order:",Y),te.error(n?"   ":"Error cancelling order")}finally{H(!1)}},ue=Y=>{switch(Y.currency){case"OMR":return`${Y.total_omr?.toFixed(3)} OMR`;case"SAR":return`${Y.total_sar?.toFixed(2)} SAR`;case"USD":return`$${Y.total_usd?.toFixed(2)}`;default:return"N/A"}},X=Y=>{const oe=Y.shipping_method||"standard";switch(oe){case"nool_oman":return n?"  -  ":"Nool Oman - Local Delivery";case"dhl":return n?"DHL -  ":"DHL - Express Shipping";default:return oe||(n?" ":"Not specified")}};return c?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(ua,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:n?"  ...":"Loading orders..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:n?" ":"Order Management"}),e.jsx("p",{className:"text-muted-foreground",children:n?"    ":"Manage and track all customer orders"})]}),e.jsxs(q,{onClick:W,variant:"outline",children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),n?"":"Refresh"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(ie,{children:[e.jsx(ge,{className:"pb-2",children:e.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:n?" ":"Total Orders"})}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold",children:o.length})})]}),e.jsxs(ie,{children:[e.jsx(ge,{className:"pb-2",children:e.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:n?" ":"Pending"})}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:o.filter(Y=>Y.payment_status==="paid"&&(Y.status==="confirmed"||Y.status==="preparing")).length})})]}),e.jsxs(ie,{children:[e.jsx(ge,{className:"pb-2",children:e.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:n?" ":"Shipped"})}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.filter(Y=>Y.status==="shipped").length})})]}),e.jsxs(ie,{children:[e.jsx(ge,{className:"pb-2",children:e.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:n?"":"Completed"})}),e.jsx(ne,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.filter(Y=>Y.status==="delivered").length})})]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{className:"text-lg",children:n?" ":"Search & Filters"})}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?"":"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Bi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:n?"    ...":"Order number, name, email...",value:v,onChange:Y=>U(Y.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?" ":"Order Status"}),e.jsxs(Ue,{value:h,onValueChange:Y=>p(Y),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"all",children:n?" ":"All Status"}),e.jsx(Q,{value:"pending",children:n?" ":"Pending"}),e.jsx(Q,{value:"confirmed",children:n?"":"Confirmed"}),e.jsx(Q,{value:"preparing",children:n?" ":"Preparing"}),e.jsx(Q,{value:"shipped",children:n?" ":"Shipped"}),e.jsx(Q,{value:"delivered",children:n?" ":"Delivered"}),e.jsx(Q,{value:"cancelled",children:n?"":"Cancelled"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?" ":"Payment Status"}),e.jsxs(Ue,{value:E,onValueChange:Y=>b(Y),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"all",children:n?"  ":"All Payment Status"}),e.jsx(Q,{value:"paid",children:n?"":"Paid"}),e.jsx(Q,{value:"unpaid",children:n?" ":"Unpaid"}),e.jsx(Q,{value:"partially_paid",children:n?" ":"Partially Paid"}),e.jsx(Q,{value:"refunded",children:n?"":"Refunded"}),e.jsx(Q,{value:"failed",children:n?"":"Failed"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?"":"Date"}),e.jsxs(Ue,{value:C,onValueChange:Y=>R(Y),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"all",children:n?" ":"All Dates"}),e.jsx(Q,{value:"today",children:n?"":"Today"}),e.jsx(Q,{value:"week",children:n?" ":"This Week"}),e.jsx(Q,{value:"month",children:n?" ":"This Month"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(q,{variant:"outline",onClick:()=>{p("all"),b("all"),U(""),R("all")},className:"w-full",children:[e.jsx(cy,{className:"h-4 w-4 mr-2"}),n?" ":"Clear Filters"]})})]})})]}),e.jsx("div",{className:"space-y-4",children:he.length===0?e.jsx(ie,{children:e.jsxs(ne,{className:"py-12 text-center",children:[e.jsx(Bn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"  ":"No orders found"}),e.jsx("p",{className:"text-muted-foreground",children:n?"       ":"No orders match the selected criteria"})]})}):he.map(Y=>e.jsx(ie,{className:"hover:shadow-md transition-shadow",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:["#",Y.order_number]}),e.jsxs("div",{className:"flex gap-2",children:[ee(Y.status),k(Y.payment_status)]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Y.customer_name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Y.customer_email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:Y.customer_phone})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uy,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:new Date(Y.created_at).toLocaleDateString(n?"ar-AE":"en-US")})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium",children:n?" ":"Shipping Info"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gx,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs",children:X(Y)})]}),Y.shipping_address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ai,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{children:Y.shipping_address.recipient_name}),e.jsx("p",{children:Y.shipping_address.full_address}),e.jsxs("p",{children:[Y.shipping_address.city,", ",Y.shipping_address.country]})]})]}),Y.tracking_number&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-mono",children:Y.tracking_number})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:ue(Y)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y.items.length," ",n?"":"items"]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>{x(Y),y(!0),N(Y.status)},className:"w-full",children:[e.jsx(nN,{className:"h-4 w-4 mr-2"}),n?" ":"Update Status"]}),(Y.status==="pending"||Y.status==="confirmed")&&e.jsxs(q,{variant:"destructive",size:"sm",onClick:()=>{x(Y),A(!0)},className:"w-full",children:[e.jsx(Mn,{className:"h-4 w-4 mr-2"}),n?" ":"Cancel Order"]})]})]})]}),Y.items.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("h5",{className:"font-medium mb-2",children:n?"":"Products"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[Y.items.slice(0,3).map((oe,ce)=>e.jsxs("div",{className:"text-sm bg-muted p-2 rounded",children:[e.jsx("div",{className:"font-medium truncate",children:oe.product_name}),e.jsxs("div",{className:"text-muted-foreground",children:[n?":":"Qty:"," ",oe.quantity,"  ",oe.unit_price_omr?`${oe.unit_price_omr} OMR`:`$${oe.unit_price_usd}`]})]},ce)),Y.items.length>3&&e.jsxs("div",{className:"text-sm text-muted-foreground p-2",children:["+",Y.items.length-3," ",n?" ":"more items"]})]})]})]})},Y.id))}),e.jsx(Pt,{open:j,onOpenChange:y,children:e.jsxs(zt,{className:"sm:max-w-md",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:n?"  ":"Update Order Status"}),e.jsx(ps,{children:g&&`#${g.order_number}`})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?" ":"New Status"}),e.jsxs(Ue,{value:S,onValueChange:Y=>N(Y),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"confirmed",children:n?"":"Confirmed"}),e.jsx(Q,{value:"preparing",children:n?" ":"Preparing"}),e.jsx(Q,{value:"shipped",children:n?" ":"Shipped"}),e.jsx(Q,{value:"delivered",children:n?" ":"Delivered"})]})]})]}),S==="shipped"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?" ":"Tracking Number"}),e.jsx($,{value:z,onChange:Y=>L(Y.target.value),placeholder:n?"  ":"Enter tracking number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:n?" ":"Shipping Notes"}),e.jsx(ct,{value:T,onChange:Y=>O(Y.target.value),placeholder:n?" ...":"Additional notes...",rows:3})]})]})]}),e.jsxs(fs,{children:[e.jsx(q,{variant:"outline",onClick:()=>y(!1),children:n?"":"Cancel"}),e.jsx(q,{onClick:B,disabled:I,children:I?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"h-4 w-4 animate-spin mr-2"}),n?" ...":"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(lN,{className:"h-4 w-4 mr-2"}),n?"":"Update"]})})]})]})}),e.jsx(eE,{open:w,onOpenChange:A,children:e.jsxs(r_,{children:[e.jsxs(i_,{children:[e.jsx(l_,{children:n?" ":"Cancel Order"}),e.jsx(o_,{children:n?`      #${g?.order_number}      .`:`Are you sure you want to cancel order #${g?.order_number}? This action cannot be undone.`})]}),e.jsxs(n_,{children:[e.jsx(d_,{children:n?"  ":"No, keep order"}),e.jsx(c_,{onClick:F,disabled:I,children:I?e.jsxs(e.Fragment,{children:[e.jsx(ua,{className:"h-4 w-4 animate-spin mr-2"}),n?" ...":"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Mn,{className:"h-4 w-4 mr-2"}),n?"  ":"Yes, cancel order"]})})]})]})})]})}function sE(){const{i18n:i}=Me(),{formatPrice:s}=Fa(),n=i.language==="ar",[o,u]=_.useState({totalRevenue:0,totalOrders:0,totalProducts:0,totalUsers:0,lowStockProducts:[],topSellingProducts:[],recentOrders:[],monthlyRevenue:[],ordersByStatus:{}}),[c,m]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{m(!0);const j=(await we.orders.list()).items,w=(await we.products.list()).items,h=(await we.users.list()).items,p=j.reduce((z,L)=>z+(L.total_price_omr||L.total_price_usd||L.total_price_sar||0),0),E=j.length,b=w.length,v=h.length,U=w.filter(z=>(z.stock_quantity||z.stock||0)<10),C=j.reduce((z,L)=>(z[L.status]=(z[L.status]||0)+1,z),{}),R=j.sort((z,L)=>new Date(L.created_at||L.created||"").getTime()-new Date(z.created_at||z.created||"").getTime()).slice(0,10),S=Array.from({length:12},(z,L)=>j.filter(O=>new Date(O.created_at||O.created||"").getMonth()===L).reduce((O,I)=>O+(I.total_price_omr||I.total_price_usd||I.total_price_sar||0),0)),N=w.slice(0,5).map(z=>({product:z,salesCount:Math.floor(Math.random()*100)+1})).sort((z,L)=>L.salesCount-z.salesCount);u({totalRevenue:p,totalOrders:E,totalProducts:b,totalUsers:v,lowStockProducts:U,topSellingProducts:N,recentOrders:R,monthlyRevenue:S,ordersByStatus:C})}catch(x){console.error("Error loading analytics data:",x),te.error(n?"    ":"Error loading analytics data")}finally{m(!1)}})()},[n]),c?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((g,x)=>e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-4 w-4 bg-muted rounded animate-pulse"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2 animate-pulse"}),e.jsx("div",{className:"h-3 bg-muted rounded w-20 animate-pulse"})]})]},x))})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:n?" ":"Total Revenue"}),e.jsx(id,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s(o.totalRevenue)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx(Wc,{className:"h-3 w-3 inline mr-1 text-green-500"}),n?"  ":"Growth this month"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:n?" ":"Total Orders"}),e.jsx(Bn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalOrders}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?" ":"New orders"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:n?"":"Products"}),e.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalProducts}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o.lowStockProducts.length>0&&e.jsxs(e.Fragment,{children:[e.jsx($s,{className:"h-3 w-3 inline mr-1 text-orange-500"}),o.lowStockProducts.length," ",n?" ":"low stock"]})})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:n?"":"Users"}),e.jsx(go,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:o.totalUsers}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?" ":"Active users"})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(oN,{className:"h-5 w-5"}),n?"  ":"Order Status Distribution"]})}),e.jsx(ne,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(o.ordersByStatus).map(([g,x])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:g}),e.jsx("span",{className:"text-sm text-muted-foreground",children:x})]}),e.jsx(Hn,{value:x/o.totalOrders*100,className:"h-2"})]},g))})})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx($s,{className:"h-5 w-5 text-orange-500"}),n?"  ":"Low Stock Alert"]})}),e.jsx(ne,{children:o.lowStockProducts.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:n?"   ":"All products are in stock"}):e.jsx("div",{className:"space-y-4",children:o.lowStockProducts.slice(0,5).map(g=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:n&&g.name_ar||g.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n?":":"Remaining:"," ",g.stock_quantity||g.stock||0]})]}),e.jsx(Se,{variant:"destructive",className:"text-xs",children:n?" ":"Low Stock"})]},g.id))})})]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{children:n?"  ":"Top Selling Products"})}),e.jsx(ne,{children:e.jsxs(ad,{children:[e.jsx(sd,{children:e.jsxs(ei,{children:[e.jsx(Kt,{children:n?"":"Product"}),e.jsx(Kt,{children:n?"":"Sales"}),e.jsx(Kt,{children:n?"":"Stock"}),e.jsx(Kt,{children:n?"":"Price"})]})}),e.jsx(rd,{children:o.topSellingProducts.map(({product:g,salesCount:x})=>e.jsxs(ei,{children:[e.jsx(Xt,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n&&g.name_ar||g.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",g.sku||g.id]})]})}),e.jsx(Xt,{children:e.jsx(Se,{variant:"secondary",children:x})}),e.jsx(Xt,{children:e.jsx("span",{className:`${(g.stock_quantity||g.stock||0)<10?"text-orange-500":""}`,children:g.stock_quantity||g.stock||0})}),e.jsx(Xt,{children:s(g.price_omr||g.price_usd||g.price_sar||0)})]},g.id))})]})})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{children:n?" ":"Recent Orders"})}),e.jsx(ne,{children:e.jsxs(ad,{children:[e.jsx(sd,{children:e.jsxs(ei,{children:[e.jsx(Kt,{children:n?" ":"Order #"}),e.jsx(Kt,{children:n?"":"Customer"}),e.jsx(Kt,{children:n?"":"Status"}),e.jsx(Kt,{children:n?"":"Total"}),e.jsx(Kt,{children:n?"":"Date"})]})}),e.jsx(rd,{children:o.recentOrders.map(g=>e.jsxs(ei,{children:[e.jsx(Xt,{className:"font-mono text-sm",children:g.order_number}),e.jsx(Xt,{children:g.customer_name}),e.jsx(Xt,{children:e.jsx(Se,{variant:g.status==="delivered"?"default":g.status==="shipped"?"secondary":g.status==="cancelled"?"destructive":"outline",children:g.status})}),e.jsx(Xt,{children:s(g.total_price_omr||g.total_price_usd||g.total_price_sar||0)}),e.jsx(Xt,{children:new Date(g.created_at||g.created||"").toLocaleDateString()})]},g.id))})]})})]})]})}function rE(){const{t:i}=Me(),[s,n]=_.useState(null),[o,u]=_.useState(!0),[c,m]=_.useState(!1);_.useEffect(()=>{(async()=>{try{u(!0);const w=await Pa.getFooterSettings();n(w)}catch(w){console.error("Error loading footer settings:",w),We.error(i("common.error"))}finally{u(!1)}})()},[i]);const g=async()=>{try{u(!0);const y=await Pa.getFooterSettings();n(y)}catch(y){console.error("Error loading footer settings:",y),We.error(i("common.error"))}finally{u(!1)}},x=async()=>{if(s)try{m(!0),console.log("FooterManagement - Saving settings:",s),await Pa.updateFooterSettings(s),window.dispatchEvent(new CustomEvent("footer-settings-updated")),localStorage.setItem("footer-settings-updated",Date.now().toString()),We.success(i("dashboard.admin.footerForm.saveChanges"))}catch(y){console.error("Error saving footer settings:",y),We.error(i("common.error"))}finally{m(!1)}},j=(y,w)=>{s&&(console.log("FooterManagement - Updating setting:",y,"to:",w),n({...s,[y]:w}))};return o?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx(ua,{className:"h-8 w-8 animate-spin"})}):s?e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fi,{className:"h-5 w-5"}),e.jsx(pe,{children:i("dashboard.admin.footerSettings")})]}),e.jsx(Ce,{children:i("dashboard.admin.footerSettings")})]}),e.jsxs(ne,{children:[e.jsxs(La,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-6",children:[e.jsxs(Pe,{value:"general",className:"flex items-center space-x-2",children:[e.jsx(mo,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerTabs.general")})]}),e.jsxs(Pe,{value:"contact",className:"flex items-center space-x-2",children:[e.jsx(jr,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerTabs.contact")})]}),e.jsxs(Pe,{value:"social",className:"flex items-center space-x-2",children:[e.jsx(go,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerTabs.social")})]}),e.jsxs(Pe,{value:"hours",className:"flex items-center space-x-2",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerTabs.hours")})]}),e.jsxs(Pe,{value:"video",className:"flex items-center space-x-2",children:[e.jsx(to,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerTabs.video")})]}),e.jsxs(Pe,{value:"colors",className:"flex items-center space-x-2",children:[e.jsx(Qc,{className:"h-4 w-4"}),e.jsx("span",{children:"Color Theme"})]})]}),e.jsxs(ze,{value:"general",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"companyName",children:i("dashboard.admin.footerForm.companyNameEn")}),e.jsx($,{id:"companyName",value:s.companyName,onChange:y=>j("companyName",y.target.value),placeholder:"SpiritHub"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"companyNameAr",children:i("dashboard.admin.footerForm.companyNameAr")}),e.jsx($,{id:"companyNameAr",value:s.companyNameAr,onChange:y=>j("companyNameAr",y.target.value),placeholder:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description",children:i("dashboard.admin.footerForm.descriptionEn")}),e.jsx(da,{value:s.description,onChange:y=>j("description",y),placeholder:"Premium coffee roasted with passion and expertise.",className:"min-h-[120px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"descriptionAr",children:i("dashboard.admin.footerForm.descriptionAr")}),e.jsx(da,{value:s.descriptionAr,onChange:y=>j("descriptionAr",y),placeholder:"    .",className:"min-h-[120px]"})]})]})]}),e.jsxs(ze,{value:"contact",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"address",className:"flex items-center space-x-2",children:[e.jsx(ai,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.addressEn")})]}),e.jsx($,{id:"address",value:s.address,onChange:y=>j("address",y.target.value),placeholder:"Al Mouj Street, Muscat, Oman"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"addressAr",className:"flex items-center space-x-2",children:[e.jsx(ai,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.addressAr")})]}),e.jsx($,{id:"addressAr",value:s.addressAr,onChange:y=>j("addressAr",y.target.value),placeholder:"   "})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"phone",className:"flex items-center space-x-2",children:[e.jsx(jr,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.mainPhone")})]}),e.jsx($,{id:"phone",value:s.phone,onChange:y=>j("phone",y.target.value),placeholder:"+968 9190 0005"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone2",children:i("dashboard.admin.footerForm.secondPhone")}),e.jsx($,{id:"phone2",value:s.phone2||"",onChange:y=>j("phone2",y.target.value),placeholder:"+968 7272 6999"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"email",className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.email")})]}),e.jsx($,{id:"email",type:"email",value:s.email,onChange:y=>j("email",y.target.value),placeholder:"info@spirithubcafe.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"whatsapp",children:i("dashboard.admin.footerForm.whatsapp")}),e.jsx($,{id:"whatsapp",value:s.whatsapp||"",onChange:y=>j("whatsapp",y.target.value),placeholder:"+968 7272 6999"})]})]}),e.jsx(ze,{value:"social",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"instagram",children:i("dashboard.admin.footerForm.instagram")}),e.jsx($,{id:"instagram",value:s.instagram||"",onChange:y=>j("instagram",y.target.value),placeholder:"@spirithubcafe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"facebook",children:i("dashboard.admin.footerForm.facebook")}),e.jsx($,{id:"facebook",value:s.facebook||"",onChange:y=>j("facebook",y.target.value),placeholder:"spirithubcafe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"twitter",children:i("dashboard.admin.footerForm.twitter")}),e.jsx($,{id:"twitter",value:s.twitter||"",onChange:y=>j("twitter",y.target.value),placeholder:"spirithubcafe"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"whatsapp",children:i("dashboard.admin.footerForm.whatsapp")}),e.jsx($,{id:"whatsapp",value:s.whatsapp||"",onChange:y=>j("whatsapp",y.target.value),placeholder:"+968 1234 5678"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"email",className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.email")})]}),e.jsx($,{id:"email",type:"email",value:s.email,onChange:y=>j("email",y.target.value),placeholder:"info@spirithubcafe.com"})]})]})}),e.jsx(ze,{value:"hours",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"workingHours",className:"flex items-center space-x-2",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.workingHoursEn")})]}),e.jsx($,{id:"workingHours",value:s.workingHours,onChange:y=>j("workingHours",y.target.value),placeholder:"Daily: 8 AM - 11 PM"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"workingHoursAr",className:"flex items-center space-x-2",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.workingHoursAr")})]}),e.jsx($,{id:"workingHoursAr",value:s.workingHoursAr,onChange:y=>j("workingHoursAr",y.target.value),placeholder:"  : 8  - 11 "})]})]})}),e.jsx(ze,{value:"video",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center space-x-2",children:[e.jsx(to,{className:"h-5 w-5"}),e.jsx("span",{children:i("dashboard.admin.footerForm.videoSettings")})]}),e.jsx(Ce,{children:i("dashboard.admin.footerForm.videoBlurDescription")})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 bg-black/50 rounded"}),e.jsx("span",{children:i("dashboard.admin.footerForm.enableVideoOverlay")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.enableOverlayDescription")})]}),e.jsx(it,{checked:s.enableVideoOverlay??!0,onCheckedChange:y=>j("enableVideoOverlay",y)})]})}),(s.enableVideoOverlay??!0)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{htmlFor:"videoOverlayOpacity",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 bg-black/50 rounded"}),e.jsx("span",{children:i("dashboard.admin.footerForm.videoOverlayOpacity")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{id:"videoOverlayOpacity",type:"range",min:"0",max:"80",step:"5",value:s.videoOverlayOpacity||30,onChange:y=>j("videoOverlayOpacity",parseInt(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider","aria-label":"Video overlay opacity percentage",title:`Video overlay opacity: ${s.videoOverlayOpacity||30}%`}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"0% (No Overlay)"}),e.jsxs("span",{className:"font-medium",children:[s.videoOverlayOpacity||30,"%"]}),e.jsx("span",{children:"80% (Maximum Overlay)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.videoOverlayDescription")})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx(to,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.enableVideoBlur")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.enableBlurDescription")})]}),e.jsx(it,{checked:s.enableVideoBlur??!0,onCheckedChange:y=>j("enableVideoBlur",y)})]})}),(s.enableVideoBlur??!0)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{htmlFor:"backgroundVideoBlur",className:"flex items-center space-x-2",children:[e.jsx(to,{className:"h-4 w-4"}),e.jsx("span",{children:i("dashboard.admin.footerForm.backgroundVideoBlur")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{id:"backgroundVideoBlur",type:"range",min:"0",max:"100",step:"5",value:s.backgroundVideoBlur||50,onChange:y=>j("backgroundVideoBlur",parseInt(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider","aria-label":"Background video blur percentage",title:`Background video blur: ${s.backgroundVideoBlur||50}%`}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"0% (No Blur)"}),e.jsxs("span",{className:"font-medium",children:[s.backgroundVideoBlur||50,"%"]}),e.jsx("span",{children:"100% (Maximum Blur)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.videoBlurDescription")})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 bg-gradient-to-b from-gray-500 to-gray-700 rounded"}),e.jsx("span",{children:i("dashboard.admin.footerForm.enableGradientOverlay")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.enableGradientDescription")})]}),e.jsx(it,{checked:s.enableGradientOverlay??!1,onCheckedChange:y=>j("enableGradientOverlay",y)})]})}),(s.enableGradientOverlay??!1)&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{htmlFor:"gradientOverlayOpacity",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"h-4 w-4 bg-gradient-to-b from-gray-500 to-gray-700 rounded"}),e.jsx("span",{children:i("dashboard.admin.footerForm.gradientOverlayOpacity")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{id:"gradientOverlayOpacity",type:"range",min:"0",max:"100",step:"5",value:s.gradientOverlayOpacity||80,onChange:y=>j("gradientOverlayOpacity",parseInt(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider","aria-label":"Gradient overlay opacity percentage",title:`Gradient overlay opacity: ${s.gradientOverlayOpacity||80}%`}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"0% (No Gradient)"}),e.jsxs("span",{className:"font-medium",children:[s.gradientOverlayOpacity||80,"%"]}),e.jsx("span",{children:"100% (Maximum Gradient)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dashboard.admin.footerForm.gradientOverlayDescription")})]})]})]})}),e.jsx(ze,{value:"colors",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center space-x-2",children:[e.jsx(Qc,{className:"h-5 w-5"}),e.jsx("span",{children:"Color Theme Settings"})]}),e.jsx(Ce,{children:"Control the appearance of text, headings, links, and icons in the footer. This is especially useful when using dark background videos."})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"colorTheme",children:"Color Theme Mode"}),e.jsxs("select",{id:"colorTheme",className:"w-full p-2 border rounded-md",value:s?.colorTheme||"auto",onChange:y=>n({...s,colorTheme:y.target.value}),"aria-label":"Color Theme Mode",children:[e.jsx("option",{value:"auto",children:"Auto (Follow Global Theme)"}),e.jsx("option",{value:"light",children:"Light Theme"}),e.jsx("option",{value:"dark",children:"Dark Theme"}),e.jsx("option",{value:"custom",children:"Custom Colors"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose how the footer colors should behave. Auto follows the global theme, while custom allows full control."})]}),s?.colorTheme==="custom"&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[e.jsx("h4",{className:"font-medium",children:"Custom Color Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"textColor",children:"Text Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"textColor",type:"color",value:s?.textColor||"#ffffff",onChange:y=>n({...s,textColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.textColor||"#ffffff",onChange:y=>n({...s,textColor:y.target.value}),placeholder:"#ffffff"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"headingColor",children:"Heading Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"headingColor",type:"color",value:s?.headingColor||"#ffffff",onChange:y=>n({...s,headingColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.headingColor||"#ffffff",onChange:y=>n({...s,headingColor:y.target.value}),placeholder:"#ffffff"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"linkColor",children:"Link Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"linkColor",type:"color",value:s?.linkColor||"#cccccc",onChange:y=>n({...s,linkColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.linkColor||"#cccccc",onChange:y=>n({...s,linkColor:y.target.value}),placeholder:"#cccccc"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"linkHoverColor",children:"Link Hover Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"linkHoverColor",type:"color",value:s?.linkHoverColor||"#ffffff",onChange:y=>n({...s,linkHoverColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.linkHoverColor||"#ffffff",onChange:y=>n({...s,linkHoverColor:y.target.value}),placeholder:"#ffffff"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"logoTheme",children:"Logo Theme"}),e.jsxs("select",{id:"logoTheme",className:"w-full p-2 border rounded-md",value:s?.logoTheme||"auto",onChange:y=>n({...s,logoTheme:y.target.value}),"aria-label":"Logo Theme",children:[e.jsx("option",{value:"auto",children:"Auto (Follow Global Theme)"}),e.jsx("option",{value:"light",children:"Light Logo (White)"}),e.jsx("option",{value:"dark",children:"Dark Logo (Black)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"borderColor",children:"Border Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"borderColor",type:"color",value:s?.borderColor||"#333333",onChange:y=>n({...s,borderColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.borderColor||"#333333",onChange:y=>n({...s,borderColor:y.target.value}),placeholder:"#333333"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"socialIconsColor",children:"Social Icons Color"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx($,{id:"socialIconsColor",type:"color",value:s?.socialIconsColor||"#cccccc",onChange:y=>n({...s,socialIconsColor:y.target.value}),className:"w-16"}),e.jsx($,{type:"text",value:s?.socialIconsColor||"#cccccc",onChange:y=>n({...s,socialIconsColor:y.target.value}),placeholder:"#cccccc"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Quick Presets"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>n({...s,colorTheme:"custom",textColor:"#ffffff",headingColor:"#ffffff",linkColor:"#cccccc",linkHoverColor:"#ffffff",borderColor:"#333333",socialIconsColor:"#cccccc",logoTheme:"light"}),children:"White Theme"}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>n({...s,colorTheme:"custom",textColor:"#000000",headingColor:"#000000",linkColor:"#666666",linkHoverColor:"#000000",borderColor:"#cccccc",socialIconsColor:"#666666",logoTheme:"dark"}),children:"Black Theme"}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>n({...s,colorTheme:"auto",textColor:void 0,headingColor:void 0,linkColor:void 0,linkHoverColor:void 0,borderColor:void 0,socialIconsColor:void 0,logoTheme:"auto"}),children:"Reset to Auto"})]})]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t",children:e.jsxs(q,{onClick:x,disabled:c,className:"flex items-center space-x-2",children:[c?e.jsx(ua,{className:"h-4 w-4 animate-spin"}):e.jsx(Gs,{className:"h-4 w-4"}),e.jsx("span",{children:i(c?"dashboard.admin.footerForm.saving":"dashboard.admin.footerForm.saveChanges")})]})})]})]}):e.jsx(ie,{children:e.jsxs(ne,{className:"p-6",children:[e.jsx("p",{className:"text-center text-muted-foreground",children:i("common.error")}),e.jsx(q,{onClick:g,className:"mt-4 mx-auto block",children:i("common.retry")})]})})}const Ht=_.forwardRef(({className:i,...s},n)=>e.jsx("div",{ref:n,className:_e("shrink-0 bg-border h-[1px] w-full",i),...s}));Ht.displayName="Separator";const Wt=_.forwardRef(({className:i,value:s,onValueChange:n,min:o=0,max:u=100,step:c=1,disabled:m=!1,...g},x)=>{const[j,y]=_.useState(!1),w=_.useRef(null),A=v=>{m||(y(!0),E(v))},h=_.useCallback(v=>{!j||m||E(v)},[j,m]),p=_.useCallback(()=>{y(!1)},[]),E=v=>{if(!w.current)return;const U=w.current.getBoundingClientRect(),C=Math.max(0,Math.min(1,(v.clientX-U.left)/U.width)),R=o+C*(u-o),S=Math.round(R/c)*c;n([Math.max(o,Math.min(u,S))])};_.useEffect(()=>{if(j)return document.addEventListener("mousemove",h),document.addEventListener("mouseup",p),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p)}},[j,h,p]);const b=(s[0]-o)/(u-o)*100;return e.jsx("div",{ref:x,className:_e("relative flex w-full touch-none select-none items-center",i),...g,children:e.jsxs("div",{ref:w,className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary cursor-pointer",onMouseDown:A,children:[e.jsx("div",{className:"absolute h-full bg-primary",style:{width:`${b}%`}}),e.jsx("div",{className:"absolute top-1/2 h-5 w-5 -translate-y-1/2 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-grab active:cursor-grabbing",style:{left:`calc(${b}% - 10px)`}})]})})});Wt.displayName="Slider";function iE({onClose:i}){const{t:s}=Me(),{theme:n}=ci(),[o,u]=_.useState(null),[c,m]=_.useState(null),[g,x]=_.useState(!0),[j,y]=_.useState(!1),[w,A]=_.useState("general");_.useEffect(()=>{h()},[]);const h=async()=>{try{x(!0),await ms.initializeAdvancedSettings();const v=await ms.getHeroSettings();u(v),v.slides.length>0&&m(v.slides[0])}catch(v){console.error("Error loading hero settings:",v)}finally{x(!1)}},p=async()=>{if(o)try{y(!0),await ms.updateHeroSettings(o),localStorage.setItem("hero-settings-updated",Date.now().toString()),window.dispatchEvent(new CustomEvent("hero-settings-updated")),alert("Settings saved successfully! /    !"),await h()}catch(v){console.error("Error saving hero settings:",v),alert("Error saving settings. Please try again. /    .    .")}finally{y(!1)}},E=v=>{o&&u({...o,...v})},b=(v,U)=>{if(!o)return;const C=o.slides.map(R=>R.id===v?{...R,...U}:R);u({...o,slides:C}),c?.id===v&&m({...c,...U})};return g?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o?e.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:s("admin.heroSlider.settings","Hero Slider Settings")}),e.jsx("p",{className:"text-muted-foreground",children:s("admin.heroSlider.settingsDescription","Configure your hero slider appearance and behavior")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{variant:"outline",onClick:i,children:s("common.cancel","Cancel")}),e.jsx(q,{onClick:p,disabled:j,children:j?s("common.saving","Saving..."):s("common.save","Save Changes")})]})]}),e.jsxs(La,{value:w,onValueChange:A,className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-6",children:[e.jsx(Pe,{value:"general",children:s("admin.heroSlider.general","General")}),e.jsx(Pe,{value:"typography",children:s("admin.heroSlider.typography","Typography")}),e.jsx(Pe,{value:"animation",children:s("admin.heroSlider.animation","Animation")}),e.jsx(Pe,{value:"buttons",children:s("admin.heroSlider.buttons","Buttons")}),e.jsx(Pe,{value:"layout",children:s("admin.heroSlider.layout","Layout")}),e.jsx(Pe,{value:"effects",children:s("admin.heroSlider.effects","Effects")})]}),e.jsx(ze,{value:"general",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.generalSettings","General Settings")}),e.jsx(Ce,{children:s("admin.heroSlider.generalDescription","Basic slider configuration")})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"autoplay",checked:o.autoplay,onCheckedChange:v=>E({autoplay:v})}),e.jsx(M,{htmlFor:"autoplay",children:s("admin.heroSlider.autoplay","Autoplay")})]}),o.autoplay&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"autoplay-delay",children:[s("admin.heroSlider.autoplayDelay","Autoplay Delay")," (",o.autoplay_delay,"ms)"]}),e.jsx(Wt,{id:"autoplay-delay",min:1e3,max:1e4,step:500,value:[o.autoplay_delay],onValueChange:v=>E({autoplay_delay:v[0]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"pause-on-hover",checked:o.pause_on_hover,onCheckedChange:v=>E({pause_on_hover:v})}),e.jsx(M,{htmlFor:"pause-on-hover",children:s("admin.heroSlider.pauseOnHover","Pause on Hover")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"infinite-loop",checked:o.infinite_loop,onCheckedChange:v=>E({infinite_loop:v})}),e.jsx(M,{htmlFor:"infinite-loop",children:s("admin.heroSlider.infiniteLoop","Infinite Loop")})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:s("admin.heroSlider.navigation","Navigation")}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"show-arrows",checked:o.show_arrows,onCheckedChange:v=>E({show_arrows:v})}),e.jsx(M,{htmlFor:"show-arrows",children:s("admin.heroSlider.showArrows","Show Arrows")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"show-dots",checked:o.show_dots,onCheckedChange:v=>E({show_dots:v})}),e.jsx(M,{htmlFor:"show-dots",children:s("admin.heroSlider.showDots","Show Dots")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"show-progress",checked:o.show_progress,onCheckedChange:v=>E({show_progress:v})}),e.jsx(M,{htmlFor:"show-progress",children:s("admin.heroSlider.showProgress","Show Progress")})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:s("admin.heroSlider.transition","Transition")}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"transition-effect",children:s("admin.heroSlider.transitionEffect","Effect")}),e.jsxs(Ue,{value:o.transition_effect,onValueChange:v=>E({transition_effect:v}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"slide",children:"Slide"}),e.jsx(Q,{value:"fade",children:"Fade"}),e.jsx(Q,{value:"zoom",children:"Zoom"}),e.jsx(Q,{value:"flip",children:"Flip"}),e.jsx(Q,{value:"cube",children:"Cube"}),e.jsx(Q,{value:"coverflow",children:"Coverflow"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"transition-duration",children:[s("admin.heroSlider.transitionDuration","Duration")," (",o.transition_duration,"ms)"]}),e.jsx(Wt,{id:"transition-duration",min:200,max:2e3,step:100,value:[o.transition_duration],onValueChange:v=>E({transition_duration:v[0]})})]})]})]})]})]})}),e.jsx(ze,{value:"typography",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.typographySettings","Typography Settings")}),e.jsx(Ce,{children:s("admin.heroSlider.typographyDescription","Configure text appearance for different languages")})]}),e.jsx(ne,{className:"space-y-6",children:c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[s("admin.heroSlider.selectedSlide","Selected Slide"),": ",c.title]}),e.jsxs(Ue,{value:c.id,onValueChange:v=>{const U=o.slides.find(C=>C.id===v);U&&m(U)},children:[e.jsx(Fe,{className:"w-64",children:e.jsx(Be,{})}),e.jsx(He,{children:o.slides.map(v=>e.jsx(Q,{value:v.id,children:v.title},v.id))})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.titleTypography","Title Typography"),e.jsx(Se,{variant:"secondary",children:"Title"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"English"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-family",children:"Font Family"}),e.jsx($,{id:"title-font-family",value:c.typography?.title_font_family||o.global_typography?.title_font_family||"Inter, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,title_font_family:v.target.value}}),placeholder:"e.g., Inter, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-size",children:"Font Size"}),e.jsx($,{id:"title-font-size",value:c.typography?.title_font_size||o.global_typography?.title_font_size||"3rem",onChange:v=>b(c.id,{typography:{...c.typography,title_font_size:v.target.value}}),placeholder:"e.g., 3rem, 48px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-weight",children:"Font Weight"}),e.jsxs(Ue,{value:(c.typography?.title_font_weight||o.global_typography?.title_font_weight||700).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,title_font_weight:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - Thin"}),e.jsx(Q,{value:"300",children:"300 - Light"}),e.jsx(Q,{value:"400",children:"400 - Normal"}),e.jsx(Q,{value:"500",children:"500 - Medium"}),e.jsx(Q,{value:"600",children:"600 - Semibold"}),e.jsx(Q,{value:"700",children:"700 - Bold"}),e.jsx(Q,{value:"800",children:"800 - Extrabold"}),e.jsx(Q,{value:"900",children:"900 - Black"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-color",children:"Color"}),e.jsx($,{id:"title-color",type:"color",value:c.typography?.title_color||o.global_typography?.title_color||"#ffffff",onChange:v=>b(c.id,{typography:{...c.typography,title_color:v.target.value}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-family-ar",children:" "}),e.jsx($,{id:"title-font-family-ar",value:c.typography?.title_font_family_ar||o.global_typography?.title_font_family_ar||"Tajawal, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,title_font_family_ar:v.target.value}}),placeholder:": Tajawal, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-size-ar",children:" "}),e.jsx($,{id:"title-font-size-ar",value:c.typography?.title_font_size_ar||o.global_typography?.title_font_size_ar||"3rem",onChange:v=>b(c.id,{typography:{...c.typography,title_font_size_ar:v.target.value}}),placeholder:": 3rem, 48px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-font-weight-ar",children:" "}),e.jsxs(Ue,{value:(c.typography?.title_font_weight_ar||o.global_typography?.title_font_weight_ar||700).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,title_font_weight_ar:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - "}),e.jsx(Q,{value:"300",children:"300 - "}),e.jsx(Q,{value:"400",children:"400 - "}),e.jsx(Q,{value:"500",children:"500 - "}),e.jsx(Q,{value:"600",children:"600 -  "}),e.jsx(Q,{value:"700",children:"700 - "}),e.jsx(Q,{value:"800",children:"800 -  "}),e.jsx(Q,{value:"900",children:"900 - "})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-color-ar",children:""}),e.jsx($,{id:"title-color-ar",type:"color",value:c.typography?.title_color_ar||o.global_typography?.title_color_ar||"#ffffff",onChange:v=>b(c.id,{typography:{...c.typography,title_color_ar:v.target.value}})})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.subtitleTypography","Subtitle Typography"),e.jsx(Se,{variant:"secondary",children:"Subtitle"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"English"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-family",children:"Font Family"}),e.jsx($,{id:"subtitle-font-family",value:c.typography?.subtitle_font_family||o.global_typography?.subtitle_font_family||"Inter, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_family:v.target.value}}),placeholder:"e.g., Inter, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-size",children:"Font Size"}),e.jsx($,{id:"subtitle-font-size",value:c.typography?.subtitle_font_size||o.global_typography?.subtitle_font_size||"1.25rem",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_size:v.target.value}}),placeholder:"e.g., 1.25rem, 20px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-weight",children:"Font Weight"}),e.jsxs(Ue,{value:(c.typography?.subtitle_font_weight||o.global_typography?.subtitle_font_weight||500).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_weight:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - Thin"}),e.jsx(Q,{value:"300",children:"300 - Light"}),e.jsx(Q,{value:"400",children:"400 - Normal"}),e.jsx(Q,{value:"500",children:"500 - Medium"}),e.jsx(Q,{value:"600",children:"600 - Semibold"}),e.jsx(Q,{value:"700",children:"700 - Bold"}),e.jsx(Q,{value:"800",children:"800 - Extrabold"}),e.jsx(Q,{value:"900",children:"900 - Black"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-color",children:"Color"}),e.jsx($,{id:"subtitle-color",type:"color",value:c.typography?.subtitle_color||o.global_typography?.subtitle_color||"#e5e7eb",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_color:v.target.value}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-family-ar",children:" "}),e.jsx($,{id:"subtitle-font-family-ar",value:c.typography?.subtitle_font_family_ar||o.global_typography?.subtitle_font_family_ar||"Tajawal, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_family_ar:v.target.value}}),placeholder:": Tajawal, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-size-ar",children:" "}),e.jsx($,{id:"subtitle-font-size-ar",value:c.typography?.subtitle_font_size_ar||o.global_typography?.subtitle_font_size_ar||"1.25rem",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_size_ar:v.target.value}}),placeholder:": 1.25rem, 20px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-font-weight-ar",children:" "}),e.jsxs(Ue,{value:(c.typography?.subtitle_font_weight_ar||o.global_typography?.subtitle_font_weight_ar||500).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,subtitle_font_weight_ar:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - "}),e.jsx(Q,{value:"300",children:"300 - "}),e.jsx(Q,{value:"400",children:"400 - "}),e.jsx(Q,{value:"500",children:"500 - "}),e.jsx(Q,{value:"600",children:"600 -  "}),e.jsx(Q,{value:"700",children:"700 - "}),e.jsx(Q,{value:"800",children:"800 -  "}),e.jsx(Q,{value:"900",children:"900 - "})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-color-ar",children:""}),e.jsx($,{id:"subtitle-color-ar",type:"color",value:c.typography?.subtitle_color_ar||o.global_typography?.subtitle_color_ar||"#e5e7eb",onChange:v=>b(c.id,{typography:{...c.typography,subtitle_color_ar:v.target.value}})})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.descriptionTypography","Description Typography"),e.jsx(Se,{variant:"secondary",children:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:"English"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-family",children:"Font Family"}),e.jsx($,{id:"description-font-family",value:c.typography?.description_font_family||o.global_typography?.description_font_family||"Inter, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,description_font_family:v.target.value}}),placeholder:"e.g., Inter, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-size",children:"Font Size"}),e.jsx($,{id:"description-font-size",value:c.typography?.description_font_size||o.global_typography?.description_font_size||"1rem",onChange:v=>b(c.id,{typography:{...c.typography,description_font_size:v.target.value}}),placeholder:"e.g., 1rem, 16px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-weight",children:"Font Weight"}),e.jsxs(Ue,{value:(c.typography?.description_font_weight||o.global_typography?.description_font_weight||400).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,description_font_weight:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - Thin"}),e.jsx(Q,{value:"300",children:"300 - Light"}),e.jsx(Q,{value:"400",children:"400 - Normal"}),e.jsx(Q,{value:"500",children:"500 - Medium"}),e.jsx(Q,{value:"600",children:"600 - Semibold"}),e.jsx(Q,{value:"700",children:"700 - Bold"}),e.jsx(Q,{value:"800",children:"800 - Extrabold"}),e.jsx(Q,{value:"900",children:"900 - Black"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-color",children:"Color"}),e.jsx($,{id:"description-color",type:"color",value:c.typography?.description_color||o.global_typography?.description_color||"#d1d5db",onChange:v=>b(c.id,{typography:{...c.typography,description_color:v.target.value}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"text-sm font-medium text-muted-foreground",children:""}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-family-ar",children:" "}),e.jsx($,{id:"description-font-family-ar",value:c.typography?.description_font_family_ar||o.global_typography?.description_font_family_ar||"Tajawal, sans-serif",onChange:v=>b(c.id,{typography:{...c.typography,description_font_family_ar:v.target.value}}),placeholder:": Tajawal, sans-serif"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-size-ar",children:" "}),e.jsx($,{id:"description-font-size-ar",value:c.typography?.description_font_size_ar||o.global_typography?.description_font_size_ar||"1rem",onChange:v=>b(c.id,{typography:{...c.typography,description_font_size_ar:v.target.value}}),placeholder:": 1rem, 16px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-font-weight-ar",children:" "}),e.jsxs(Ue,{value:(c.typography?.description_font_weight_ar||o.global_typography?.description_font_weight_ar||400).toString(),onValueChange:v=>b(c.id,{typography:{...c.typography,description_font_weight_ar:parseInt(v)}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"100",children:"100 - "}),e.jsx(Q,{value:"300",children:"300 - "}),e.jsx(Q,{value:"400",children:"400 - "}),e.jsx(Q,{value:"500",children:"500 - "}),e.jsx(Q,{value:"600",children:"600 -  "}),e.jsx(Q,{value:"700",children:"700 - "}),e.jsx(Q,{value:"800",children:"800 -  "}),e.jsx(Q,{value:"900",children:"900 - "})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-color-ar",children:""}),e.jsx($,{id:"description-color-ar",type:"color",value:c.typography?.description_color_ar||o.global_typography?.description_color_ar||"#d1d5db",onChange:v=>b(c.id,{typography:{...c.typography,description_color_ar:v.target.value}})})]})]})]})]})]})})]})}),e.jsx(ze,{value:"animation",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.animationSettings","Animation Settings")}),e.jsx(Ce,{children:s("admin.heroSlider.animationDescription","Configure animations for text elements")})]}),e.jsx(ne,{className:"space-y-6",children:c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[s("admin.heroSlider.selectedSlide","Selected Slide"),": ",c.title]}),e.jsxs(Ue,{value:c.id,onValueChange:v=>{const U=o.slides.find(C=>C.id===v);U&&m(U)},children:[e.jsx(Fe,{className:"w-64",children:e.jsx(Be,{})}),e.jsx(He,{children:o.slides.map(v=>e.jsx(Q,{value:v.id,children:v.title},v.id))})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.titleAnimation","Title Animation"),e.jsx(Se,{variant:"secondary",children:"Title"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title-animation",children:"Animation Type"}),e.jsxs(Ue,{value:c.animation?.title_animation||"fadeIn",onValueChange:v=>b(c.id,{animation:{...c.animation,title_animation:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"fadeIn",children:"Fade In"}),e.jsx(Q,{value:"slideIn",children:"Slide In"}),e.jsx(Q,{value:"zoomIn",children:"Zoom In"}),e.jsx(Q,{value:"bounceIn",children:"Bounce In"}),e.jsx(Q,{value:"rotateIn",children:"Rotate In"}),e.jsx(Q,{value:"flipIn",children:"Flip In"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"title-animation-delay",children:["Delay (",c.animation?.title_animation_delay||0,"ms)"]}),e.jsx(Wt,{id:"title-animation-delay",min:0,max:3e3,step:100,value:[c.animation?.title_animation_delay||0],onValueChange:v=>b(c.id,{animation:{...c.animation,title_animation_delay:v[0]}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"title-animation-duration",children:["Duration (",c.animation?.title_animation_duration||1e3,"ms)"]}),e.jsx(Wt,{id:"title-animation-duration",min:200,max:3e3,step:100,value:[c.animation?.title_animation_duration||1e3],onValueChange:v=>b(c.id,{animation:{...c.animation,title_animation_duration:v[0]}})})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.subtitleAnimation","Subtitle Animation"),e.jsx(Se,{variant:"secondary",children:"Subtitle"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle-animation",children:"Animation Type"}),e.jsxs(Ue,{value:c.animation?.subtitle_animation||"fadeIn",onValueChange:v=>b(c.id,{animation:{...c.animation,subtitle_animation:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"fadeIn",children:"Fade In"}),e.jsx(Q,{value:"slideIn",children:"Slide In"}),e.jsx(Q,{value:"zoomIn",children:"Zoom In"}),e.jsx(Q,{value:"bounceIn",children:"Bounce In"}),e.jsx(Q,{value:"rotateIn",children:"Rotate In"}),e.jsx(Q,{value:"flipIn",children:"Flip In"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"subtitle-animation-delay",children:["Delay (",c.animation?.subtitle_animation_delay||300,"ms)"]}),e.jsx(Wt,{id:"subtitle-animation-delay",min:0,max:3e3,step:100,value:[c.animation?.subtitle_animation_delay||300],onValueChange:v=>b(c.id,{animation:{...c.animation,subtitle_animation_delay:v[0]}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"subtitle-animation-duration",children:["Duration (",c.animation?.subtitle_animation_duration||1e3,"ms)"]}),e.jsx(Wt,{id:"subtitle-animation-duration",min:200,max:3e3,step:100,value:[c.animation?.subtitle_animation_duration||1e3],onValueChange:v=>b(c.id,{animation:{...c.animation,subtitle_animation_duration:v[0]}})})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.descriptionAnimation","Description Animation"),e.jsx(Se,{variant:"secondary",children:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description-animation",children:"Animation Type"}),e.jsxs(Ue,{value:c.animation?.description_animation||"fadeIn",onValueChange:v=>b(c.id,{animation:{...c.animation,description_animation:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"fadeIn",children:"Fade In"}),e.jsx(Q,{value:"slideIn",children:"Slide In"}),e.jsx(Q,{value:"zoomIn",children:"Zoom In"}),e.jsx(Q,{value:"bounceIn",children:"Bounce In"}),e.jsx(Q,{value:"rotateIn",children:"Rotate In"}),e.jsx(Q,{value:"flipIn",children:"Flip In"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"description-animation-delay",children:["Delay (",c.animation?.description_animation_delay||600,"ms)"]}),e.jsx(Wt,{id:"description-animation-delay",min:0,max:3e3,step:100,value:[c.animation?.description_animation_delay||600],onValueChange:v=>b(c.id,{animation:{...c.animation,description_animation_delay:v[0]}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"description-animation-duration",children:["Duration (",c.animation?.description_animation_duration||1e3,"ms)"]}),e.jsx(Wt,{id:"description-animation-duration",min:200,max:3e3,step:100,value:[c.animation?.description_animation_duration||1e3],onValueChange:v=>b(c.id,{animation:{...c.animation,description_animation_duration:v[0]}})})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.buttonsAnimation","Buttons Animation"),e.jsx(Se,{variant:"secondary",children:"Buttons"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"buttons-animation",children:"Animation Type"}),e.jsxs(Ue,{value:c.animation?.buttons_animation||"fadeIn",onValueChange:v=>b(c.id,{animation:{...c.animation,buttons_animation:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"fadeIn",children:"Fade In"}),e.jsx(Q,{value:"slideIn",children:"Slide In"}),e.jsx(Q,{value:"zoomIn",children:"Zoom In"}),e.jsx(Q,{value:"bounceIn",children:"Bounce In"}),e.jsx(Q,{value:"rotateIn",children:"Rotate In"}),e.jsx(Q,{value:"flipIn",children:"Flip In"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"buttons-animation-delay",children:["Delay (",c.animation?.buttons_animation_delay||900,"ms)"]}),e.jsx(Wt,{id:"buttons-animation-delay",min:0,max:3e3,step:100,value:[c.animation?.buttons_animation_delay||900],onValueChange:v=>b(c.id,{animation:{...c.animation,buttons_animation_delay:v[0]}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"buttons-animation-duration",children:["Duration (",c.animation?.buttons_animation_duration||1e3,"ms)"]}),e.jsx(Wt,{id:"buttons-animation-duration",min:200,max:3e3,step:100,value:[c.animation?.buttons_animation_duration||1e3],onValueChange:v=>b(c.id,{animation:{...c.animation,buttons_animation_duration:v[0]}})})]})]})]})]})})]})}),e.jsx(ze,{value:"buttons",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.buttonSettings","Button Settings")}),e.jsx(Ce,{children:s("admin.heroSlider.buttonDescription","Customize button appearance and behavior")})]}),e.jsx(ne,{className:"space-y-6",children:c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[s("admin.heroSlider.selectedSlide","Selected Slide"),": ",c.title]}),e.jsxs(Ue,{value:c.id,onValueChange:v=>{const U=o.slides.find(C=>C.id===v);U&&m(U)},children:[e.jsx(Fe,{className:"w-64",children:e.jsx(Be,{})}),e.jsx(He,{children:o.slides.map(v=>e.jsx(Q,{value:v.id,children:v.title},v.id))})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.primaryButton","Primary Button"),e.jsx(Se,{variant:"default",children:"Primary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-bg-color",children:"Background Color"}),e.jsx($,{id:"primary-bg-color",type:"color",value:c.button_settings?.primary_button_style?.background_color||"#d97706",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,background_color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-text-color",children:"Text Color"}),e.jsx($,{id:"primary-text-color",type:"color",value:c.button_settings?.primary_button_style?.text_color||"#ffffff",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,text_color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-border-radius",children:"Border Radius"}),e.jsx($,{id:"primary-border-radius",value:c.button_settings?.primary_button_style?.border_radius||"0.375rem",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,border_radius:v.target.value}}}),placeholder:"e.g., 0.375rem, 8px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-font-size",children:"Font Size"}),e.jsx($,{id:"primary-font-size",value:c.button_settings?.primary_button_style?.font_size||"1rem",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,font_size:v.target.value}}}),placeholder:"e.g., 1rem, 16px"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-padding",children:"Padding"}),e.jsx($,{id:"primary-padding",value:c.button_settings?.primary_button_style?.padding||"0.75rem 1.5rem",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,padding:v.target.value}}}),placeholder:"e.g., 0.75rem 1.5rem"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-font-weight",children:"Font Weight"}),e.jsxs(Ue,{value:c.button_settings?.primary_button_style?.font_weight?.toString()||"500",onValueChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,font_weight:parseInt(v)}}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"400",children:"400 - Normal"}),e.jsx(Q,{value:"500",children:"500 - Medium"}),e.jsx(Q,{value:"600",children:"600 - Semibold"}),e.jsx(Q,{value:"700",children:"700 - Bold"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-shadow",children:"Box Shadow"}),e.jsx($,{id:"primary-shadow",value:c.button_settings?.primary_button_style?.shadow||"0 4px 6px -1px rgba(0, 0, 0, 0.1)",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,shadow:v.target.value}}}),placeholder:"e.g., 0 4px 6px -1px rgba(0, 0, 0, 0.1)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"primary-transition",children:["Transition Duration (",c.button_settings?.primary_button_style?.transition_duration||300,"ms)"]}),e.jsx(Wt,{id:"primary-transition",min:100,max:1e3,step:50,value:[c.button_settings?.primary_button_style?.transition_duration||300],onValueChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,transition_duration:v[0]}}})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"font-medium text-sm",children:"Hover Effects"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-hover-bg",children:"Hover Background"}),e.jsx($,{id:"primary-hover-bg",type:"color",value:c.button_settings?.primary_button_style?.hover_background_color||"#b45309",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,hover_background_color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-hover-transform",children:"Hover Transform"}),e.jsxs(Ue,{value:c.button_settings?.primary_button_style?.hover_transform||"translateY(-2px)",onValueChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,hover_transform:v}}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"translateY(-2px)",children:"Lift Up"}),e.jsx(Q,{value:"scale(1.05)",children:"Scale Up"}),e.jsx(Q,{value:"rotate(2deg)",children:"Rotate Slight"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"primary-hover-shadow",children:"Hover Shadow"}),e.jsx($,{id:"primary-hover-shadow",value:c.button_settings?.primary_button_style?.hover_shadow||"0 10px 15px -3px rgba(0, 0, 0, 0.1)",onChange:v=>b(c.id,{button_settings:{...c.button_settings,primary_button_style:{...c.button_settings?.primary_button_style,hover_shadow:v.target.value}}}),placeholder:"e.g., 0 10px 15px -3px rgba(0, 0, 0, 0.1)"})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.secondaryButton","Secondary Button"),e.jsx(Se,{variant:"outline",children:"Secondary"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary-bg-color",children:"Background Color"}),e.jsx($,{id:"secondary-bg-color",type:"color",value:c.button_settings?.secondary_button_style?.background_color||"rgba(255,255,255,0.1)",onChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,background_color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary-text-color",children:"Text Color"}),e.jsx($,{id:"secondary-text-color",type:"color",value:c.button_settings?.secondary_button_style?.text_color||"#ffffff",onChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,text_color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary-border-color",children:"Border Color"}),e.jsx($,{id:"secondary-border-color",type:"color",value:c.button_settings?.secondary_button_style?.border_color||"rgba(255,255,255,0.3)",onChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,border_color:v.target.value}}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"secondary-border-width",children:["Border Width (",c.button_settings?.secondary_button_style?.border_width||1,"px)"]}),e.jsx(Wt,{id:"secondary-border-width",min:0,max:5,step:1,value:[c.button_settings?.secondary_button_style?.border_width||1],onValueChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,border_width:v[0]}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary-border-radius",children:"Border Radius"}),e.jsx($,{id:"secondary-border-radius",value:c.button_settings?.secondary_button_style?.border_radius||"0.375rem",onChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,border_radius:v.target.value}}}),placeholder:"e.g., 0.375rem, 8px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary-hover-bg",children:"Hover Background"}),e.jsx($,{id:"secondary-hover-bg",type:"color",value:c.button_settings?.secondary_button_style?.hover_background_color||"rgba(255,255,255,0.2)",onChange:v=>b(c.id,{button_settings:{...c.button_settings,secondary_button_style:{...c.button_settings?.secondary_button_style,hover_background_color:v.target.value}}})})]})]})]})]})]})})]})}),e.jsx(ze,{value:"layout",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.layoutSettings","Layout Settings")}),e.jsx(Ce,{children:s("admin.heroSlider.layoutDescription","Configure content positioning and spacing")})]}),e.jsx(ne,{className:"space-y-6",children:c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[s("admin.heroSlider.selectedSlide","Selected Slide"),": ",c.title]}),e.jsxs(Ue,{value:c.id,onValueChange:v=>{const U=o.slides.find(C=>C.id===v);U&&m(U)},children:[e.jsx(Fe,{className:"w-64",children:e.jsx(Be,{})}),e.jsx(He,{children:o.slides.map(v=>e.jsx(Q,{value:v.id,children:v.title},v.id))})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.containerSettings","Container Settings"),e.jsx(Se,{variant:"secondary",children:"Container"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"container-max-width",children:"Max Width"}),e.jsx($,{id:"container-max-width",value:c.layout?.container_max_width||"1200px",onChange:v=>b(c.id,{layout:{...c.layout,container_max_width:v.target.value}}),placeholder:"e.g., 1200px, 100%, 80rem"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"content-width",children:"Content Width"}),e.jsx($,{id:"content-width",value:c.layout?.content_width||"100%",onChange:v=>b(c.id,{layout:{...c.layout,content_width:v.target.value}}),placeholder:"e.g., 100%, 80%, 600px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"content-padding",children:"Content Padding"}),e.jsx($,{id:"content-padding",value:c.layout?.content_padding||"2rem",onChange:v=>b(c.id,{layout:{...c.layout,content_padding:v.target.value}}),placeholder:"e.g., 2rem, 1rem 2rem, 16px 32px"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"content-margin",children:"Content Margin"}),e.jsx($,{id:"content-margin",value:c.layout?.content_margin||"0 auto",onChange:v=>b(c.id,{layout:{...c.layout,content_margin:v.target.value}}),placeholder:"e.g., 0 auto, 2rem 0"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"vertical-alignment",children:"Vertical Alignment"}),e.jsxs(Ue,{value:c.layout?.vertical_alignment||"center",onValueChange:v=>b(c.id,{layout:{...c.layout,vertical_alignment:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"top",children:"Top"}),e.jsx(Q,{value:"center",children:"Center"}),e.jsx(Q,{value:"bottom",children:"Bottom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"horizontal-alignment",children:"Horizontal Alignment"}),e.jsxs(Ue,{value:c.layout?.horizontal_alignment||"center",onValueChange:v=>b(c.id,{layout:{...c.layout,horizontal_alignment:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"left",children:"Left"}),e.jsx(Q,{value:"center",children:"Center"}),e.jsx(Q,{value:"right",children:"Right"})]})]})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.overlayShape","Background Overlay Shape"),e.jsx(Se,{variant:"secondary",children:"Overlay"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"overlay-shape",children:"Shape Type"}),e.jsxs(Ue,{value:c.layout?.background_overlay_shape||"none",onValueChange:v=>b(c.id,{layout:{...c.layout,background_overlay_shape:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"none",children:"None"}),e.jsx(Q,{value:"circle",children:"Circle"}),e.jsx(Q,{value:"rectangle",children:"Rectangle"}),e.jsx(Q,{value:"polygon",children:"Polygon"}),e.jsx(Q,{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"overlay-shape-color",children:"Shape Color"}),e.jsx($,{id:"overlay-shape-color",type:"color",value:c.layout?.background_overlay_shape_color||"#000000",onChange:v=>b(c.id,{layout:{...c.layout,background_overlay_shape_color:v.target.value}})})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"overlay-shape-opacity",children:["Shape Opacity (",c.layout?.background_overlay_shape_opacity||50,"%)"]}),e.jsx(Wt,{id:"overlay-shape-opacity",min:0,max:100,step:5,value:[c.layout?.background_overlay_shape_opacity||50],onValueChange:v=>b(c.id,{layout:{...c.layout,background_overlay_shape_opacity:v[0]}})})]})})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.responsiveSettings","Responsive Settings"),e.jsx(Se,{variant:"secondary",children:"Responsive"})]}),e.jsxs(La,{defaultValue:"mobile",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-3",children:[e.jsx(Pe,{value:"mobile",children:"Mobile"}),e.jsx(Pe,{value:"tablet",children:"Tablet"}),e.jsx(Pe,{value:"desktop",children:"Desktop"})]}),e.jsx(ze,{value:"mobile",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mobile-title-size",children:"Title Font Size"}),e.jsx($,{id:"mobile-title-size",value:c.layout?.responsive_breakpoints?.mobile?.title_font_size||"2rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,mobile:{...c.layout?.responsive_breakpoints?.mobile,title_font_size:v.target.value}}}}),placeholder:"e.g., 2rem, 32px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mobile-content-padding",children:"Content Padding"}),e.jsx($,{id:"mobile-content-padding",value:c.layout?.responsive_breakpoints?.mobile?.content_padding||"1rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,mobile:{...c.layout?.responsive_breakpoints?.mobile,content_padding:v.target.value}}}}),placeholder:"e.g., 1rem, 16px"})]})]})}),e.jsx(ze,{value:"tablet",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"tablet-title-size",children:"Title Font Size"}),e.jsx($,{id:"tablet-title-size",value:c.layout?.responsive_breakpoints?.tablet?.title_font_size||"3rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,tablet:{...c.layout?.responsive_breakpoints?.tablet,title_font_size:v.target.value}}}}),placeholder:"e.g., 3rem, 48px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"tablet-content-padding",children:"Content Padding"}),e.jsx($,{id:"tablet-content-padding",value:c.layout?.responsive_breakpoints?.tablet?.content_padding||"1.5rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,tablet:{...c.layout?.responsive_breakpoints?.tablet,content_padding:v.target.value}}}}),placeholder:"e.g., 1.5rem, 24px"})]})]})}),e.jsx(ze,{value:"desktop",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"desktop-title-size",children:"Title Font Size"}),e.jsx($,{id:"desktop-title-size",value:c.layout?.responsive_breakpoints?.desktop?.title_font_size||"4rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,desktop:{...c.layout?.responsive_breakpoints?.desktop,title_font_size:v.target.value}}}}),placeholder:"e.g., 4rem, 64px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"desktop-content-padding",children:"Content Padding"}),e.jsx($,{id:"desktop-content-padding",value:c.layout?.responsive_breakpoints?.desktop?.content_padding||"2rem",onChange:v=>b(c.id,{layout:{...c.layout,responsive_breakpoints:{...c.layout?.responsive_breakpoints,desktop:{...c.layout?.responsive_breakpoints?.desktop,content_padding:v.target.value}}}}),placeholder:"e.g., 2rem, 32px"})]})]})})]})]})]})})]})}),e.jsx(ze,{value:"effects",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:s("admin.heroSlider.effectsSettings","Advanced Effects")}),e.jsx(Ce,{children:s("admin.heroSlider.effectsDescription","Configure advanced visual effects")})]}),e.jsx(ne,{className:"space-y-6",children:c&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[s("admin.heroSlider.selectedSlide","Selected Slide"),": ",c.title]}),e.jsxs(Ue,{value:c.id,onValueChange:v=>{const U=o.slides.find(C=>C.id===v);U&&m(U)},children:[e.jsx(Fe,{className:"w-64",children:e.jsx(Be,{})}),e.jsx(He,{children:o.slides.map(v=>e.jsx(Q,{value:v.id,children:v.title},v.id))})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.parallaxEffect","Parallax Effect"),e.jsx(Se,{variant:"secondary",children:"Parallax"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"parallax-enabled",checked:c.effects?.parallax_enabled||!1,onCheckedChange:v=>b(c.id,{effects:{...c.effects,parallax_enabled:v}})}),e.jsx(M,{htmlFor:"parallax-enabled",children:"Enable Parallax"})]})}),c.effects?.parallax_enabled&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"parallax-speed",children:["Parallax Speed (",c.effects?.parallax_speed||.5,")"]}),e.jsx(Wt,{id:"parallax-speed",min:.1,max:2,step:.1,value:[c.effects?.parallax_speed||.5],onValueChange:v=>b(c.id,{effects:{...c.effects,parallax_speed:v[0]}})})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.kenBurnsEffect","Ken Burns Effect"),e.jsx(Se,{variant:"secondary",children:"Animation"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"ken-burns-enabled",checked:c.effects?.ken_burns_effect||!1,onCheckedChange:v=>b(c.id,{effects:{...c.effects,ken_burns_effect:v}})}),e.jsx(M,{htmlFor:"ken-burns-enabled",children:"Enable Ken Burns Effect"})]}),c.effects?.ken_burns_effect&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"ken-burns-direction",children:"Direction"}),e.jsxs(Ue,{value:c.effects?.ken_burns_direction||"zoom-in",onValueChange:v=>b(c.id,{effects:{...c.effects,ken_burns_direction:v}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"zoom-in",children:"Zoom In"}),e.jsx(Q,{value:"zoom-out",children:"Zoom Out"}),e.jsx(Q,{value:"zoom-in-out",children:"Zoom In-Out"})]})]})]})]}),c.effects?.ken_burns_effect&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"ken-burns-duration",children:["Duration (",c.effects?.ken_burns_duration||10,"s)"]}),e.jsx(Wt,{id:"ken-burns-duration",min:5,max:30,step:1,value:[c.effects?.ken_burns_duration||10],onValueChange:v=>b(c.id,{effects:{...c.effects,ken_burns_duration:v[0]}})})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.particleSystem","Particle System"),e.jsx(Se,{variant:"secondary",children:"Particles"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"particles-enabled",checked:c.effects?.particle_system?.enabled||!1,onCheckedChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,enabled:v}}})}),e.jsx(M,{htmlFor:"particles-enabled",children:"Enable Particle System"})]}),c.effects?.particle_system?.enabled&&e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"particle-type",children:"Particle Type"}),e.jsxs(Ue,{value:c.effects?.particle_system?.type||"stars",onValueChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,type:v}}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"stars",children:"Stars"}),e.jsx(Q,{value:"dots",children:"Dots"}),e.jsx(Q,{value:"lines",children:"Lines"}),e.jsx(Q,{value:"bubbles",children:"Bubbles"}),e.jsx(Q,{value:"snow",children:"Snow"}),e.jsx(Q,{value:"rain",children:"Rain"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"particle-density",children:["Density (",c.effects?.particle_system?.density||50,")"]}),e.jsx(Wt,{id:"particle-density",min:1,max:100,step:1,value:[c.effects?.particle_system?.density||50],onValueChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,density:v[0]}}})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"particle-speed",children:["Speed (",c.effects?.particle_system?.speed||5,")"]}),e.jsx(Wt,{id:"particle-speed",min:1,max:10,step:1,value:[c.effects?.particle_system?.speed||5],onValueChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,speed:v[0]}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"particle-color",children:"Particle Color"}),e.jsx($,{id:"particle-color",type:"color",value:c.effects?.particle_system?.color||"#ffffff",onChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,color:v.target.value}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"particle-opacity",children:["Opacity (",c.effects?.particle_system?.opacity||50,"%)"]}),e.jsx(Wt,{id:"particle-opacity",min:0,max:100,step:5,value:[c.effects?.particle_system?.opacity||50],onValueChange:v=>b(c.id,{effects:{...c.effects,particle_system:{...c.effects?.particle_system,opacity:v[0]}}})})]})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.gradientOverlay","Gradient Overlay"),e.jsx(Se,{variant:"secondary",children:"Gradient"})]}),e.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg text-sm text-muted-foreground",children:[" ",e.jsx("strong",{children:"Theme Awareness:"})," When no custom colors are set, the gradient will automatically adapt to your current theme (darker gradients for dark mode, lighter gradients for light mode)."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"gradient-enabled",checked:c.effects?.gradient_overlay?.enabled||!1,onCheckedChange:v=>b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,enabled:v}}})}),e.jsx(M,{htmlFor:"gradient-enabled",children:"Enable Gradient Overlay"})]}),c.effects?.gradient_overlay?.enabled&&e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"gradient-type",children:"Gradient Type"}),e.jsxs(Ue,{value:c.effects?.gradient_overlay?.type||"linear",onValueChange:v=>b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,type:v}}}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"linear",children:"Linear"}),e.jsx(Q,{value:"radial",children:"Radial"}),e.jsx(Q,{value:"conic",children:"Conic"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"gradient-direction",children:"Direction"}),e.jsx($,{id:"gradient-direction",value:c.effects?.gradient_overlay?.direction||"to bottom",onChange:v=>b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,direction:v.target.value}}}),placeholder:"e.g., to bottom, 45deg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"gradient-opacity",children:["Opacity (",c.effects?.gradient_overlay?.opacity||50,"%)"]}),e.jsx(Wt,{id:"gradient-opacity",min:0,max:100,step:5,value:[c.effects?.gradient_overlay?.opacity||50],onValueChange:v=>b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,opacity:v[0]}}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Gradient Colors"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx($,{type:"color",value:c.effects?.gradient_overlay?.colors?.[0]||"#000000",onChange:v=>{const U=c.effects?.gradient_overlay?.colors||["#000000","#ffffff"];U[0]=v.target.value,b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,colors:U}}})}}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start Color"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx($,{type:"color",value:c.effects?.gradient_overlay?.colors?.[1]||"#ffffff",onChange:v=>{const U=c.effects?.gradient_overlay?.colors||["#000000","#ffffff"];U[1]=v.target.value,b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,colors:U}}})}}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"End Color"})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Leave colors as default to use theme-aware automatic colors"}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>{const v=n==="dark"?["#000000","#333333"]:["#ffffff","#f0f0f0"];b(c.id,{effects:{...c.effects,gradient_overlay:{...c.effects?.gradient_overlay,colors:v}}})},className:"mt-2",children:"Reset to Theme Defaults"})]})]})]})]})]}),e.jsx(Ht,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s("admin.heroSlider.customCSS","Custom CSS"),e.jsx(Se,{variant:"secondary",children:"Advanced"})]}),e.jsxs(La,{defaultValue:"desktop",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-3",children:[e.jsx(Pe,{value:"desktop",children:"Desktop"}),e.jsx(Pe,{value:"tablet",children:"Tablet"}),e.jsx(Pe,{value:"mobile",children:"Mobile"})]}),e.jsxs(ze,{value:"desktop",className:"space-y-2",children:[e.jsx(M,{htmlFor:"custom-css-desktop",children:"Desktop CSS"}),e.jsx("textarea",{id:"custom-css-desktop",className:"w-full h-32 p-3 text-sm border rounded-md font-mono",value:c.custom_css||"",onChange:v=>b(c.id,{custom_css:v.target.value}),placeholder:`/* Custom CSS for desktop */
.hero-content {
  /* Your custom styles here */
}`})]}),e.jsxs(ze,{value:"tablet",className:"space-y-2",children:[e.jsx(M,{htmlFor:"custom-css-tablet",children:"Tablet CSS"}),e.jsx("textarea",{id:"custom-css-tablet",className:"w-full h-32 p-3 text-sm border rounded-md font-mono",value:c.custom_css_tablet||"",onChange:v=>b(c.id,{custom_css_tablet:v.target.value}),placeholder:`/* Custom CSS for tablet */
@media (max-width: 768px) {
  .hero-content {
    /* Your tablet styles here */
  }
}`})]}),e.jsxs(ze,{value:"mobile",className:"space-y-2",children:[e.jsx(M,{htmlFor:"custom-css-mobile",children:"Mobile CSS"}),e.jsx("textarea",{id:"custom-css-mobile",className:"w-full h-32 p-3 text-sm border rounded-md font-mono",value:c.custom_css_mobile||"",onChange:v=>b(c.id,{custom_css_mobile:v.target.value}),placeholder:`/* Custom CSS for mobile */
@media (max-width: 480px) {
  .hero-content {
    /* Your mobile styles here */
  }
}`})]})]})]})]})})]})})]})]}):e.jsxs("div",{className:"text-center p-8",children:[e.jsx("p",{className:"text-muted-foreground",children:"Failed to load hero settings"}),e.jsx(q,{onClick:h,className:"mt-4",children:"Try Again"})]})}function nE(){const{i18n:i}=Me(),s=li(),n=i.language==="ar",[o,u]=_.useState(null),[c,m]=_.useState(!0),[g,x]=_.useState(null),[j,y]=_.useState(!1),w=_.useCallback(async()=>{try{m(!0);const v=await ms.getHeroSettings();u(v)}catch(v){console.error("Error loading hero settings:",v)}finally{m(!1)}},[]);_.useEffect(()=>{w()},[w]);const A=async v=>{if(confirm(n?"      ":"Are you sure you want to delete this slide?"))try{await ms.deleteSlide(v),alert(n?"   ":"Slide deleted successfully"),w()}catch(U){console.error("Error deleting slide:",U),alert(n?"   ":"Error deleting slide")}},h=async v=>{try{await ms.toggleSlideStatus(v),w()}catch(U){console.error("Error toggling slide:",U),alert(n?"    ":"Error toggling slide status")}},p=v=>{x(v)},E=v=>{v.preventDefault()},b=async(v,U)=>{if(v.preventDefault(),!(!g||g===U))try{const C=o?.slides||[],R=C.findIndex(T=>T.id===g),S=C.findIndex(T=>T.id===U);if(R===-1||S===-1)return;const N=[...C],[z]=N.splice(R,1);N.splice(S,0,z);const L=N.map(T=>T.id);await ms.reorderSlides(L),w()}catch(C){console.error("Error reordering slides:",C),alert(n?"    ":"Error reordering slides")}finally{x(null)}};return c?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"})}):j?e.jsx(iE,{onClose:()=>y(!1)}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:n?"  ":"Hero Slider Management"}),e.jsx("p",{className:"text-muted-foreground",children:n?"    ":"Manage slides and advanced settings"})]}),e.jsxs(q,{onClick:()=>y(!0),variant:"outline",children:[e.jsx(Fi,{className:"h-4 w-4 mr-2"}),n?" ":"Advanced Settings"]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(pe,{children:n?"":"Slides"}),e.jsx(Ce,{children:n?"     ":"Manage hero slideshow slides"})]}),e.jsxs(q,{onClick:()=>s("/hero-slide/add"),children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),n?" ":"Add Slide"]})]}),e.jsx(ne,{children:o?.slides.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n?"  .    .":"No slides found. Add your first slide to get started."}):e.jsx("div",{className:"space-y-4",children:o?.slides.sort((v,U)=>v.sort_order-U.sort_order).map(v=>e.jsxs("div",{className:"flex items-center p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-move",draggable:!0,onDragStart:()=>p(v.id),onDragOver:E,onDrop:U=>b(U,v.id),children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx(cN,{className:"h-5 w-5 text-muted-foreground"})}),e.jsx("div",{className:"flex-shrink-0 mr-4",children:e.jsx("div",{className:"w-16 h-10 bg-muted rounded overflow-hidden",children:v.media_type==="video"?e.jsx("video",{src:v.media_url,className:"w-full h-full object-cover",muted:!0}):e.jsx("img",{src:v.media_url,alt:v.title,className:"w-full h-full object-cover"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium truncate",children:n&&v.title_ar?v.title_ar:v.title}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n&&v.subtitle_ar?v.subtitle_ar:v.subtitle})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>h(v.id),className:v.is_active?"text-green-600":"text-muted-foreground",children:v.is_active?e.jsx($t,{className:"h-4 w-4"}):e.jsx(qs,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>s(`/hero-slide/edit/${v.id}`),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>A(v.id),className:"text-destructive hover:text-destructive",children:e.jsx(Zt,{className:"h-4 w-4"})})]})]},v.id))})})]})]})}const lE=i=>({title:i.meta_title||"",titleAr:i.meta_title_ar||"",description:i.meta_description||"",descriptionAr:i.meta_description_ar||"",keywords:i.meta_keywords||"",keywordsAr:i.meta_keywords_ar||"",canonicalUrl:i.canonical_url||"",ogTitle:i.og_title||"",ogTitleAr:i.og_title_ar||"",ogDescription:i.og_description||"",ogDescriptionAr:i.og_description_ar||"",ogImage:i.og_image||"",twitterTitle:i.twitter_title||"",twitterTitleAr:i.twitter_title_ar||"",twitterDescription:i.twitter_description||"",twitterDescriptionAr:i.twitter_description_ar||"",twitterImage:i.twitter_image||""}),oE=i=>({meta_title:i.title,meta_title_ar:i.titleAr,meta_description:i.description,meta_description_ar:i.descriptionAr,meta_keywords:i.keywords,meta_keywords_ar:i.keywordsAr,canonical_url:i.canonicalUrl,og_title:i.ogTitle,og_title_ar:i.ogTitleAr,og_description:i.ogDescription,og_description_ar:i.ogDescriptionAr,og_image:i.ogImage,twitter_title:i.twitterTitle,twitter_title_ar:i.twitterTitleAr,twitter_description:i.twitterDescription,twitter_description_ar:i.twitterDescriptionAr,twitter_image:i.twitterImage}),cE={"privacy-policy":{title:"Privacy Policy",title_ar:" ",slug:"privacy-policy",show_in_footer:!0,sort_order:1},"terms-and-conditions":{title:"Terms & Conditions",title_ar:" ",slug:"terms-and-conditions",show_in_footer:!0,sort_order:2},"delivery-policy":{title:"Delivery Policy",title_ar:" ",slug:"delivery-policy",show_in_footer:!0,sort_order:3},"refund-policy":{title:"Refund Policy",title_ar:"  ",slug:"refund-policy",show_in_footer:!0,sort_order:4},faq:{title:"FAQ",title_ar:" ",slug:"faq",show_in_footer:!0,sort_order:5}};function dE(){const{i18n:i}=Me(),[s,n]=_.useState([]),[o,u]=_.useState(!0),[c,m]=_.useState(!1),[g,x]=_.useState(null),[j,y]=_.useState(!1),[w,A]=_.useState("basic"),[h,p]=_.useState(!1),E=i.language==="ar",[b,v]=_.useState({title:"",title_ar:"",content:"",content_ar:"",slug:"",meta_description:"",meta_description_ar:"",is_active:!0,show_in_footer:!1,sort_order:0,seo:{}}),U=_.useCallback(async()=>{try{u(!0);const H=await we.pages.list();n(H.items)}catch(H){console.error("Error loading pages:",H),te.error(E?"   ":"Error loading pages")}finally{u(!1)}},[E]);_.useEffect(()=>{U()},[U]);const C=async H=>{try{let W="";switch(H){case"privacy-policy":W="PrivacyPolicy.txt";break;case"terms-and-conditions":W="TermsAndConditions.txt";break;case"delivery-policy":W="DeliveryPolicy.txt";break;case"refund-policy":W="RefundPolicy.txt";break;case"faq":W="FAQ.txt";break;default:return{content:"",content_ar:""}}const he=await fetch(`/pages/${W}`);if(he.ok){const ee=await he.text();return{content:ee,content_ar:ee}}}catch(W){console.warn("Could not load default content:",W)}return{content:"",content_ar:""}},R=async()=>{try{p(!0),te.loading(E?"   ...":"Creating default pages...");const W=(await we.pages.list()).items.map(ee=>ee.slug);let he=0;for(const[ee,k]of Object.entries(cE))if(!W.includes(k.slug)){const{content:B,content_ar:F}=await C(ee),ue={...k,content:B,content_ar:F,meta_description:`${k.title} - SpiritHub Cafe`,meta_description_ar:`${k.title_ar} -   `,is_active:!0};await we.pages.create(ue),he++}te.dismiss(),he>0?(te.success(E?`  ${he}  `:`Created ${he} pages successfully`),await U()):te.success(E?"    ":"All default pages already exist")}catch(H){console.error("Error initializing default pages:",H),te.error(E?"    ":"Error creating default pages")}finally{p(!1)}},S=H=>H.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),N=()=>{v({title:"",title_ar:"",content:"",content_ar:"",slug:"",meta_description:"",meta_description_ar:"",is_active:!0,show_in_footer:!1,sort_order:s.length,seo:{}}),x(null),A("basic")},z=H=>{const W=lE(H);console.log("Page SEO Data Loading:",{original:H,converted:W}),v({title:H.title,title_ar:H.title_ar,content:H.content,content_ar:H.content_ar,slug:H.slug,meta_description:H.meta_description||"",meta_description_ar:H.meta_description_ar||"",is_active:H.is_active,show_in_footer:H.show_in_footer,sort_order:H.sort_order,seo:W}),x(H),y(!0)},L=()=>{N(),y(!0)},T=async()=>{if(!b.title||!b.title_ar||!b.slug){te.error(E?"    ":"Please fill all required fields");return}m(!0);try{const H={title:b.title,title_ar:b.title_ar,content:b.content,content_ar:b.content_ar,slug:b.slug,meta_description:b.meta_description,meta_description_ar:b.meta_description_ar,is_active:b.is_active,show_in_footer:b.show_in_footer,sort_order:b.sort_order,...b.seo?oE(b.seo):{}};g?(await we.pages.update(g.id,H),te.success(E?"   ":"Page updated successfully")):(await we.pages.create(H),te.success(E?"   ":"Page created successfully")),await U(),y(!1),N()}catch(H){console.error("Error saving page:",H),te.error(E?"   ":"Error saving page")}finally{m(!1)}},O=async H=>{if(confirm(E?"      ":"Are you sure you want to delete this page?"))try{await we.pages.delete(H.id),te.success(E?"   ":"Page deleted successfully"),await U()}catch(W){console.error("Error deleting page:",W),te.error(E?"   ":"Error deleting page")}},I=()=>{y(!1),N()};return j?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:g?E?" ":"Edit Page":E?"  ":"Create New Page"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:g?E?"  ":"Edit page content":E?"   ":"Create a new page for the website"})]}),e.jsxs(q,{variant:"outline",onClick:I,children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),E?"":"Back"]})]}),e.jsxs(La,{value:w,onValueChange:A,className:"space-y-6",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-3",children:[e.jsxs(Pe,{value:"basic",className:"flex items-center gap-2",children:[e.jsx(Fi,{className:"h-4 w-4"}),E?" ":"Basic Info"]}),e.jsxs(Pe,{value:"content",className:"flex items-center gap-2",children:[e.jsx(Hi,{className:"h-4 w-4"}),E?"":"Content"]}),e.jsxs(Pe,{value:"seo",className:"flex items-center gap-2",children:[e.jsx(mo,{className:"h-4 w-4"}),E?" SEO":"SEO Settings"]})]}),e.jsx(ze,{value:"basic",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:E?" ":"Basic Information"}),e.jsx(Ce,{children:E?"   ":"Enter the basic page information"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"title-en",children:[E?" ()":"Title (English)"," *"]}),e.jsx($,{id:"title-en",value:b.title,onChange:H=>v(W=>({...W,title:H.target.value,slug:g?W.slug:S(H.target.value)})),placeholder:E?"   ":"Enter page title in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"title-ar",children:[E?" ()":"Title (Arabic)"," *"]}),e.jsx($,{id:"title-ar",value:b.title_ar,onChange:H=>v(W=>({...W,title_ar:H.target.value})),placeholder:E?"   ":"Enter page title in Arabic",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{htmlFor:"slug",children:[E?" ":"Slug"," *"]}),e.jsx($,{id:"slug",value:b.slug,onChange:H=>v(W=>({...W,slug:H.target.value})),placeholder:"page-slug"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"sort-order",children:E?" ":"Sort Order"}),e.jsx($,{id:"sort-order",type:"number",min:"0",value:b.sort_order,onChange:H=>v(W=>({...W,sort_order:parseInt(H.target.value)||0})),placeholder:"0"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"is-active",checked:b.is_active,onCheckedChange:H=>v(W=>({...W,is_active:H}))}),e.jsx(M,{htmlFor:"is-active",children:E?" ":"Active Page"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{id:"show-in-footer",checked:b.show_in_footer,onCheckedChange:H=>v(W=>({...W,show_in_footer:H}))}),e.jsx(M,{htmlFor:"show-in-footer",children:E?"  ":"Show in Footer"})]})]})]})]})}),e.jsx(ze,{value:"content",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:E?" ":"Page Content"}),e.jsx(Ce,{children:E?"    ":"Write the page content in English and Arabic"})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"content-en",children:E?" ()":"Content (English)"}),e.jsx(da,{value:b.content,onChange:H=>v(W=>({...W,content:H})),placeholder:E?"   ":"Write page content in English",direction:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"content-ar",children:E?" ()":"Content (Arabic)"}),e.jsx(da,{value:b.content_ar,onChange:H=>v(W=>({...W,content_ar:H})),placeholder:E?"   ":"Write page content in Arabic",direction:"rtl"})]})]})]})}),e.jsx(ze,{value:"seo",className:"space-y-6",children:e.jsx(of,{initialData:b.seo||{},onChange:H=>v(W=>({...W,seo:H})),entityType:"page"})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[e.jsx(q,{variant:"outline",onClick:I,children:E?"":"Cancel"}),e.jsx(q,{onClick:T,disabled:c,className:"flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),E?" ...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-4 w-4"}),E?"":"Save"]})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:E?" ":"Pages Management"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:E?"       ":"Manage website pages like privacy policy, terms & conditions"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{onClick:R,disabled:h,variant:"outline",className:"flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),E?" ...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(hs,{className:"h-4 w-4"}),E?"  ":"Create Default Pages"]})}),e.jsxs(q,{onClick:L,className:"flex items-center gap-2",children:[e.jsx(Ba,{className:"h-4 w-4"}),E?" ":"New Page"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:E?" ":"All Pages"}),e.jsx(Ce,{children:E?"    ":"View and manage all website pages"})]}),e.jsx(ne,{children:o?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Hi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:E?"  ":"No pages found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:E?"       ":"Start by creating a new page or importing default pages"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsxs(q,{onClick:R,variant:"outline",children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),E?"  ":"Import Default Pages"]}),e.jsxs(q,{onClick:L,children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),E?"  ":"Create New Page"]})]})]}):e.jsx("div",{className:"space-y-4",children:s.map(H=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-medium",children:E?H.title_ar:H.title}),e.jsxs("div",{className:"flex gap-2",children:[H.is_active?e.jsxs(Se,{variant:"default",className:"flex items-center gap-1",children:[e.jsx($t,{className:"h-3 w-3"}),E?"":"Active"]}):e.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(qs,{className:"h-3 w-3"}),E?" ":"Inactive"]}),H.show_in_footer&&e.jsx(Se,{variant:"outline",children:E?" ":"In Footer"})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["/",H.slug]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[E?" : ":"Updated: ",H.updated.toLocaleDateString(E?"ar-SA":"en-US")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"outline",size:"sm",onClick:()=>z(H),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>O(H),className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:e.jsx(Zt,{className:"h-4 w-4"})})]})]},H.id))})})]})]})}function uE(){const[i,s]=_.useState(null),[n,o]=_.useState(!0),u=_.useCallback(async()=>{try{o(!0);const m=await Pa.getHomepageSettings();console.log("useHomepageSettings - Loaded settings:",m),s(m)}catch(m){console.error("Error loading homepage settings:",m)}finally{o(!1)}},[]);return _.useEffect(()=>{u()},[u]),{settings:i,loading:n,updateSettings:async m=>{try{await Pa.updateHomepageSettings(m),s(m),console.log("useHomepageSettings - Settings updated successfully"),setTimeout(()=>{u()},500)}catch(g){throw console.error("Error updating homepage settings:",g),g}},refetch:u}}function mE(){const{i18n:i}=Me(),s=i.language==="ar",{settings:n,loading:o,updateSettings:u}=uE(),[c,m]=_.useState(!1),[g,x]=_.useState(!1),[j,y]=_.useState(0),[w,A]=_.useState(""),[h,p]=_.useState({backgroundVideo:"",backgroundVideoBlur:30,showBackgroundVideo:!0,overlayOpacity:70,coffeeSelectionTitle:"COFFEE SELECTION",coffeeSelectionTitleAr:" ",coffeeSelectionDescription:"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",coffeeSelectionDescriptionAr:"         .                   .           .",coffeeSelectionButtonText:"SHOP NOW",coffeeSelectionButtonTextAr:" ",missionBackgroundImage:"/images/back.jpg",showMissionSection:!0,missionTitle:"SUSTAINABILITY, QUALITY, COMMITMENT",missionTitleAr:"  ",missionDescription:"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",missionDescriptionAr:"         .                   .           .",missionButtonText:"SHOP NOW",missionButtonTextAr:" ",communityBackgroundImage:"/images/back.jpg",showCommunitySection:!0,communityText:"Become an integral part of our Spirit Hub family! Connect with us on social media for exclusive updates, behind-the-scenes glimpses, and thrilling content. Follow us to stay in the loop. From sneak peeks into our creative process to special promotions, our social channels are your ticket to the latest. Engage with like-minded enthusiasts, share your experiences, and be a crucial member of our dynamic online community. Don't miss out on the excitement; join us today!",communityTextAr:"       !                .     .               .                .      !",communityImage1:"",communityImage2:"",communityImage3:"",communityImage4:"",instagramUrl:"https://instagram.com/spirithubcafe",facebookUrl:"https://facebook.com/spirithubcafe",showFeatureSection:!0,featureSectionTitle:"Exceptional Coffee Experience",featureSectionTitleAr:"  ",featureSectionDescription:"Discover the world of premium coffee with our carefully curated selection of the finest roasted beans. Every cup tells a story of passion and craftsmanship.",featureSectionDescriptionAr:"            .       .",featureSectionButtonText:"Discover More",featureSectionButtonTextAr:" ",featureSectionImage:"/images/back.jpg",featureSectionBackgroundImage:"",featureSectionBackgroundColor:"#f8f9fa",featureSectionBackgroundColorLight:"#f8f9fa",featureSectionBackgroundColorDark:"#1f2937",featureSectionBackgroundType:"color",showLatestReleaseSection:!0,latestReleaseTitle:"LATEST RELEASE",latestReleaseTitleAr:" ",latestReleaseDescription:"Discover our newest additions of specialty coffee crafted with exceptional care",latestReleaseDescriptionAr:"        ",latestReleaseBackgroundImage:"",latestReleaseBackgroundColor:"#ffffff",latestReleaseBackgroundColorLight:"#ffffff",latestReleaseBackgroundColorDark:"#1a1a1a",latestReleaseBackgroundType:"color",homepageCategoryIds:[]});_.useEffect(()=>{n&&(p({backgroundVideo:n.backgroundVideo||"",backgroundVideoBlur:n.backgroundVideoBlur||30,showBackgroundVideo:n.showBackgroundVideo??!0,overlayOpacity:n.overlayOpacity||70,coffeeSelectionTitle:n.coffeeSelectionTitle||"COFFEE SELECTION",coffeeSelectionTitleAr:n.coffeeSelectionTitleAr||" ",coffeeSelectionDescription:n.coffeeSelectionDescription||"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",coffeeSelectionDescriptionAr:n.coffeeSelectionDescriptionAr||"         .                   .           .",coffeeSelectionButtonText:n.coffeeSelectionButtonText||"SHOP NOW",coffeeSelectionButtonTextAr:n.coffeeSelectionButtonTextAr||" ",missionBackgroundImage:n.missionBackgroundImage||"/images/back.jpg",showMissionSection:n.showMissionSection??!0,missionTitle:n.missionTitle||"SUSTAINABILITY, QUALITY, COMMITMENT",missionTitleAr:n.missionTitleAr||"  ",missionDescription:n.missionDescription||"Our mission is to enrich each customer's day with a hand-crafted coffee experience. Through SpiritHub Roastery, we guarantee exceptional quality and flavor in every cup, from carefully selected beans to expert roasting. Wherever we serve, our passion and dedication shine through, making every sip unforgettable.",missionDescriptionAr:n.missionDescriptionAr||"         .                   .           .",missionButtonText:n.missionButtonText||"SHOP NOW",missionButtonTextAr:n.missionButtonTextAr||" ",communityBackgroundImage:n.communityBackgroundImage||"/images/back.jpg",showCommunitySection:n.showCommunitySection??!0,communityText:n.communityText||"Become an integral part of our Spirit Hub family! Connect with us on social media for exclusive updates, behind-the-scenes glimpses, and thrilling content. Follow us to stay in the loop. From sneak peeks into our creative process to special promotions, our social channels are your ticket to the latest. Engage with like-minded enthusiasts, share your experiences, and be a crucial member of our dynamic online community. Don't miss out on the excitement; join us today!",communityTextAr:n.communityTextAr||"       !                .     .               .                .      !",communityImage1:n.communityImage1||"/images/gallery/1.jpg",communityImage2:n.communityImage2||"/images/gallery/2.jpg",communityImage3:n.communityImage3||"/images/gallery/3.jpg",communityImage4:n.communityImage4||"/images/gallery/4.webp",instagramUrl:n.instagramUrl||"https://instagram.com/spirithubcafe",facebookUrl:n.facebookUrl||"https://facebook.com/spirithubcafe",showFeatureSection:n.showFeatureSection??!0,featureSectionTitle:n.featureSectionTitle||"Exceptional Coffee Experience",featureSectionTitleAr:n.featureSectionTitleAr||"  ",featureSectionDescription:n.featureSectionDescription||"Discover the world of premium coffee with our carefully curated selection of the finest roasted beans. Every cup tells a story of passion and craftsmanship.",featureSectionDescriptionAr:n.featureSectionDescriptionAr||"            .       .",featureSectionButtonText:n.featureSectionButtonText||"Discover More",featureSectionButtonTextAr:n.featureSectionButtonTextAr||" ",featureSectionImage:n.featureSectionImage||"/images/back.jpg",featureSectionBackgroundImage:n.featureSectionBackgroundImage||"",featureSectionBackgroundColor:n.featureSectionBackgroundColor||"#f8f9fa",featureSectionBackgroundColorLight:n.featureSectionBackgroundColorLight||n.featureSectionBackgroundColor||"#f8f9fa",featureSectionBackgroundColorDark:n.featureSectionBackgroundColorDark||n.featureSectionBackgroundColor||"#1f2937",featureSectionBackgroundType:n.featureSectionBackgroundType||"color",showLatestReleaseSection:n.showLatestReleaseSection??!0,latestReleaseTitle:n.latestReleaseTitle||"LATEST RELEASE",latestReleaseTitleAr:n.latestReleaseTitleAr||" ",latestReleaseDescription:n.latestReleaseDescription||"Discover our newest additions of specialty coffee crafted with exceptional care",latestReleaseDescriptionAr:n.latestReleaseDescriptionAr||"        ",latestReleaseBackgroundImage:n.latestReleaseBackgroundImage||"",latestReleaseBackgroundColor:n.latestReleaseBackgroundColor||"#ffffff",latestReleaseBackgroundColorLight:n.latestReleaseBackgroundColorLight||"#ffffff",latestReleaseBackgroundColorDark:n.latestReleaseBackgroundColorDark||"#1a1a1a",latestReleaseBackgroundType:n.latestReleaseBackgroundType||"color",homepageCategoryIds:n.homepageCategoryIds||[]}),A(n.backgroundVideo||""))},[n]);const E=async S=>{const N=S.target.files?.[0];if(!N)return;if(!N.type.startsWith("image/")){te.error(s?"    ":"Please upload a valid image file");return}const z=10*1024*1024;if(N.size>z){te.error(s?"    (  10MB)":"File size too large (max 10MB)");return}try{x(!0),y(0);const L=bt.currentUser;if(!L)throw new Error("User not authenticated");if(!L.emailVerified)throw new Error("Please verify your email before uploading files");const O=`images/homepage/${`mission-background-${Date.now()}.${N.name.split(".").pop()}`}`,I=setInterval(()=>{y(W=>W>=90?(clearInterval(I),90):W+Math.random()*15)},300),H=await Ja.upload(O,N);clearInterval(I),y(100),p(W=>({...W,missionBackgroundImage:H})),te.success(s?"   ":"Image uploaded successfully")}catch(L){console.error("Error uploading image:",L);const T=setInterval(()=>{y(I=>I<=0?(clearInterval(T),0):I-10)},100);let O=s?"   ":"Error uploading image";L instanceof Error&&(L.message.includes("storage/unauthorized")||L.message.includes("Unauthorized")?O=s?"    ":"You do not have permission to upload files":L.message.includes("storage/quota-exceeded")?O=s?"   ":"Storage quota exceeded":L.message.includes("storage/unauthenticated")||L.message.includes("not authenticated")?O=s?"   ":"Please login first":L.message.includes("network")?O=s?"      ":"Network error, please try again":O=`${s?"":"Error"}: ${L.message}`),te.error(O)}finally{x(!1),y(0);const L=S.target;L&&(L.value="")}},b=async S=>{const N=S.target.files?.[0];if(!N)return;if(!N.type.startsWith("video/")){te.error(s?"    ":"Please upload a valid video file");return}const z=50*1024*1024;if(N.size>z){te.error(s?"    (  50MB)":"File size too large (max 50MB)");return}try{x(!0),y(0);const L=bt.currentUser;if(!L)throw new Error("User not authenticated");if(!L.emailVerified)throw new Error("Please verify your email before uploading files");const O=`videos/homepage/${`homepage-settings-${Date.now()}.${N.name.split(".").pop()}`}`,I=setInterval(()=>{y(W=>W>=90?(clearInterval(I),90):W+Math.random()*15)},300),H=await Ja.upload(O,N);clearInterval(I),y(100),p(W=>({...W,backgroundVideo:H})),A(H),te.success(s?"   ":"Video uploaded successfully")}catch(L){console.error("Error uploading video:",L);const T=setInterval(()=>{y(I=>I<=0?(clearInterval(T),0):I-10)},100);let O=s?"   ":"Error uploading video";L instanceof Error&&(L.message.includes("storage/unauthorized")||L.message.includes("Unauthorized")?O=s?"    ":"You do not have permission to upload files":L.message.includes("storage/quota-exceeded")?O=s?"   ":"Storage quota exceeded":L.message.includes("storage/unauthenticated")||L.message.includes("not authenticated")?O=s?"   ":"Please login first":L.message.includes("network")?O=s?"      ":"Network error, please try again":O=`${s?"":"Error"}: ${L.message}`),te.error(O)}finally{x(!1),y(0);const L=S.target;L&&(L.value="")}},v=async()=>{try{m(!0),await u(h),Pa.forceRefreshHomepage(),te.success(s?"   ":"Settings saved successfully"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("homepageSettingsUpdated"))},500)}catch(S){console.error("Error saving settings:",S),te.error(s?"   ":"Error saving settings")}finally{m(!1)}},U=()=>{p(S=>({...S,backgroundVideo:""})),A(""),te.success(s?"  ":"Video removed")},C=async S=>{const N=S.target.files?.[0];if(!N)return;if(!N.type.startsWith("image/")){te.error(s?"    ":"Please upload a valid image file");return}const z=10*1024*1024;if(N.size>z){te.error(s?"    (  10MB)":"File size too large (max 10MB)");return}try{x(!0),y(0);const L=bt.currentUser;if(!L)throw new Error("User not authenticated");if(!L.emailVerified)throw new Error("Please verify your email before uploading files");const O=`images/homepage/${`community-background-${Date.now()}.${N.name.split(".").pop()}`}`,I=setInterval(()=>{y(W=>W>=90?(clearInterval(I),90):W+Math.random()*15)},300),H=await Ja.upload(O,N);clearInterval(I),y(100),p(W=>({...W,communityBackgroundImage:H})),te.success(s?"   ":"Image uploaded successfully")}catch(L){console.error("Error uploading image:",L);const T=setInterval(()=>{y(I=>I<=0?(clearInterval(T),0):I-10)},100);let O=s?"   ":"Error uploading image";L instanceof Error&&(L.message.includes("storage/unauthorized")||L.message.includes("Unauthorized")?O=s?"    ":"You do not have permission to upload files":L.message.includes("storage/quota-exceeded")?O=s?"   ":"Storage quota exceeded":L.message.includes("storage/unauthenticated")||L.message.includes("not authenticated")?O=s?"   ":"Please login first":L.message.includes("network")?O=s?"      ":"Network error, please try again":O=`${s?"":"Error"}: ${L.message}`),te.error(O)}finally{x(!1),y(0);const L=S.target;L&&(L.value="")}},R=async(S,N)=>{const z=S.target.files?.[0];if(!z)return;if(!z.type.startsWith("image/")){te.error(s?"    ":"Please upload a valid image file");return}const L=10*1024*1024;if(z.size>L){te.error(s?"    (  10MB)":"File size too large (max 10MB)");return}try{x(!0),y(0);const T=bt.currentUser;if(!T)throw new Error("User not authenticated");if(!T.emailVerified)throw new Error("Please verify your email before uploading files");const I=`images/homepage/community/${`community-image-${N}-${Date.now()}.${z.name.split(".").pop()}`}`,H=setInterval(()=>{y(he=>he>=90?(clearInterval(H),90):he+Math.random()*15)},300),W=await Ja.upload(I,z);clearInterval(H),y(100),p(he=>({...he,[`communityImage${N}`]:W})),te.success(s?"   ":"Image uploaded successfully")}catch(T){console.error("Error uploading image:",T);const O=setInterval(()=>{y(H=>H<=0?(clearInterval(O),0):H-10)},100);let I=s?"   ":"Error uploading image";T instanceof Error&&(T.message.includes("storage/unauthorized")||T.message.includes("Unauthorized")?I=s?"    ":"You do not have permission to upload files":T.message.includes("storage/quota-exceeded")?I=s?"   ":"Storage quota exceeded":T.message.includes("storage/unauthenticated")||T.message.includes("not authenticated")?I=s?"   ":"Please login first":T.message.includes("network")?I=s?"      ":"Network error, please try again":I=`${s?"":"Error"}: ${T.message}`),te.error(I)}finally{x(!1),y(0);const T=S.target;T&&(T.value="")}};return o?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),e.jsx("div",{className:"h-32 bg-muted rounded"}),e.jsx("div",{className:"h-24 bg-muted rounded"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:s?"  ":"Homepage Management"}),e.jsx("p",{className:"text-muted-foreground",children:s?"     ":"Manage content and settings for homepage sections"})]})}),e.jsxs(La,{defaultValue:"coffee-selection",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-5",children:[e.jsxs(Pe,{value:"coffee-selection",className:"flex items-center gap-2",children:[e.jsx(Dm,{className:"h-4 w-4"}),s?" ":"Coffee Selection"]}),e.jsxs(Pe,{value:"feature-section",className:"flex items-center gap-2",children:[e.jsx(In,{className:"h-4 w-4"}),s?" ":"Feature Section"]}),e.jsxs(Pe,{value:"latest-release",className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-4 w-4"}),s?" ":"Latest Release"]}),e.jsxs(Pe,{value:"mission-statement",className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),s?" ":"Mission Statement"]}),e.jsxs(Pe,{value:"community-section",className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),s?" ":"Community Section"]})]}),e.jsxs(ze,{value:"coffee-selection",className:"space-y-6",children:[e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(In,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Section Content"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"       ":"Manage title, description, and action button for Coffee Selection section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-title-en",className:"text-sm font-medium",children:s?" ()":"Title (English)"}),e.jsx($,{id:"coffee-title-en",value:h.coffeeSelectionTitle,onChange:S=>p(N=>({...N,coffeeSelectionTitle:S.target.value})),placeholder:"COFFEE SELECTION",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-title-ar",className:"text-sm font-medium",children:s?" ()":"Title (Arabic)"}),e.jsx($,{id:"coffee-title-ar",value:h.coffeeSelectionTitleAr,onChange:S=>p(N=>({...N,coffeeSelectionTitleAr:S.target.value})),placeholder:" ",className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-desc-en",className:"text-sm font-medium",children:s?" ()":"Description (English)"}),e.jsx(ct,{id:"coffee-desc-en",value:h.coffeeSelectionDescription,onChange:S=>p(N=>({...N,coffeeSelectionDescription:S.target.value})),placeholder:"Our mission is to enrich each customer's day...",className:"min-h-[120px] text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-desc-ar",className:"text-sm font-medium",children:s?" ()":"Description (Arabic)"}),e.jsx(ct,{id:"coffee-desc-ar",value:h.coffeeSelectionDescriptionAr,onChange:S=>p(N=>({...N,coffeeSelectionDescriptionAr:S.target.value})),placeholder:"     ...",className:"min-h-[120px] text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-btn-en",className:"text-sm font-medium",children:s?"  ()":"Button Text (English)"}),e.jsx($,{id:"coffee-btn-en",value:h.coffeeSelectionButtonText,onChange:S=>p(N=>({...N,coffeeSelectionButtonText:S.target.value})),placeholder:"SHOP NOW",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"coffee-btn-ar",className:"text-sm font-medium",children:s?"  ()":"Button Text (Arabic)"}),e.jsx($,{id:"coffee-btn-ar",value:h.coffeeSelectionButtonTextAr,onChange:S=>p(N=>({...N,coffeeSelectionButtonTextAr:S.target.value})),placeholder:" ",className:"text-right",dir:"rtl"})]})]})]})]}),e.jsxs(ie,{className:"border-2 border-dashed border-primary/20 hover:border-primary/40 transition-colors",children:[e.jsxs(ge,{className:"text-center",children:[e.jsxs(pe,{className:"flex items-center justify-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(Dm,{className:"h-6 w-6 text-primary"})}),s?"  ":"Background Video Management"]}),e.jsx(Ce,{className:"text-base",children:s?"        Parallax":"Upload and manage homepage background video with parallax effect"})]}),e.jsxs(ne,{className:"space-y-8",children:[w&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/20 to-accent/20 rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-1000"}),e.jsxs("div",{className:"relative bg-background rounded-lg p-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:s?" ":"Current Video"}),e.jsx(q,{variant:"ghost",size:"sm",onClick:U,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(St,{className:"h-4 w-4"})})]}),e.jsx("video",{src:w,className:"w-full max-w-md rounded-lg shadow-lg aspect-video mx-auto",controls:!0,muted:!0})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 text-foreground",children:s?"  ":"Upload New Video"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"     ":"Drag and drop your video here or click to browse"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"video-upload",type:"file",accept:"video/*",onChange:b,disabled:g,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx("div",{className:`
                    border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300
                    ${g?"border-primary bg-primary/5 cursor-not-allowed":"border-muted-foreground/25 hover:border-primary hover:bg-primary/5 cursor-pointer"}
                  `,children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:`
                        p-4 rounded-full transition-colors duration-300
                        ${g?"bg-primary/20":"bg-muted group-hover:bg-primary/10"}
                      `,children:e.jsx(Dm,{className:`h-8 w-8 ${g?"text-primary":"text-muted-foreground"}`})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-base font-medium text-foreground",children:g?s?" ...":"Uploading...":s?"  ":"Choose video file"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"MP4, WebM, MOV ( : 50MB)":"MP4, WebM, MOV (Max: 50MB)"})]}),g&&e.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s?"":"Progress"}),e.jsxs("span",{className:"font-medium text-primary",children:[j,"%"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-accent transition-all duration-300 ease-out",style:{width:`${j}%`}})})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-sm text-muted-foreground bg-background px-3",children:s?"   ":"Or enter video URL"}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"video-url",className:"text-sm font-medium",children:s?" ":"Video URL"}),e.jsx($,{id:"video-url",value:h.backgroundVideo,onChange:S=>{p(N=>({...N,backgroundVideo:S.target.value})),A(S.target.value)},placeholder:"https://example.com/video.mp4",className:"text-left",dir:"ltr"})]})]})]})]})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(Fi,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Advanced Video Settings"})]}),e.jsx(Se,{variant:"outline",className:"bg-background",children:s?"":"Advanced"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"      ":"Customize video appearance and effects with advanced options"})]}),e.jsxs(ne,{className:"space-y-8 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4 text-primary"}),s?"  ":"Show Background Video"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"       ":"Enable or disable background video in coffee selection section"})]}),e.jsx(it,{checked:h.showBackgroundVideo,onCheckedChange:S=>p(N=>({...N,showBackgroundVideo:S})),className:"data-[state=checked]:bg-primary"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(M,{className:"text-lg font-semibold text-foreground",children:s?" ":"Blur Intensity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Se,{variant:"secondary",className:"text-sm font-medium",children:[h.backgroundVideoBlur,"%"]}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"px-4 py-3 bg-muted/50 rounded-lg border border-border/30",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s?"    ":"Drag the slider to adjust blur level"}),e.jsx($,{type:"range",min:"0",max:"100",step:"5",value:h.backgroundVideoBlur,onChange:S=>p(N=>({...N,backgroundVideoBlur:parseInt(S.target.value)})),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:s?"":"Clear"}),e.jsx("span",{children:s?" ":"Very Blurry"})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(M,{className:"text-base",children:s?"  ":"Overlay Opacity"}),e.jsxs(Se,{variant:"secondary",children:[h.overlayOpacity,"%"]})]}),e.jsx($,{type:"range",min:"0",max:"100",step:"10",value:h.overlayOpacity,onChange:S=>p(N=>({...N,overlayOpacity:parseInt(S.target.value)})),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:s?"":"Transparent"}),e.jsx("span",{children:s?"":"Opaque"})]})]})]})]})]}),e.jsxs(ze,{value:"mission-statement",className:"space-y-6",children:[e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(In,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Mission Statement Content"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"       ":"Manage title, description, and action button for Mission Statement section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4 text-primary"}),s?"   ":"Show Mission Statement Section"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"        ":"Enable or disable mission statement section in homepage"})]}),e.jsx(it,{checked:h.showMissionSection,onCheckedChange:S=>p(N=>({...N,showMissionSection:S})),className:"data-[state=checked]:bg-primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-title-en",className:"text-sm font-medium",children:s?" ()":"Title (English)"}),e.jsx($,{id:"mission-title-en",value:h.missionTitle,onChange:S=>p(N=>({...N,missionTitle:S.target.value})),placeholder:"SUSTAINABILITY, QUALITY, COMMITMENT",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-title-ar",className:"text-sm font-medium",children:s?" ()":"Title (Arabic)"}),e.jsx($,{id:"mission-title-ar",value:h.missionTitleAr,onChange:S=>p(N=>({...N,missionTitleAr:S.target.value})),placeholder:"  ",className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-desc-en",className:"text-sm font-medium",children:s?" ()":"Description (English)"}),e.jsx(ct,{id:"mission-desc-en",value:h.missionDescription,onChange:S=>p(N=>({...N,missionDescription:S.target.value})),placeholder:"Our mission is to enrich each customer's day...",className:"min-h-[120px] text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-desc-ar",className:"text-sm font-medium",children:s?" ()":"Description (Arabic)"}),e.jsx(ct,{id:"mission-desc-ar",value:h.missionDescriptionAr,onChange:S=>p(N=>({...N,missionDescriptionAr:S.target.value})),placeholder:"     ...",className:"min-h-[120px] text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-btn-en",className:"text-sm font-medium",children:s?"  ()":"Button Text (English)"}),e.jsx($,{id:"mission-btn-en",value:h.missionButtonText,onChange:S=>p(N=>({...N,missionButtonText:S.target.value})),placeholder:"SHOP NOW",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"mission-btn-ar",className:"text-sm font-medium",children:s?"  ()":"Button Text (Arabic)"}),e.jsx($,{id:"mission-btn-ar",value:h.missionButtonTextAr,onChange:S=>p(N=>({...N,missionButtonTextAr:S.target.value})),placeholder:" ",className:"text-right",dir:"rtl"})]})]})]})]}),e.jsxs(ie,{className:"border-2 border-dashed border-primary/20 hover:border-primary/40 transition-colors",children:[e.jsxs(ge,{className:"text-center",children:[e.jsxs(pe,{className:"flex items-center justify-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-6 w-6 text-primary"})}),s?"  ":"Background Image Management"]}),e.jsx(Ce,{className:"text-base",children:s?"         ":"Upload and manage mission statement background image with fixed effect"})]}),e.jsxs(ne,{className:"space-y-8",children:[h.missionBackgroundImage&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/20 to-accent/20 rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-1000"}),e.jsxs("div",{className:"relative bg-background rounded-lg p-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:s?" ":"Current Image"}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>p(S=>({...S,missionBackgroundImage:"/images/back.jpg"})),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(St,{className:"h-4 w-4"})})]}),e.jsx("img",{src:h.missionBackgroundImage,alt:"Mission background",className:"w-full max-w-md rounded-lg shadow-lg aspect-video mx-auto object-cover",onError:S=>{S.currentTarget.src="/images/back.jpg"}})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2 text-foreground",children:s?"  ":"Upload New Image"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s?"     ":"Drag and drop your image here or click to browse"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{id:"image-upload",type:"file",accept:"image/*",onChange:E,disabled:g,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsx("div",{className:`
                    border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300
                    ${g?"border-primary bg-primary/5 cursor-not-allowed":"border-muted-foreground/25 hover:border-primary hover:bg-primary/5 cursor-pointer"}
                  `,children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:`
                        p-4 rounded-full transition-colors duration-300
                        ${g?"bg-primary/20":"bg-muted group-hover:bg-primary/10"}
                      `,children:e.jsx(us,{className:`h-8 w-8 ${g?"text-primary":"text-muted-foreground"}`})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-base font-medium text-foreground",children:g?s?" ...":"Uploading...":s?"  ":"Choose image file"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"JPG, PNG, WebP ( : 10MB)":"JPG, PNG, WebP (Max: 10MB)"})]}),g&&e.jsxs("div",{className:"w-full max-w-xs space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s?"":"Progress"}),e.jsxs("span",{className:"font-medium text-primary",children:[j,"%"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-accent transition-all duration-300 ease-out",style:{width:`${j}%`}})})]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-sm text-muted-foreground bg-background px-3",children:s?"   ":"Or enter image URL"}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"image-url",className:"text-sm font-medium",children:s?" ":"Image URL"}),e.jsx($,{id:"image-url",value:h.missionBackgroundImage,onChange:S=>p(N=>({...N,missionBackgroundImage:S.target.value})),placeholder:"https://example.com/image.jpg",className:"text-left",dir:"ltr"})]})]})]})]})]})]}),e.jsxs(ze,{value:"feature-section",className:"space-y-6",children:[e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(Hs,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Feature Section Content"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"     ":"Manage title, description, and image for Feature section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4 text-primary"}),s?"  ":"Show Feature Section"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"       ":"Enable or disable feature section in homepage"})]}),e.jsx(it,{checked:h.showFeatureSection,onCheckedChange:S=>p(N=>({...N,showFeatureSection:S})),className:"data-[state=checked]:bg-primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-title-en",className:"text-sm font-medium",children:s?" ()":"Title (English)"}),e.jsx($,{id:"feature-title-en",value:h.featureSectionTitle,onChange:S=>p(N=>({...N,featureSectionTitle:S.target.value})),placeholder:"Premium Coffee Experience",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-title-ar",className:"text-sm font-medium",children:s?" ()":"Title (Arabic)"}),e.jsx($,{id:"feature-title-ar",value:h.featureSectionTitleAr,onChange:S=>p(N=>({...N,featureSectionTitleAr:S.target.value})),placeholder:"  ",className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-desc-en",className:"text-sm font-medium",children:s?" ()":"Description (English)"}),e.jsx(da,{value:h.featureSectionDescription,onChange:S=>p(N=>({...N,featureSectionDescription:S})),placeholder:"Discover the art of exceptional coffee...",className:"min-h-[200px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-desc-ar",className:"text-sm font-medium",children:s?" ()":"Description (Arabic)"}),e.jsx(da,{value:h.featureSectionDescriptionAr,onChange:S=>p(N=>({...N,featureSectionDescriptionAr:S})),placeholder:"   ...",className:"min-h-[200px]"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-btn-en",className:"text-sm font-medium",children:s?"  ()":"Button Text (English)"}),e.jsx($,{id:"feature-btn-en",value:h.featureSectionButtonText,onChange:S=>p(N=>({...N,featureSectionButtonText:S.target.value})),placeholder:"EXPLORE NOW",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-btn-ar",className:"text-sm font-medium",children:s?"  ()":"Button Text (Arabic)"}),e.jsx($,{id:"feature-btn-ar",value:h.featureSectionButtonTextAr,onChange:S=>p(N=>({...N,featureSectionButtonTextAr:S.target.value})),placeholder:" ",className:"text-right",dir:"rtl"})]})]})]})]}),e.jsxs(ie,{className:"border-2 border-dashed border-primary/20 hover:border-primary/40 transition-colors",children:[e.jsxs(ge,{className:"text-center",children:[e.jsxs(pe,{className:"flex items-center justify-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-6 w-6 text-primary"})}),s?"   ":"Feature Section Image Management"]}),e.jsx(Ce,{className:"text-base",children:s?"    ":"Upload and manage feature section image"})]}),e.jsxs(ne,{className:"space-y-8",children:[h.featureSectionImage&&e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary/20 to-accent/20 rounded-xl blur opacity-25 group-hover:opacity-40 transition duration-1000"}),e.jsxs("div",{className:"relative bg-background rounded-lg p-4 border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-foreground",children:s?" ":"Current Image"}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>p(S=>({...S,featureSectionImage:"/images/logo.png"})),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(St,{className:"h-4 w-4"})})]}),e.jsx("img",{src:h.featureSectionImage,alt:"Feature section",className:"w-full max-w-md rounded-lg shadow-lg aspect-square mx-auto object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"feature-image-url",className:"text-sm font-medium",children:s?" ":"Image URL"}),e.jsx($,{id:"feature-image-url",value:h.featureSectionImage,onChange:S=>p(N=>({...N,featureSectionImage:S.target.value})),placeholder:"https://example.com/image.jpg",className:"text-left",dir:"ltr"})]})})]})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Background Settings"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"     ":"Control the background of Exceptional Coffee Experience section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{htmlFor:"feature-section-bg-type",className:"text-base font-semibold",children:s?" ":"Background Type"}),e.jsxs("select",{id:"feature-section-bg-type",value:h.featureSectionBackgroundType,onChange:S=>p(N=>({...N,featureSectionBackgroundType:S.target.value})),className:"w-full p-2 border border-border rounded-md bg-background",title:s?"     ":"Choose background type for Exceptional Coffee Experience section",children:[e.jsx("option",{value:"color",children:s?"":"Color"}),e.jsx("option",{value:"image",children:s?"":"Image"})]})]}),h.featureSectionBackgroundType==="color"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{className:"text-base font-semibold",children:s?"   ":"Background Colors by Theme"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{htmlFor:"feature-bg-color-light",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full border border-gray-300"}),s?"  -  ":"Background Color - Light Theme"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",id:"feature-bg-color-light",value:h.featureSectionBackgroundColorLight||h.featureSectionBackgroundColor||"#f8f9fa",onChange:S=>p(N=>({...N,featureSectionBackgroundColorLight:S.target.value})),className:"w-12 h-10 rounded border border-border cursor-pointer",title:s?"    ":"Choose background color for light theme"}),e.jsx($,{value:h.featureSectionBackgroundColorLight||h.featureSectionBackgroundColor||"#f8f9fa",onChange:S=>p(N=>({...N,featureSectionBackgroundColorLight:S.target.value})),placeholder:"#f8f9fa",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(M,{htmlFor:"feature-bg-color-dark",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-800 rounded-full border border-gray-300"}),s?"  -  ":"Background Color - Dark Theme"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",id:"feature-bg-color-dark",value:h.featureSectionBackgroundColorDark||h.featureSectionBackgroundColor||"#1f2937",onChange:S=>p(N=>({...N,featureSectionBackgroundColorDark:S.target.value})),className:"w-12 h-10 rounded border border-border cursor-pointer",title:s?"    ":"Choose background color for dark theme"}),e.jsx($,{value:h.featureSectionBackgroundColorDark||h.featureSectionBackgroundColor||"#1f2937",onChange:S=>p(N=>({...N,featureSectionBackgroundColorDark:S.target.value})),placeholder:"#1f2937",className:"flex-1"})]})]})]}),h.featureSectionBackgroundType==="image"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{htmlFor:"feature-bg-image-url",className:"text-sm font-medium",children:s?"  ":"Background Image URL"}),e.jsx($,{id:"feature-bg-image-url",value:h.featureSectionBackgroundImage,onChange:S=>p(N=>({...N,featureSectionBackgroundImage:S.target.value})),placeholder:"https://example.com/background.jpg",className:"text-left",dir:"ltr"}),h.featureSectionBackgroundImage&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:h.featureSectionBackgroundImage,alt:"Background preview",className:"w-full max-w-md rounded-lg shadow-lg object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}})})]})]})]})]}),e.jsxs(ze,{value:"latest-release",className:"space-y-6",children:[e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(Hs,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Latest Release Content"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"     ":"Manage title and description for Latest Release section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/30 border border-border/50",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx($t,{className:"h-4 w-4 text-primary"}),s?"   ":"Show Latest Release Section"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"        ":"Enable or disable latest release section in homepage"})]}),e.jsx(it,{checked:h.showLatestReleaseSection,onCheckedChange:S=>p(N=>({...N,showLatestReleaseSection:S})),className:"data-[state=checked]:bg-primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-title-en",className:"text-sm font-medium",children:s?" ()":"Title (English)"}),e.jsx($,{id:"latest-release-title-en",value:h.latestReleaseTitle,onChange:S=>p(N=>({...N,latestReleaseTitle:S.target.value})),placeholder:"LATEST RELEASE",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-title-ar",className:"text-sm font-medium",children:s?" ()":"Title (Arabic)"}),e.jsx($,{id:"latest-release-title-ar",value:h.latestReleaseTitleAr,onChange:S=>p(N=>({...N,latestReleaseTitleAr:S.target.value})),placeholder:" ",className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-desc-en",className:"text-sm font-medium",children:s?" ()":"Description (English)"}),e.jsx(da,{value:h.latestReleaseDescription,onChange:S=>p(N=>({...N,latestReleaseDescription:S})),placeholder:"Discover our newest additions...",className:"min-h-[200px]"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-desc-ar",className:"text-sm font-medium",children:s?" ()":"Description (Arabic)"}),e.jsx(da,{value:h.latestReleaseDescriptionAr,onChange:S=>p(N=>({...N,latestReleaseDescriptionAr:S})),placeholder:"  ...",className:"min-h-[200px]"})]})]})]})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Background Settings"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"     ":"Control the background of latest release section"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{htmlFor:"latest-release-bg-type",className:"text-base font-semibold",children:s?" ":"Background Type"}),e.jsxs("select",{id:"latest-release-bg-type",value:h.latestReleaseBackgroundType,onChange:S=>p(N=>({...N,latestReleaseBackgroundType:S.target.value})),className:"w-full p-2 border border-border rounded-md bg-background",title:s?"     ":"Choose background type for Latest Release section",children:[e.jsx("option",{value:"color",children:s?"":"Color"}),e.jsx("option",{value:"image",children:s?"":"Image"})]})]}),h.latestReleaseBackgroundType==="color"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{className:"text-sm font-medium",children:s?"   ":"Theme-Specific Background Colors"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-bg-color-light",className:"text-sm text-muted-foreground",children:s?"  -  ":"Light Theme Background Color"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",id:"latest-release-bg-color-light",value:h.latestReleaseBackgroundColorLight,onChange:S=>p(N=>({...N,latestReleaseBackgroundColorLight:S.target.value})),className:"w-12 h-10 rounded border border-border cursor-pointer",title:s?"    ":"Choose background color for light theme"}),e.jsx($,{value:h.latestReleaseBackgroundColorLight,onChange:S=>p(N=>({...N,latestReleaseBackgroundColorLight:S.target.value})),placeholder:"#ffffff",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-bg-color-dark",className:"text-sm text-muted-foreground",children:s?"  -  ":"Dark Theme Background Color"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",id:"latest-release-bg-color-dark",value:h.latestReleaseBackgroundColorDark,onChange:S=>p(N=>({...N,latestReleaseBackgroundColorDark:S.target.value})),className:"w-12 h-10 rounded border border-border cursor-pointer",title:s?"    ":"Choose background color for dark theme"}),e.jsx($,{value:h.latestReleaseBackgroundColorDark,onChange:S=>p(N=>({...N,latestReleaseBackgroundColorDark:S.target.value})),placeholder:"#1a1a1a",className:"flex-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"latest-release-bg-color-legacy",className:"text-sm text-muted-foreground",children:s?"   ()":"Default Background Color (Legacy)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"color",id:"latest-release-bg-color-legacy",value:h.latestReleaseBackgroundColor,onChange:S=>p(N=>({...N,latestReleaseBackgroundColor:S.target.value})),className:"w-12 h-10 rounded border border-border cursor-pointer",title:s?"  ":"Default background color"}),e.jsx($,{value:h.latestReleaseBackgroundColor,onChange:S=>p(N=>({...N,latestReleaseBackgroundColor:S.target.value})),placeholder:"#ffffff",className:"flex-1"})]})]})]}),h.latestReleaseBackgroundType==="image"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(M,{htmlFor:"latest-release-bg-image-url",className:"text-sm font-medium",children:s?"  ":"Background Image URL"}),e.jsx($,{id:"latest-release-bg-image-url",value:h.latestReleaseBackgroundImage,onChange:S=>p(N=>({...N,latestReleaseBackgroundImage:S.target.value})),placeholder:"https://example.com/background.jpg",className:"text-left",dir:"ltr"}),h.latestReleaseBackgroundImage&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:h.latestReleaseBackgroundImage,alt:"Background preview",className:"w-full max-w-md rounded-lg shadow-lg object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}})})]})]})]})]}),e.jsxs(ze,{value:"community-section",className:"space-y-6",children:[e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(Fi,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Display Settings"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"       ":"Control the display of community section on homepage"})]}),e.jsx(ne,{className:"space-y-6 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(M,{className:"text-base font-medium",children:s?"  ":"Show Community Section"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s?"          ":"Determines if the community section is displayed on the homepage"})]}),e.jsx(it,{checked:h.showCommunitySection,onCheckedChange:S=>p(N=>({...N,showCommunitySection:S}))})]})})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(In,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Community Text"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"     ":"Manage the text displayed in community section"})]}),e.jsx(ne,{className:"space-y-6 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-text-en",className:"text-sm font-medium",children:s?" ()":"Text (English)"}),e.jsx(ct,{id:"community-text-en",value:h.communityText,onChange:S=>p(N=>({...N,communityText:S.target.value})),placeholder:"Become an integral part of our Spirit Hub family!",className:"min-h-[150px] text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-text-ar",className:"text-sm font-medium",children:s?" ()":"Text (Arabic)"}),e.jsx(ct,{id:"community-text-ar",value:h.communityTextAr,onChange:S=>p(N=>({...N,communityTextAr:S.target.value})),placeholder:"       !",className:"min-h-[150px] text-right",dir:"rtl"})]})]})})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(In,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Social Media Links"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"       ":"Manage social media links displayed in community section"})]}),e.jsx(ne,{className:"space-y-6 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"instagram-url",className:"text-sm font-medium",children:s?" ":"Instagram URL"}),e.jsx($,{id:"instagram-url",value:h.instagramUrl,onChange:S=>p(N=>({...N,instagramUrl:S.target.value})),placeholder:"https://instagram.com/spirithubcafe",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"facebook-url",className:"text-sm font-medium",children:s?" ":"Facebook URL"}),e.jsx($,{id:"facebook-url",value:h.facebookUrl,onChange:S=>p(N=>({...N,facebookUrl:S.target.value})),placeholder:"https://facebook.com/spirithubcafe",className:"text-left",dir:"ltr"})]})]})})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?"  ":"Section Background Image"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"      ":"Upload background image or enter direct URL"})]}),e.jsxs(ne,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-bg-url",className:"text-sm font-medium",children:s?"  ":"Direct Image URL"}),e.jsx($,{id:"community-bg-url",value:h.communityBackgroundImage,onChange:S=>p(N=>({...N,communityBackgroundImage:S.target.value})),placeholder:"https://example.com/image.jpg",className:"text-left",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{htmlFor:"community-background-upload",className:"text-sm font-medium",children:s?"   ":"Or Upload New Image"}),e.jsx($,{id:"community-background-upload",type:"file",accept:"image/*",onChange:C,disabled:g,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"}),h.communityBackgroundImage&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative w-full h-32 rounded-lg overflow-hidden border",children:[e.jsx("img",{src:h.communityBackgroundImage,alt:"Community background preview",className:"w-full h-full object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}}),e.jsx(q,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>p(S=>({...S,communityBackgroundImage:""})),children:e.jsx(St,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s?"  X  ":"Click X to remove image"})]}),g&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s?" ...":"Uploading..."," ",j,"%"]})]})]})]})]}),e.jsxs(ie,{className:"border border-border/50 shadow-lg py-0",children:[e.jsxs(ge,{className:"bg-gradient-to-r from-primary/5 to-accent/5 rounded-t-lg py-6",children:[e.jsxs(pe,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:e.jsx(us,{className:"h-5 w-5 text-primary"})}),e.jsx("span",{className:"text-xl",children:s?" ":"Image Gallery"})]}),e.jsx(Ce,{className:"text-base mt-2",children:s?"      4     ":"Upload or enter direct URLs for 4 images to display in community section"})]}),e.jsx(ne,{className:"space-y-8 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"text-sm font-semibold",children:s?" ":"Image 1"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-1-url",className:"text-xs font-medium",children:s?"  ":"Direct Image URL"}),e.jsx($,{id:"community-image-1-url",value:h.communityImage1,onChange:S=>p(N=>({...N,communityImage1:S.target.value})),placeholder:"https://example.com/image1.jpg",className:"text-left text-xs",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-1-upload",className:"text-xs font-medium",children:s?"   ":"Or Upload New Image"}),e.jsx($,{id:"community-image-1-upload",type:"file",accept:"image/*",onChange:S=>R(S,1),disabled:g,className:"file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),h.communityImage1&&e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[e.jsx("img",{src:h.communityImage1,alt:"Community image 1",className:"w-full h-full object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}}),e.jsx(q,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>p(S=>({...S,communityImage1:""})),children:e.jsx(St,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"text-sm font-semibold",children:s?" ":"Image 2"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-2-url",className:"text-xs font-medium",children:s?"  ":"Direct Image URL"}),e.jsx($,{id:"community-image-2-url",value:h.communityImage2,onChange:S=>p(N=>({...N,communityImage2:S.target.value})),placeholder:"https://example.com/image2.jpg",className:"text-left text-xs",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-2-upload",className:"text-xs font-medium",children:s?"   ":"Or Upload New Image"}),e.jsx($,{id:"community-image-2-upload",type:"file",accept:"image/*",onChange:S=>R(S,2),disabled:g,className:"file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),h.communityImage2&&e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[e.jsx("img",{src:h.communityImage2,alt:"Community image 2",className:"w-full h-full object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}}),e.jsx(q,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>p(S=>({...S,communityImage2:""})),children:e.jsx(St,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"text-sm font-semibold",children:s?" ":"Image 3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-3-url",className:"text-xs font-medium",children:s?"  ":"Direct Image URL"}),e.jsx($,{id:"community-image-3-url",value:h.communityImage3,onChange:S=>p(N=>({...N,communityImage3:S.target.value})),placeholder:"https://example.com/image3.jpg",className:"text-left text-xs",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-3-upload",className:"text-xs font-medium",children:s?"   ":"Or Upload New Image"}),e.jsx($,{id:"community-image-3-upload",type:"file",accept:"image/*",onChange:S=>R(S,3),disabled:g,className:"file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),h.communityImage3&&e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[e.jsx("img",{src:h.communityImage3,alt:"Community image 3",className:"w-full h-full object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}}),e.jsx(q,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>p(S=>({...S,communityImage3:""})),children:e.jsx(St,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"text-sm font-semibold",children:s?" ":"Image 4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-4-url",className:"text-xs font-medium",children:s?"  ":"Direct Image URL"}),e.jsx($,{id:"community-image-4-url",value:h.communityImage4,onChange:S=>p(N=>({...N,communityImage4:S.target.value})),placeholder:"https://example.com/image4.jpg",className:"text-left text-xs",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"community-image-4-upload",className:"text-xs font-medium",children:s?"   ":"Or Upload New Image"}),e.jsx($,{id:"community-image-4-upload",type:"file",accept:"image/*",onChange:S=>R(S,4),disabled:g,className:"file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),h.communityImage4&&e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden border",children:[e.jsx("img",{src:h.communityImage4,alt:"Community image 4",className:"w-full h-full object-cover",onError:S=>{S.currentTarget.src="/images/logo.png"}}),e.jsx(q,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>p(S=>({...S,communityImage4:""})),children:e.jsx(St,{className:"h-4 w-4"})})]})]})]})})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{onClick:v,disabled:c,className:"min-w-[120px]",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),s?"...":"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gs,{className:"h-4 w-4 mr-2"}),s?" ":"Save Settings"]})})}),e.jsxs(Sh,{children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx(Ch,{children:s?"     1080p       16:9       16:9  .":"For best results, use 1080p or higher quality video with 16:9 aspect ratio for coffee section, and high-quality image with 16:9 ratio for mission section."})]})]})}function hE(){const{t:i,i18n:s}=Me(),n=s.language==="ar",[o,u]=_.useState("settings"),[c,m]=_.useState(!1),[g,x]=_.useState([]),[j,y]=_.useState(0),[w,A]=_.useState({phone1:"+968 9123 4567",phone2:"+968 9876 5432",whatsapp:"+968 9123 4567",email:"info@spirithubcafe.com",instagram:"@spirithubcafe",address:"Al Mouj Street, Muscat, Oman",address_ar:"   ",hours:"Daily: 7:00 AM - 11:00 PM",hours_ar:": 7:00  - 11:00 ",coordinates:{lat:23.618926,lng:58.256566}}),h=_.useCallback(async()=>{try{m(!0);const C=await Pn.getMessages();x(C.items),y(C.items.filter(R=>!R.is_read).length)}catch(C){console.error("Error loading messages:",C),console.error(i("common.error.load"))}finally{m(!1)}},[i]),p=_.useCallback(async()=>{try{const C=await Pn.getContactSettings();Object.keys(C).length>0&&A(R=>({...R,...C}))}catch(C){console.error("Error loading contact settings:",C)}},[]),E=async()=>{try{m(!0),await Pn.saveContactSettings(w),console.log(n?"   ":"Settings saved successfully")}catch(C){console.error("Error saving settings:",C),console.error(i("common.error.save"))}finally{m(!1)}},b=async C=>{try{await Pn.markAsRead(C),x(R=>R.map(S=>S.id===C?{...S,is_read:!0}:S)),y(R=>Math.max(0,R-1)),console.log(n?"   ":"Message marked as read")}catch(R){console.error("Error marking message as read:",R),console.error(i("common.error.update"))}};_.useEffect(()=>{h(),p()},[h,p]);const v=(C,R)=>{const S=`mailto:${C}?subject=Re: ${R}`;window.open(S,"_self")},U=C=>{const R=new Date(C);return n?R.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):R.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-3xl font-bold",children:n?"  ":"Contact Management"})}),e.jsxs(La,{value:o,onValueChange:u,className:"w-full",children:[e.jsxs(Ua,{className:"grid grid-cols-2 w-full max-w-md",children:[e.jsxs(Pe,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(ai,{className:"h-4 w-4"}),n?" ":"Contact Info"]}),e.jsxs(Pe,{value:"messages",className:"flex items-center gap-2",children:[e.jsx(ro,{className:"h-4 w-4"}),n?"":"Messages",j>0&&e.jsx(Se,{variant:"destructive",className:"h-5 min-w-[20px] text-xs",children:j})]})]}),e.jsx(ze,{value:"settings",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(jr,{className:"h-5 w-5"}),n?" ":"Contact Information"]}),e.jsx(Ce,{children:n?"        ":"Update the contact information displayed on the contact page"})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone1",children:n?"  ":"Primary Phone"}),e.jsx($,{id:"phone1",value:w.phone1,onChange:C=>A({...w,phone1:C.target.value}),placeholder:"+968 9123 4567",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"phone2",children:n?"  ":"Secondary Phone"}),e.jsx($,{id:"phone2",value:w.phone2,onChange:C=>A({...w,phone2:C.target.value}),placeholder:"+968 9876 5432",dir:"ltr"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"whatsapp",children:n?" ":"WhatsApp Number"}),e.jsx($,{id:"whatsapp",value:w.whatsapp,onChange:C=>A({...w,whatsapp:C.target.value}),placeholder:"+968 9123 4567",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"email",children:n?" ":"Email Address"}),e.jsx($,{id:"email",type:"email",value:w.email,onChange:C=>A({...w,email:C.target.value}),placeholder:"info@spirithubcafe.com",dir:"ltr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"instagram",children:n?" ":"Instagram Account"}),e.jsx($,{id:"instagram",value:w.instagram,onChange:C=>A({...w,instagram:C.target.value}),placeholder:"@spirithubcafe"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"address",children:n?" ()":"Address (English)"}),e.jsx(ct,{id:"address",value:w.address,onChange:C=>A({...w,address:C.target.value}),placeholder:"Al Mouj Street, Muscat, Oman",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"address_ar",children:n?" ()":"Address (Arabic)"}),e.jsx(ct,{id:"address_ar",value:w.address_ar,onChange:C=>A({...w,address_ar:C.target.value}),placeholder:"   ",rows:3,dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"hours",children:n?"  ()":"Working Hours (English)"}),e.jsx($,{id:"hours",value:w.hours,onChange:C=>A({...w,hours:C.target.value}),placeholder:"Daily: 7:00 AM - 11:00 PM"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"hours_ar",children:n?"  ()":"Working Hours (Arabic)"}),e.jsx($,{id:"hours_ar",value:w.hours_ar,onChange:C=>A({...w,hours_ar:C.target.value}),placeholder:": 7:00  - 11:00 ",dir:"rtl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"lat",children:n?" ":"Latitude"}),e.jsx($,{id:"lat",type:"number",step:"any",value:w.coordinates.lat,onChange:C=>A({...w,coordinates:{...w.coordinates,lat:parseFloat(C.target.value)}}),placeholder:"23.618926",dir:"ltr"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"lng",children:n?" ":"Longitude"}),e.jsx($,{id:"lng",type:"number",step:"any",value:w.coordinates.lng,onChange:C=>A({...w,coordinates:{...w.coordinates,lng:parseFloat(C.target.value)}}),placeholder:"58.256566",dir:"ltr"})]})]}),e.jsx(q,{onClick:E,disabled:c,className:"w-full",children:c?n?" ...":"Saving...":n?" ":"Save Settings"})]})]})}),e.jsx(ze,{value:"messages",className:"space-y-6",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ro,{className:"h-5 w-5"}),n?" ":"Contact Messages",j>0&&e.jsxs(Se,{variant:"destructive",className:"h-5 min-w-[20px] text-xs",children:[j," ",n?" ":"unread"]})]}),e.jsx(Ce,{children:n?"      ":"View and manage messages sent from the contact page"})]}),e.jsx(ne,{children:c?e.jsx("div",{className:"text-center py-8",children:n?" ...":"Loading..."}):g.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ro,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:n?"  ":"No messages yet"}),e.jsx("p",{className:"text-sm",children:n?"        ":"Messages sent from the contact page will appear here"})]}):e.jsx("div",{className:"space-y-4",children:g.map(C=>e.jsx(ie,{className:`${C.is_read?"":"border-primary"}`,children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold",children:C.name}),!C.is_read&&e.jsx(Se,{variant:"default",className:"text-xs",children:n?"":"New"}),C.replied_at&&e.jsxs(Se,{variant:"secondary",className:"text-xs",children:[e.jsx(Ca,{className:"h-3 w-3 mr-1"}),n?" ":"Replied"]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",dir:"ltr",children:[C.email,C.phone&&`  ${C.phone}`]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium text-sm",children:C.subject}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:C.message})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:U(C.created_at)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Pt,{children:[e.jsx(Jh,{asChild:!0,children:e.jsx(q,{variant:"outline",size:"sm",children:e.jsx($t,{className:"h-4 w-4"})})}),e.jsxs(zt,{className:"max-w-2xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsxs(Jt,{children:[e.jsx(ea,{children:C.subject}),e.jsxs(ps,{children:[n?"":"From",": ",C.name," (",C.email,")",C.phone&&`  ${C.phone}`,e.jsx("br",{}),U(C.created_at)]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-muted/50 p-4 rounded-lg",children:e.jsx("p",{className:"whitespace-pre-wrap",children:C.message})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(q,{onClick:()=>v(C.email,C.subject),className:"flex-1",children:[e.jsx(Yx,{className:"h-4 w-4 mr-2"}),n?"":"Reply"]}),!C.is_read&&e.jsxs(q,{variant:"outline",onClick:()=>b(C.id),children:[e.jsx(Ca,{className:"h-4 w-4 mr-2"}),n?" ":"Mark as Read"]})]})]})]})]}),e.jsx(q,{variant:"outline",size:"sm",onClick:()=>v(C.email,C.subject),children:e.jsx(Yx,{className:"h-4 w-4"})}),!C.is_read&&e.jsx(q,{variant:"outline",size:"sm",onClick:()=>b(C.id),children:e.jsx(Ca,{className:"h-4 w-4"})})]})]})})},C.id))})})]})})]})]})}function fE(){const{t:i}=Me(),[s,n]=_.useState(null),[o,u]=_.useState([]),[c,m]=_.useState(!0),[g,x]=_.useState(null),[j,y]=_.useState(!1),[w,A]=_.useState(null),[h,p]=_.useState(null),[E,b]=_.useState(!1),[v,U]=_.useState(!1),[C,R]=_.useState(!1),[S,N]=_.useState(0);_.useEffect(()=>{z()},[]);const z=async()=>{try{m(!0),x(null);const[k,B]=await Promise.all([Sa.getHeader(),Sa.getAllSections()]);n(k),u(B)}catch(k){console.error("Error loading data:",k),x(k instanceof Error?k.message:"Failed to load data")}finally{m(!1)}},L=()=>{const k={section_key:"",title_en:"",title_ar:"",content_en:"",content_ar:"",image_url:null,layout:"text-left",order_index:o.length+1,is_active:!0};A(k),b(!0)},T=k=>{A({...k}),b(!0)},O=async()=>{if(w)try{y(!0),w.id?(await Sa.updateSection(w.id,w),console.log("Section updated successfully")):(await Sa.createSection(w),console.log("Section created successfully")),await z(),b(!1),A(null)}catch(k){console.error("Error saving section:",k)}finally{y(!1)}},I=async()=>{if(h)try{y(!0),h.id?(await Sa.updateHeader(h.id,h),console.log("Header updated successfully")):(await Sa.createHeader(h),console.log("Header created successfully")),await z(),U(!1),p(null)}catch(k){console.error("Error saving header:",k)}finally{y(!1)}},H=async k=>{if(confirm(i("dashboard.admin.about.confirmDelete","Are you sure you want to delete this section?")))try{y(!0),await Sa.deleteSection(k),await z(),console.log("Section deleted successfully")}catch(B){console.error("Error deleting section:",B)}finally{y(!1)}},W=async(k,B)=>{try{await Sa.toggleSectionStatus(k,B),await z(),console.log("Status updated successfully")}catch(F){console.error("Error toggling status:",F)}},he=async(k,B)=>{const F=o.findIndex(oe=>oe.id===k);if(F===-1)return;const ue=B==="up"?F-1:F+1;if(ue<0||ue>=o.length)return;const X=[...o];[X[F],X[ue]]=[X[ue],X[F]];const Y=X.map((oe,ce)=>({id:oe.id,order_index:ce+1}));try{y(!0),await Sa.updateSectionsOrder(Y),await z(),console.log("Order updated successfully")}catch(oe){console.error("Error reordering sections:",oe)}finally{y(!1)}},ee=async(k,B=!1)=>{if(!k)return;if(!k.type.startsWith("image/")){te.error(i("admin.products.invalidImageType"));return}const F=10*1024*1024;if(k.size>F){te.error(i("admin.products.imageTooLarge"));return}try{R(!0),N(0);const{authService:ue}=await dh(async()=>{const{authService:me}=await Promise.resolve().then(()=>Zy);return{authService:me}},void 0),X=ue.getCurrentUser();if(!X){te.error("Please login first to upload images");return}console.log("Current user:",X.uid,X.email);const Y=setInterval(()=>{N(me=>me>=90?(clearInterval(Y),90):me+10)},200),oe=Date.now(),ce=k.name.replace(/[^a-zA-Z0-9.-]/g,"_"),V=`${oe}_${ce}`,K=B?`admin/about-header/${V}`:`admin/about-sections/${V}`;console.log("Uploading to path:",K);const ye=await Ja.upload(K,k);if(clearInterval(Y),N(100),B&&h)return;w&&A({...w,image_url:ye}),setTimeout(()=>N(0),1e3),te.success(i("admin.products.imageUploaded"))}catch(ue){console.error("Upload error:",ue),N(0);let X=i("admin.products.imageUploadError");ue instanceof Error&&(ue.message.includes("authentication")||ue.message.includes("Unauthorized")?X=i("admin.products.loginRequired"):ue.message.includes("quota")?X=i("admin.products.quotaExceeded"):ue.message.includes("CORS")?X=i("admin.products.corsError"):ue.message.includes("permission")&&(X=i("admin.products.noPermission"))),te.error(X)}finally{R(!1)}};return c?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ua,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:i("common.loading")})]})}):g?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(Ph,{className:"h-6 w-6"}),e.jsx("span",{children:g})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:i("dashboard.admin.about.title","About Page Management")}),e.jsxs(q,{onClick:L,children:[e.jsx(Ba,{className:"h-4 w-4 mr-2"}),i("dashboard.admin.about.addSection","Add Section")]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(pe,{children:i("dashboard.admin.about.pageHeader","Page Header")}),e.jsxs(q,{variant:"outline",onClick:()=>{p(s||{title_en:"",title_ar:"",subtitle_en:"",subtitle_ar:"",is_active:!0}),U(!0)},children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),s?i("dashboard.admin.about.editHeader","Edit Header"):i("dashboard.admin.about.createHeader","Create Header")]})]})}),s&&e.jsx(ne,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("dashboard.admin.about.titleEn","Title (English)")}),e.jsx("p",{className:"font-medium",children:s.title_en}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 mt-3",children:i("dashboard.admin.about.subtitleEn","Subtitle (English)")}),e.jsx("div",{className:"text-sm",children:e.jsx(Za,{content:s.subtitle_en})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("dashboard.admin.about.titleAr","Title (Arabic)")}),e.jsx("p",{className:"font-medium text-right",dir:"rtl",children:s.title_ar}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 mt-3",children:i("dashboard.admin.about.subtitleAr","Subtitle (Arabic)")}),e.jsx("div",{className:"text-sm text-right",dir:"rtl",children:e.jsx(Za,{content:s.subtitle_ar})})]})]})})]}),e.jsx("div",{className:"grid gap-4",children:o.map((k,B)=>e.jsxs(ie,{className:"relative",children:[e.jsx(ge,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"text-lg",children:k.title_en}),e.jsx(Se,{variant:k.is_active?"default":"secondary",children:k.is_active?i("dashboard.admin.about.active","Active"):i("dashboard.admin.about.inactive","Inactive")}),e.jsx(Se,{variant:"outline",children:k.layout})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>he(k.id,"up"),disabled:B===0||j,children:e.jsx(dN,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>he(k.id,"down"),disabled:B===o.length-1||j,children:e.jsx(uN,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>W(k.id,!k.is_active),disabled:j,children:k.is_active?e.jsx(qs,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>T(k),children:e.jsx(Ys,{className:"h-4 w-4"})}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>H(k.id),disabled:j,children:e.jsx(Zt,{className:"h-4 w-4"})})]})]})}),e.jsxs(ne,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("dashboard.admin.about.englishContent","English Content")}),e.jsx("div",{className:"text-sm line-clamp-3",children:e.jsx(Za,{content:k.content_en,maxLength:150})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i("dashboard.admin.about.arabicContent","Arabic Content")}),e.jsx("div",{className:"text-sm line-clamp-3 text-right",dir:"rtl",children:e.jsx(Za,{content:k.content_ar,maxLength:150})})]})]}),k.image_url&&e.jsx("div",{className:"mt-4",children:e.jsx("img",{src:k.image_url,alt:k.title_en,className:"w-24 h-16 object-cover rounded"})})]})]},k.id))}),e.jsx(Pt,{open:E,onOpenChange:b,children:e.jsxs(zt,{className:"max-w-[80%] w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsx(Jt,{children:e.jsx(ea,{children:w?.id?i("dashboard.admin.about.editSection","Edit Section"):i("dashboard.admin.about.addSection","Add Section")})}),w&&e.jsxs(La,{defaultValue:"content",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-2",children:[e.jsx(Pe,{value:"content",children:i("dashboard.admin.about.content","Content")}),e.jsx(Pe,{value:"settings",children:i("dashboard.admin.about.settings","Settings")})]}),e.jsx(ze,{value:"content",className:"space-y-4",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"title_en",className:"block mb-2",children:i("dashboard.admin.about.titleEn","Title (English)")}),e.jsx(da,{value:w.title_en,onChange:k=>A({...w,title_en:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.titleEn","Enter English title"),direction:"ltr",className:"min-h-[120px]"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"content_en",className:"block mb-2",children:i("dashboard.admin.about.contentEn","Content (English)")}),e.jsx(da,{value:w.content_en,onChange:k=>A({...w,content_en:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.contentEn","Enter English content"),direction:"ltr"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"title_ar",className:"block mb-2",children:i("dashboard.admin.about.titleAr","Title (Arabic)")}),e.jsx(da,{value:w.title_ar,onChange:k=>A({...w,title_ar:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.titleAr","Enter Arabic title"),direction:"rtl",className:"min-h-[120px]"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"content_ar",className:"block mb-2",children:i("dashboard.admin.about.contentAr","Content (Arabic)")}),e.jsx(da,{value:w.content_ar,onChange:k=>A({...w,content_ar:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.contentAr","Enter Arabic content"),direction:"rtl"})]})]})]})}),e.jsxs(ze,{value:"settings",className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"section_key",className:"block mb-2",children:i("dashboard.admin.about.sectionKey","Section Key")}),e.jsx($,{id:"section_key",value:w.section_key,onChange:k=>A({...w,section_key:k.target.value}),placeholder:i("dashboard.admin.about.enterPlaceholder.sectionKey","e.g., mission, quality, values")})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"layout",className:"block mb-2",children:i("dashboard.admin.about.layout","Layout")}),e.jsxs(Ue,{value:w.layout,onValueChange:k=>A({...w,layout:k}),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"text-left",children:i("dashboard.admin.about.layoutTextLeft","Text Left, Image Right")}),e.jsx(Q,{value:"text-right",children:i("dashboard.admin.about.layoutTextRight","Text Right, Image Left")}),e.jsx(Q,{value:"full-width",children:i("dashboard.admin.about.layoutFullWidth","Full Width (No Image)")})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(M,{className:"block mb-2",children:i("dashboard.admin.about.sectionImage","Section Image")}),w.image_url&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[i("dashboard.admin.about.currentImage","Current Image"),":"]}),e.jsx("img",{src:w.image_url,alt:i("dashboard.admin.about.sectionImage","Section preview"),className:"w-full max-w-md h-40 object-cover rounded-lg border"})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"file",id:"section-image-upload",accept:"image/*",onChange:k=>{const B=k.target.files?.[0];B&&ee(B,!1)},className:"hidden","aria-label":i("dashboard.admin.about.selectImageFile","Upload section image")}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("section-image-upload")?.click(),disabled:C,children:[e.jsx(hs,{className:"h-4 w-4 mr-2"}),C?i("dashboard.admin.about.uploading","Uploading..."):i("dashboard.admin.about.uploadImage","Upload Image")]}),e.jsx(q,{type:"button",variant:"ghost",size:"icon",onClick:()=>A({...w,image_url:null}),title:i("dashboard.admin.about.removeImage","Remove image"),children:e.jsx(St,{className:"h-4 w-4"})})]}),S>0&&e.jsx(Hn,{value:S,className:"w-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ly,{className:"h-4 w-4"}),e.jsxs(M,{className:"text-sm",children:[i("dashboard.admin.about.enterImageUrl","Or enter image URL"),":"]})]}),e.jsx($,{value:w.image_url||"",onChange:k=>A({...w,image_url:k.target.value||null}),placeholder:i("dashboard.admin.about.enterPlaceholder.imageUrl","https://example.com/image.jpg")})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[e.jsx(it,{id:"is_active",checked:w.is_active,onCheckedChange:k=>A({...w,is_active:k})}),e.jsx(M,{htmlFor:"is_active",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:i("dashboard.admin.about.active","Active")})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxs(q,{variant:"outline",onClick:()=>b(!1),children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),i("common.cancel")]}),e.jsxs(q,{onClick:O,disabled:j,children:[j?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Gs,{className:"h-4 w-4 mr-2"}),i("common.save")]})]})]})}),e.jsx(Pt,{open:v,onOpenChange:U,children:e.jsxs(zt,{className:"max-w-7xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[e.jsx(Jt,{children:e.jsx(ea,{children:h?.id?i("dashboard.admin.about.editHeader","Edit Page Header"):i("dashboard.admin.about.createHeader","Create Page Header")})}),h&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"header_title_en",className:"block mb-2",children:i("dashboard.admin.about.titleEn","Title (English)")}),e.jsx(da,{value:h.title_en,onChange:k=>p({...h,title_en:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.titleEn","Enter English title"),direction:"ltr",className:"min-h-[120px]"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"header_subtitle_en",className:"block mb-2",children:i("dashboard.admin.about.subtitleEn","Subtitle (English)")}),e.jsx(da,{value:h.subtitle_en,onChange:k=>p({...h,subtitle_en:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.subtitleEn","Enter English subtitle"),direction:"ltr",className:"min-h-[150px]"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"header_title_ar",className:"block mb-2",children:i("dashboard.admin.about.titleAr","Title (Arabic)")}),e.jsx(da,{value:h.title_ar,onChange:k=>p({...h,title_ar:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.titleAr","Enter Arabic title"),direction:"rtl",className:"min-h-[120px]"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"header_subtitle_ar",className:"block mb-2",children:i("dashboard.admin.about.subtitleAr","Subtitle (Arabic)")}),e.jsx(da,{value:h.subtitle_ar,onChange:k=>p({...h,subtitle_ar:k}),placeholder:i("dashboard.admin.about.enterPlaceholder.subtitleAr","Enter Arabic subtitle"),direction:"rtl",className:"min-h-[150px]"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rtl:flex-row-reverse",children:[e.jsx(it,{id:"header_is_active",checked:h.is_active||!1,onCheckedChange:k=>p({...h,is_active:k})}),e.jsx(M,{htmlFor:"header_is_active",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:i("dashboard.admin.about.active","Active")})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsxs(q,{variant:"outline",onClick:()=>U(!1),children:[e.jsx(St,{className:"h-4 w-4 mr-2"}),i("common.cancel")]}),e.jsxs(q,{onClick:I,disabled:j,children:[j?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Gs,{className:"h-4 w-4 mr-2"}),i("common.save")]})]})]})})]})}const gE=async()=>{try{const i=ut(Xe(ve,"newsletters"),br("subscribed_at","desc"));return(await At(i)).docs.map(n=>({id:n.id,...n.data()}))}catch(i){throw console.error("Error fetching newsletter subscribers:",i),i}},pE=async i=>{try{await Es(Ie(ve,"newsletters",i))}catch(s){throw console.error("Error unsubscribing from newsletter:",s),s}};function xE(){const{i18n:i}=Me(),{settings:s,loading:n}=rb(),{refreshNewsletterSettings:o}=yo(),[u,c]=_.useState({showNewsletterSection:!0,newsletterBackgroundType:"color",newsletterBackgroundColor:"#f8fafc",newsletterBackgroundColorLight:"#f8fafc",newsletterBackgroundColorDark:"#1e293b",newsletterBackgroundImage:"",newsletterImage:"",newsletterTitle:"Subscribe to our Newsletter",newsletterTitleAr:"   ",newsletterDescription:"Get the latest updates and exclusive offers.",newsletterDescriptionAr:"     ."}),[m,g]=_.useState(!1),[x,j]=_.useState(!1),[y,w]=_.useState([]),[A,h]=_.useState(!1),p=i.language==="ar";_.useEffect(()=>{s&&c({showNewsletterSection:s.showNewsletterSection??!0,newsletterBackgroundType:s.newsletterBackgroundType??"color",newsletterBackgroundColor:s.newsletterBackgroundColor??"#f8fafc",newsletterBackgroundColorLight:s.newsletterBackgroundColorLight??"#f8fafc",newsletterBackgroundColorDark:s.newsletterBackgroundColorDark??"#1e293b",newsletterBackgroundImage:s.newsletterBackgroundImage??"",newsletterImage:s.newsletterImage??"",newsletterTitle:s.newsletterTitle??"Subscribe to our Newsletter",newsletterTitleAr:s.newsletterTitleAr??"   ",newsletterDescription:s.newsletterDescription??"Get the latest updates and exclusive offers.",newsletterDescriptionAr:s.newsletterDescriptionAr??"     ."})},[s]),_.useEffect(()=>{E()},[]);const E=async()=>{h(!0);try{const R=await gE();w(R)}catch(R){console.error("Error loading subscribers:",R),te.error(p?"   ":"Error loading subscribers")}finally{h(!1)}},b=async(R,S)=>{if(R){j(!0);try{const N=Hc(no,`newsletter/${S}/${Date.now()}_${R.name}`),z=await xy(N,R),L=await vy(z.ref);c(S==="background"?T=>({...T,newsletterBackgroundImage:L}):T=>({...T,newsletterImage:L})),te.success(p?"   ":"Image uploaded successfully")}catch(N){console.error("Error uploading image:",N),te.error(p?"   ":"Error uploading image")}finally{j(!1)}}},v=async()=>{g(!0);try{await Pa.updateNewsletterSettings(u),te.success(p?"   ":"Settings saved successfully"),o()}catch(R){console.error("Error saving newsletter settings:",R),te.error(p?"   ":"Error saving settings")}finally{g(!1)}},U=async R=>{try{await pE(R),te.success(p?"   ":"Subscriber deleted successfully"),E()}catch(S){console.error("Error deleting subscriber:",S),te.error(p?"   ":"Error deleting subscriber")}},C=()=>{const R=`data:text/csv;charset=utf-8,Email,Date,Status
`+y.map(z=>{const L=z.subscribed_at;let T="N/A";return L&&(typeof L=="string"?T=new Date(L).toISOString():typeof L=="object"&&L!==null&&"toDate"in L&&typeof L.toDate=="function"?T=L.toDate().toISOString():L instanceof Date?T=L.toISOString():typeof L=="number"&&(T=new Date(L).toISOString())),`${z.email},${T},${z.status||"active"}`}).join(`
`),S=encodeURI(R),N=document.createElement("a");N.setAttribute("href",S),N.setAttribute("download","newsletter_subscribers.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)};return n?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(na,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:p?" ...":"Loading..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:p?"   ":"Newsletter Settings Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:p?"     ":"Customize the appearance and content of the newsletter section"})]}),e.jsxs(q,{onClick:v,disabled:m,className:"flex items-center gap-2",children:[m?e.jsx(na,{className:"w-4 h-4 animate-spin"}):e.jsx(Gs,{className:"w-4 h-4"}),p?" ":"Save Settings"]})]}),e.jsxs(La,{defaultValue:"general",className:"w-full",children:[e.jsxs(Ua,{className:"grid w-full grid-cols-4",children:[e.jsx(Pe,{value:"general",children:p?"":"General"}),e.jsx(Pe,{value:"background",children:p?"":"Background"}),e.jsx(Pe,{value:"content",children:p?"":"Content"}),e.jsx(Pe,{value:"subscribers",children:p?"":"Subscribers"})]}),e.jsx(ze,{value:"general",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(th,{className:"w-5 h-5"}),p?" ":"General Settings"]}),e.jsx(Ce,{children:p?"     ":"Display and behavior settings for the newsletter section"})]}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(M,{className:"text-base",children:p?"   ":"Show Newsletter Section"}),e.jsx("div",{className:"text-sm text-gray-500",children:p?"        ":"Enable or disable the newsletter section on the website"})]}),e.jsx(it,{checked:u.showNewsletterSection,onCheckedChange:R=>c(S=>({...S,showNewsletterSection:R}))})]})})]})}),e.jsx(ze,{value:"background",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Qc,{className:"w-5 h-5"}),p?" ":"Background Settings"]}),e.jsx(Ce,{children:p?"       ":"Customize the background color or image for the newsletter section"})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?" ":"Background Type"}),e.jsxs(Ue,{value:u.newsletterBackgroundType,onValueChange:R=>c(S=>({...S,newsletterBackgroundType:R})),children:[e.jsx(Fe,{children:e.jsx(Be,{placeholder:p?"  ":"Select background type"})}),e.jsxs(He,{children:[e.jsx(Q,{value:"color",children:p?" ":"Solid Color"}),e.jsx(Q,{value:"image",children:p?" ":"Background Image"})]})]})]}),u.newsletterBackgroundType==="color"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(Jm,{className:"w-4 h-4"}),p?"  ( )":"Background Color (Light Mode)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:u.newsletterBackgroundColorLight,onChange:R=>c(S=>({...S,newsletterBackgroundColorLight:R.target.value})),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer",title:p?"    ":"Choose background color for light mode"}),e.jsx($,{value:u.newsletterBackgroundColorLight,onChange:R=>c(S=>({...S,newsletterBackgroundColorLight:R.target.value})),placeholder:"#f8fafc",className:"font-mono"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(eh,{className:"w-4 h-4"}),p?"  ( )":"Background Color (Dark Mode)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:u.newsletterBackgroundColorDark,onChange:R=>c(S=>({...S,newsletterBackgroundColorDark:R.target.value})),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer",title:p?"    ":"Choose background color for dark mode"}),e.jsx($,{value:u.newsletterBackgroundColorDark,onChange:R=>c(S=>({...S,newsletterBackgroundColorDark:R.target.value})),placeholder:"#1e293b",className:"font-mono"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(us,{className:"w-4 h-4"}),p?" ":"Background Image"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"text-sm",children:p?" ":"Image URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{value:u.newsletterBackgroundImage,onChange:R=>c(S=>({...S,newsletterBackgroundImage:R.target.value})),placeholder:p?"  ":"Enter image URL",className:"flex-1"}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("background-file-input")?.click(),disabled:x,className:"flex items-center gap-2",children:[x?e.jsx(na,{className:"w-4 h-4 animate-spin"}):e.jsx(hs,{className:"w-4 h-4"}),p?"":"Upload"]})]}),e.jsx("input",{id:"background-file-input",type:"file",accept:"image/*",className:"hidden",title:p?"  ":"Select background image",onChange:R=>{const S=R.target.files?.[0];S&&b(S,"background")}})]}),u.newsletterBackgroundImage&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"text-sm",children:p?" ":"Image Preview"}),e.jsx("div",{className:"w-full h-32 border rounded-lg overflow-hidden",children:e.jsx("img",{src:u.newsletterBackgroundImage,alt:"Background preview",className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src="/placeholder-image.jpg"}})})]}),e.jsx("div",{className:"text-sm text-gray-500",children:p?"         16:9":"Prefer high-resolution images with 16:9 aspect ratio"})]})]})]})}),e.jsx(ze,{value:"content",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5"}),p?" ":"Content Settings"]}),e.jsx(Ce,{children:p?"     ":"Customize texts and content for the newsletter section"})]}),e.jsxs(ne,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?" ()":"Title (English)"}),e.jsx($,{value:u.newsletterTitle,onChange:R=>c(S=>({...S,newsletterTitle:R.target.value})),placeholder:"Subscribe to our Newsletter"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?" ()":"Title (Arabic)"}),e.jsx($,{value:u.newsletterTitleAr,onChange:R=>c(S=>({...S,newsletterTitleAr:R.target.value})),placeholder:"   ",className:"text-right"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?" ()":"Description (English)"}),e.jsx($,{value:u.newsletterDescription,onChange:R=>c(S=>({...S,newsletterDescription:R.target.value})),placeholder:"Get the latest updates and exclusive offers."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:p?" ()":"Description (Arabic)"}),e.jsx($,{value:u.newsletterDescriptionAr,onChange:R=>c(S=>({...S,newsletterDescriptionAr:R.target.value})),placeholder:"     .",className:"text-right"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(mN,{className:"w-4 h-4"}),p?"  ":"Newsletter Image"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"text-sm",children:p?" ":"Image URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{value:u.newsletterImage,onChange:R=>c(S=>({...S,newsletterImage:R.target.value})),placeholder:p?"  ":"Enter image URL",className:"flex-1"}),e.jsxs(q,{type:"button",variant:"outline",onClick:()=>document.getElementById("newsletter-file-input")?.click(),disabled:x,className:"flex items-center gap-2",children:[x?e.jsx(na,{className:"w-4 h-4 animate-spin"}):e.jsx(hs,{className:"w-4 h-4"}),p?"":"Upload"]})]}),e.jsx("input",{id:"newsletter-file-input",type:"file",accept:"image/*",className:"hidden",title:p?"   ":"Select newsletter image",onChange:R=>{const S=R.target.files?.[0];S&&b(S,"newsletter")}})]}),u.newsletterImage&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{className:"text-sm",children:p?" ":"Image Preview"}),e.jsx("div",{className:"w-full max-w-xs h-32 border rounded-lg overflow-hidden",children:e.jsx("img",{src:u.newsletterImage,alt:"Newsletter preview",className:"w-full h-full object-cover",onError:R=>{R.currentTarget.src="/placeholder-image.jpg"}})})]}),e.jsx("div",{className:"text-sm text-gray-500",children:p?"       ":"Image displayed next to the newsletter subscription form"})]})]})]})}),e.jsx(ze,{value:"subscribers",children:e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(go,{className:"w-5 h-5"}),p?" ":"Subscribers List"]}),e.jsx(Ce,{children:p?"     ":"Manage newsletter subscribers list"}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(q,{onClick:E,variant:"outline",size:"sm",disabled:A,children:[A?e.jsx(na,{className:"w-4 h-4 animate-spin"}):e.jsx(na,{className:"w-4 h-4"}),p?"":"Refresh"]}),e.jsxs(q,{onClick:C,variant:"outline",size:"sm",disabled:y.length===0,children:[e.jsx(nd,{className:"w-4 h-4 mr-2"}),p?" CSV":"Export CSV"]})]})]}),e.jsx(ne,{children:A?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx(na,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:p?" ...":"Loading..."})]}):y.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:p?"    ":"No subscribers yet"}):e.jsxs(ad,{children:[e.jsx(sd,{children:e.jsxs(ei,{children:[e.jsx(Kt,{children:p?" ":"Email"}),e.jsx(Kt,{children:p?" ":"Subscribe Date"}),e.jsx(Kt,{children:p?"":"Status"}),e.jsx(Kt,{children:p?"":"Actions"})]})}),e.jsx(rd,{children:y.map(R=>e.jsxs(ei,{children:[e.jsx(Xt,{className:"font-medium",children:R.email}),e.jsx(Xt,{children:(()=>{const S=R.subscribed_at;if(S){if(typeof S=="string")return new Date(S).toLocaleDateString();if(typeof S=="object"&&S!==null&&"toDate"in S&&typeof S.toDate=="function")return S.toDate().toLocaleDateString();if(S instanceof Date)return S.toLocaleDateString();if(typeof S=="number")return new Date(S).toLocaleDateString()}return"N/A"})()}),e.jsx(Xt,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.status==="active"?p?"":"Active":p?" ":"Inactive"})}),e.jsx(Xt,{children:e.jsx(q,{onClick:()=>U(R.id||""),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",disabled:!R.id,children:e.jsx(Zt,{className:"w-4 h-4"})})})]},R.id||R.email))})]})})]})})]})]})}function vE(){const[i,s]=_.useState(!1),[n,o]=_.useState(null),u=_.useCallback(async()=>{if(!("caches"in window))throw new Error("Cache API not supported");const y=await window.caches.keys(),w=[];let A=0;for(const h of y)try{const p=await window.caches.open(h),E=await p.keys();let b=0,v=new Date(0);for(const U of E)try{const C=await p.match(U);if(C){const S=await C.clone().arrayBuffer();b+=S.byteLength;const N=C.headers.get("last-modified");if(N){const z=new Date(N);z>v&&(v=z)}}}catch(C){console.warn(`Error reading cache entry for ${U.url}:`,C)}A+=b,w.push({name:h,size:Zm(b),lastModified:v.getTime()>0?v.toLocaleString():"Unknown"})}catch(p){console.warn(`Error reading cache ${h}:`,p)}return{totalCaches:y.length,totalSize:Zm(A),caches:w}},[]),c=_.useCallback(async()=>{s(!0);try{const y=await u();o(y)}catch(y){console.error("Error loading cache stats:",y),te.error("Failed to load cache statistics"),o({totalCaches:0,totalSize:"0 Bytes",caches:[]})}finally{s(!1)}},[u]),m=_.useCallback(async()=>{if(!("caches"in window))return te.error("Cache API not supported"),!1;s(!0);try{const y=await window.caches.keys(),w=y.map(A=>window.caches.delete(A));await Promise.all(w),localStorage.clear(),sessionStorage.clear();try{if("indexedDB"in window){const A=await indexedDB.databases?.()||[];for(const h of A)if(h.name){const p=indexedDB.deleteDatabase(h.name);await new Promise((E,b)=>{p.onsuccess=()=>E(void 0),p.onerror=()=>b(p.error)})}}}catch(A){console.warn("Error clearing IndexedDB:",A)}return te.success(`Cleared ${y.length} caches successfully`),o({totalCaches:0,totalSize:"0 Bytes",caches:[]}),!0}catch(y){return console.error("Error clearing caches:",y),te.error("Failed to clear caches"),!1}finally{s(!1)}},[]),g=_.useCallback(async y=>{if(!("caches"in window))return te.error("Cache API not supported"),!1;s(!0);try{return await window.caches.delete(y)?(o(A=>{if(!A)return null;const h=A.caches.filter(b=>b.name!==y),p=h.length;let E=0;return h.forEach(b=>{const v=b.size,[U,C]=v.split(" "),R=parseFloat(U);switch(C){case"KB":E+=R*1024;break;case"MB":E+=R*1024*1024;break;case"GB":E+=R*1024*1024*1024;break;default:E+=R}}),{totalCaches:p,totalSize:Zm(E),caches:h}}),te.success(`Cache "${y}" cleared successfully`),!0):(te.error(`Failed to clear cache "${y}"`),!1)}catch(w){return console.error("Error clearing specific cache:",w),te.error(`Error clearing cache: ${w}`),!1}finally{s(!1)}},[]),x=_.useCallback(async()=>{if(!("serviceWorker"in navigator))return te.error("Service Worker not supported"),!1;s(!0);try{if(window.location.hostname==="localhost")return te.success("Reloading page to apply updates..."),setTimeout(()=>{window.location.reload()},1e3),!0;const w=await navigator.serviceWorker.ready;return w?(await w.update(),w.waiting&&w.waiting.postMessage({type:"SKIP_WAITING"}),setTimeout(()=>{window.location.reload()},1e3),!0):!1}catch(y){return console.error("Error updating service worker:",y),te.success("Reloading page to apply updates..."),setTimeout(()=>{window.location.reload()},1e3),!0}finally{s(!1)}},[]),j=_.useCallback(async()=>{if(!("caches"in window))return te.error("Cache API not supported"),!1;s(!0);try{const y=await window.caches.open("critical-resources-v1"),A=["/","/shop","/about","/contact","/manifest.json","/images/logo.png","/images/favicon.png"].map(async h=>{try{await y.add(h)}catch(p){console.warn(`Failed to cache ${h}:`,p)}});return await Promise.all(A),await c(),!0}catch(y){return console.error("Error preloading critical resources:",y),!1}finally{s(!1)}},[c]);return{loading:i,cacheStats:n,loadCacheStats:c,clearAllCaches:m,clearSpecificCache:g,forceUpdateServiceWorker:x,preloadCriticalResources:j}}function Zm(i){if(i===0)return"0 Bytes";const s=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(i)/Math.log(s));return parseFloat((i/Math.pow(s,o)).toFixed(2))+" "+n[o]}function yE(){const[i,s]=_.useState(!1),n=window.location.hostname==="localhost",{loading:o,cacheStats:u,loadCacheStats:c,clearAllCaches:m,clearSpecificCache:g,forceUpdateServiceWorker:x,preloadCriticalResources:j}=vE();_.useEffect(()=>{"caches"in window?c():te.error("Cache API is not supported in this browser")},[c]);const y=async()=>{if(!confirm("This will remove all cached data including offline resources, API responses, and static assets. Are you sure you want to continue?"))return;await m()&&te.success("All caches cleared successfully! You may need to refresh the page manually if you experience any issues.")},w=async()=>{te.loading("Updating application...",{id:"force-update"}),await x()?te.success("Application updated successfully!",{id:"force-update"}):te.error("Failed to update application",{id:"force-update"})},A=h=>h.includes("workbox")||h.includes("runtime")?"bg-blue-500":h.includes("static")||h.includes("assets")?"bg-green-500":h.includes("api")||h.includes("data")?"bg-purple-500":"bg-gray-500";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Cache Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage application caches, storage, and performance optimization"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>s(!i),className:i?"bg-green-50 border-green-200":"",children:[e.jsx(ry,{className:"h-4 w-4 mr-2"}),"Auto Refresh ",i?"ON":"OFF"]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:c,disabled:o,children:[o?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(na,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),n&&e.jsx(ie,{className:"border-yellow-200 bg-yellow-50",children:e.jsxs(ne,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[e.jsx($s,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Development Mode"})]}),e.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"You are running in development mode. Some cache features may work differently than in production. Service Worker updates will reload the page instead of updating in background."})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Total Caches"}),e.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u?.totalCaches||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active cache stores"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Total Size"}),e.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u?.totalSize||"0 Bytes"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Disk space used"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Service Worker"}),e.jsx(Ca,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"Active"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Background sync enabled"})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(pe,{className:"text-sm font-medium",children:"Auto Update"}),e.jsx(na,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n?"Dev Mode":"Enabled"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?"Manual updates only":"Silent updates active"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"h-5 w-5"}),"Clear Caches"]}),e.jsx(Ce,{children:"Remove all cached data to free up storage space"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs(q,{variant:"destructive",className:"w-full",disabled:o,onClick:y,children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Clear All Caches"]}),e.jsxs(q,{variant:"outline",className:"w-full",onClick:j,disabled:o,children:[e.jsx(nd,{className:"h-4 w-4 mr-2"}),"Preload Critical Resources"]}),e.jsxs(q,{variant:"secondary",className:"w-full",onClick:()=>{c(),te.success("Cache statistics refreshed")},disabled:o,children:[e.jsx(na,{className:"h-4 w-4 mr-2"}),"Refresh Statistics"]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(na,{className:"h-5 w-5"}),"Application Updates"]}),e.jsx(Ce,{children:"Force update and manage application versions"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs(q,{variant:"default",className:"w-full",onClick:w,disabled:o,children:[o?e.jsx(ua,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(na,{className:"h-4 w-4 mr-2"}),n?"Reload Application":"Force Application Update"]}),e.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ca,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"font-medium",children:n?"Development Mode":"Auto-Update Enabled"})]}),e.jsx("p",{children:n?"In development mode, the application will reload to apply changes. Auto-updates are disabled.":"The application automatically checks for updates every 60 seconds and applies them silently without user intervention."})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"h-5 w-5"}),"Cache Details"]}),e.jsx(Ce,{children:"Individual cache stores and their properties"})]}),e.jsx(ne,{children:o?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ua,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading cache information..."})]}):u?.caches&&u.caches.length>0?e.jsx("div",{className:"space-y-4",children:u.caches.map((h,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:`${A(h.name)} text-white`,children:"Cache"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:h.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Gc,{className:"h-3 w-3"}),h.size]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ti,{className:"h-3 w-3"}),h.lastModified]})]})]})]}),e.jsxs(q,{variant:"outline",size:"sm",onClick:()=>g(h.name),disabled:o,children:[e.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Clear"]})]},p))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(zn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No caches found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Caches will appear here as the application creates them"})]})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx($s,{className:"h-5 w-5"}),"Storage Information"]}),e.jsx(Ce,{children:"Browser storage usage and limits"})]}),e.jsx(ne,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Local Storage"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[localStorage.length," items stored"]})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Session Storage"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[sessionStorage.length," items stored"]})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"IndexedDB"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for offline data"})]})]})})]})]})}class Zr{static generateProductSEO(s,n="SpiritHub Cafe"){const o=s.name||"",u=s.name_ar||s.name||"",c=s.description||"",m=s.description_ar||s.description||"",g=this.cleanHTML(c),x=this.cleanHTML(m),j=`${o} - Premium Coffee | ${n}`,y=`${u} -   | ${n}`,w=this.truncateText(g||`Discover ${o} from ${n}. High quality coffee with the best prices and fast delivery.`,160),A=this.truncateText(x||` ${u}  ${n}.        .`,160),h=this.generateProductKeywords(s,"en"),p=this.generateProductKeywords(s,"ar"),E=s.slug||this.generateSlug(o),b=s.image_url||s.image||s.images?.[0]||"";return{meta_title:j,meta_title_ar:y,meta_description:w,meta_description_ar:A,meta_keywords:h.join(", "),meta_keywords_ar:p.join(", "),slug:E,canonical_url:`/products/${E}`,og_title:j,og_title_ar:y,og_description:w,og_description_ar:A,og_image:b,twitter_title:j,twitter_title_ar:y,twitter_description:w,twitter_description_ar:A,twitter_image:b}}static generateCategorySEO(s,n="SpiritHub Cafe"){const o=s.name||"",u=s.name_ar||s.name||"",c=s.description||"",m=s.description_ar||s.description||"",g=this.cleanHTML(c),x=this.cleanHTML(m),j=`${o} - Shop from ${o} Collection | ${n}`,y=`${u} -    ${u} | ${n}`,w=this.truncateText(g||`Discover the amazing ${o} collection at ${n}. Best products with the best prices and fast delivery.`,160),A=this.truncateText(x||`  ${u}   ${n}.       .`,160),h=this.generateCategoryKeywords(s,"en"),p=this.generateCategoryKeywords(s,"ar"),E=s.slug||this.generateSlug(o),b=s.image||"";return{meta_title:j,meta_title_ar:y,meta_description:w,meta_description_ar:A,meta_keywords:h.join(", "),meta_keywords_ar:p.join(", "),slug:E,canonical_url:`/categories/${E}`,og_title:j,og_title_ar:y,og_description:w,og_description_ar:A,og_image:b,twitter_title:j,twitter_title_ar:y,twitter_description:w,twitter_description_ar:A,twitter_image:b}}static generatePageSEO(s,n="SpiritHub Cafe"){const o=s.title||"",u=s.title_ar||s.title||"",c=s.content||"",m=s.content_ar||s.content||"",g=this.cleanHTML(c),x=this.cleanHTML(m),j=`${o} | ${n}`,y=`${u} | ${n}`,w=this.truncateText(g||`${o} - Important information from ${n}`,160),A=this.truncateText(x||`${u} -    ${n}`,160),h=this.generatePageKeywords(s,"en"),p=this.generatePageKeywords(s,"ar"),E=s.slug||this.generateSlug(o);return{meta_title:j,meta_title_ar:y,meta_description:w,meta_description_ar:A,meta_keywords:h.join(", "),meta_keywords_ar:p.join(", "),slug:E,canonical_url:`/pages/${E}`,og_title:j,og_title_ar:y,og_description:w,og_description_ar:A,twitter_title:j,twitter_title_ar:y,twitter_description:w,twitter_description_ar:A}}static generateProductKeywords(s,n="en"){const o=[];return n==="en"?(s.name&&o.push(s.name),s.roast_level&&o.push(s.roast_level),s.processing_method&&o.push(s.processing_method),s.variety&&o.push(s.variety),s.notes&&o.push(...s.notes.split(",").map(u=>u.trim())),o.push("coffee","specialty coffee","premium coffee","roasted coffee","beans")):(s.name_ar&&o.push(s.name_ar),s.roast_level_ar&&o.push(s.roast_level_ar),s.processing_method_ar&&o.push(s.processing_method_ar),s.variety_ar&&o.push(s.variety_ar),s.notes_ar&&o.push(...s.notes_ar.split(",").map(u=>u.trim())),o.push("",""," "," "," "," ")),[...new Set(o.filter(u=>u&&u.trim()!==""))]}static generateCategoryKeywords(s,n="en"){const o=[];return n==="en"?(s.name&&o.push(s.name),o.push("shop","products","coffee","collection","category","buy")):(s.name_ar&&o.push(s.name_ar),o.push("","","","","","")),[...new Set(o.filter(u=>u&&u.trim()!==""))]}static generatePageKeywords(s,n="en"){const o=[];if(n==="en"){s.title&&o.push(s.title);const m=this.cleanHTML(s.content||"").split(" ").slice(0,100).filter(g=>g.length>3&&!["that","this","with","from","they","have","been","will","would","could","should"].includes(g.toLowerCase()));o.push(...m.slice(0,8)),o.push("page","information","details")}else{s.title_ar&&o.push(s.title_ar);const m=this.cleanHTML(s.content_ar||"").split(" ").slice(0,100).filter(g=>g.length>3&&!["","","","","","","","",""].includes(g));o.push(...m.slice(0,8)),o.push("","","")}return[...new Set(o.filter(u=>u&&u.trim()!==""))]}static generateSlug(s){return s.toLowerCase().replace(/[]/g,"").replace(/[]/g,"").replace(/[]/g,"").replace(/[]/g,"").replace(/[^a-z0-9\u0600-\u06FF]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}static cleanHTML(s){return s.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim()}static truncateText(s,n){if(s.length<=n)return s;const o=s.substring(0,n),u=o.lastIndexOf(" ");return u>0?o.substring(0,u)+"...":o+"..."}static async autoGenerateAllProductsSEO(){const s={success:0,failed:0,errors:[]};try{const o=(await we.products.list()).items;for(const u of o)try{const c=this.generateProductSEO(u);console.log("Updating product SEO:",u.id,c),await we.products.update(u.id,{meta_title:c.meta_title,meta_title_ar:c.meta_title_ar,meta_description:c.meta_description,meta_description_ar:c.meta_description_ar,meta_keywords:c.meta_keywords,meta_keywords_ar:c.meta_keywords_ar,slug:c.slug,canonical_url:c.canonical_url,og_title:c.og_title,og_title_ar:c.og_title_ar,og_description:c.og_description,og_description_ar:c.og_description_ar,og_image:c.og_image,twitter_title:c.twitter_title,twitter_title_ar:c.twitter_title_ar,twitter_description:c.twitter_description,twitter_description_ar:c.twitter_description_ar,twitter_image:c.twitter_image,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()}),console.log("Product SEO updated successfully:",u.id),s.success++}catch(c){s.failed++,s.errors.push(`Product ${u.name}: ${c}`)}}catch(n){s.errors.push(`Failed to fetch products: ${n}`)}return s}static async autoGenerateAllCategoriesSEO(){const s={success:0,failed:0,errors:[]};try{const o=(await we.categories.list()).items;for(const u of o)try{const c=this.generateCategorySEO(u);await we.categories.update(u.id,{meta_title:c.meta_title,meta_title_ar:c.meta_title_ar,meta_description:c.meta_description,meta_description_ar:c.meta_description_ar,meta_keywords:c.meta_keywords,meta_keywords_ar:c.meta_keywords_ar,slug:c.slug,canonical_url:c.canonical_url,og_title:c.og_title,og_title_ar:c.og_title_ar,og_description:c.og_description,og_description_ar:c.og_description_ar,og_image:c.og_image,twitter_title:c.twitter_title,twitter_title_ar:c.twitter_title_ar,twitter_description:c.twitter_description,twitter_description_ar:c.twitter_description_ar,twitter_image:c.twitter_image,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()}),s.success++}catch(c){s.failed++,s.errors.push(`Category ${u.name}: ${c}`)}}catch(n){s.errors.push(`Failed to fetch categories: ${n}`)}return s}static async autoGenerateAllPagesSEO(){const s={success:0,failed:0,errors:[]};try{const o=(await we.pages.list()).items;for(const u of o)try{const c=this.generatePageSEO(u);await we.pages.update(u.id,{meta_title:c.meta_title,meta_title_ar:c.meta_title_ar,meta_description:c.meta_description,meta_description_ar:c.meta_description_ar,meta_keywords:c.meta_keywords,meta_keywords_ar:c.meta_keywords_ar,slug:c.slug,canonical_url:c.canonical_url,og_title:c.og_title,og_title_ar:c.og_title_ar,og_description:c.og_description,og_description_ar:c.og_description_ar,twitter_title:c.twitter_title,twitter_title_ar:c.twitter_title_ar,twitter_description:c.twitter_description,twitter_description_ar:c.twitter_description_ar,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()}),s.success++}catch(c){s.failed++,s.errors.push(`Page ${u.title}: ${c}`)}}catch(n){s.errors.push(`Failed to fetch pages: ${n}`)}return s}static async generateSingleItemSEO(s,n){switch(s){case"product":const o=await we.products.get(n);if(!o)throw new Error("Product not found");return this.generateProductSEO(o);case"category":const u=await we.categories.get(n);if(!u)throw new Error("Category not found");return this.generateCategorySEO(u);case"page":const c=await we.pages.get(n);if(!c)throw new Error("Page not found");return this.generatePageSEO(c);default:throw new Error("Invalid type")}}}const bE=()=>{const{t:i}=Me(),[s,n]=_.useState(!1),[o,u]=_.useState(0);return{isGenerating:s,progress:o,generateSingleSEO:async(w,A)=>{try{n(!0);const h=await Zr.generateSingleItemSEO(w,A);switch(w){case"product":await we.products.update(A,{...h,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()});break;case"category":await we.categories.update(A,{...h,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()});break;case"page":await we.pages.update(A,{...h,seo_auto_generated:!0,seo_generated_at:new Date().toISOString()});break}return We.success(i("seo.singleSuccess")),!0}catch(h){return console.error("Error generating SEO:",h),We.error(i("seo.singleError")),!1}finally{n(!1)}},generateAllProductsSEO:async()=>{try{n(!0),u(0);const w=await Zr.autoGenerateAllProductsSEO();return w.success>0&&We.success(i("seo.successProducts",{count:w.success})),w.failed>0&&We.error(i("seo.failedProducts",{count:w.failed})),w}catch(w){return console.error("Error generating products SEO:",w),We.error(i("seo.errorProducts")),{success:0,failed:0,errors:[w]}}finally{n(!1),u(0)}},generateAllCategoriesSEO:async()=>{try{n(!0),u(0);const w=await Zr.autoGenerateAllCategoriesSEO();return w.success>0&&We.success(i("seo.successCategories",{count:w.success})),w.failed>0&&We.error(i("seo.failedCategories",{count:w.failed})),w}catch(w){return console.error("Error generating categories SEO:",w),We.error(i("seo.errorCategories")),{success:0,failed:0,errors:[w]}}finally{n(!1),u(0)}},generateAllPagesSEO:async()=>{try{n(!0),u(0);const w=await Zr.autoGenerateAllPagesSEO();return w.success>0&&We.success(i("seo.successPages",{count:w.success})),w.failed>0&&We.error(i("seo.failedPages",{count:w.failed})),w}catch(w){return console.error("Error generating pages SEO:",w),We.error(i("seo.errorPages")),{success:0,failed:0,errors:[w]}}finally{n(!1),u(0)}},generateAllSEO:async()=>{try{n(!0),u(0),We.loading(i("seo.generatingAll"),{id:"seo-generation"}),u(10);const w=await Zr.autoGenerateAllProductsSEO();u(50);const A=await Zr.autoGenerateAllCategoriesSEO();u(80);const h=await Zr.autoGenerateAllPagesSEO();u(100);const p=w.success+A.success+h.success,E=w.failed+A.failed+h.failed;return p>0&&We.success(i("seo.successAll",{count:p}),{id:"seo-generation"}),E>0&&We.error(i("seo.failedAll",{count:E}),{id:"seo-generation"}),{products:w,categories:A,pages:h}}catch(w){return console.error("Error generating all SEO:",w),We.error(i("seo.errorGeneral"),{id:"seo-generation"}),{products:{success:0,failed:0,errors:[]},categories:{success:0,failed:0,errors:[]},pages:{success:0,failed:0,errors:[]}}}finally{n(!1),u(0)}},generateSEOPreview:async(w,A)=>{try{return await Zr.generateSingleItemSEO(w,A)}catch(h){return console.error("Error generating SEO preview:",h),We.error(i("seo.errorPreview")),null}}}},jE=()=>{const{t:i}=Me(),{isGenerating:s,progress:n,generateAllProductsSEO:o,generateAllCategoriesSEO:u,generateAllPagesSEO:c,generateAllSEO:m}=bE(),[g,x]=_.useState(null),j=async()=>{if(s||!window.confirm(i("seo.confirmAll")))return;const E=await m();x(E)},y=async()=>{if(s||!window.confirm(i("seo.confirmProducts")))return;const E=await o();x({products:E})},w=async()=>{if(s||!window.confirm(i("seo.confirmCategories")))return;const E=await u();x({categories:E})},A=async()=>{if(s||!window.confirm(i("seo.confirmPages")))return;const E=await c();x({pages:E})},h=({results:p})=>{if(!p)return null;const E=(p.products?.success||0)+(p.categories?.success||0)+(p.pages?.success||0),b=(p.products?.failed||0)+(p.categories?.failed||0)+(p.pages?.failed||0);return e.jsxs(ie,{className:"mt-6",children:[e.jsx(ge,{children:e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-5 w-5 text-green-500"}),i("seo.resultsTitle")]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:E}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i("seo.success")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:b}),e.jsx("div",{className:"text-sm text-muted-foreground",children:i("seo.failed")})]})]}),(p.products||p.categories||p.pages)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ht,{}),e.jsxs("div",{className:"text-sm space-y-1",children:[p.products&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:i("seo.products")}),e.jsxs("span",{className:"text-green-600",children:[p.products.success," / ",p.products.success+p.products.failed]})]}),p.categories&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:i("seo.categories")}),e.jsxs("span",{className:"text-green-600",children:[p.categories.success," / ",p.categories.success+p.categories.failed]})]}),p.pages&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:i("seo.pages")}),e.jsxs("span",{className:"text-green-600",children:[p.pages.success," / ",p.pages.success+p.pages.failed]})]})]})]})]})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:i("seo.title")}),e.jsx("p",{className:"text-muted-foreground mt-2",children:i("seo.description")})]}),s&&e.jsx(ie,{children:e.jsx(ne,{className:"pt-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:i("seo.generating")}),e.jsxs("span",{className:"text-sm",children:[n,"%"]})]}),e.jsx(Hn,{value:n,className:"h-2"})]})})}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(ih,{className:"h-6 w-6 text-blue-500"}),i("seo.generateAll")]}),e.jsx(Ce,{children:i("seo.description")})]}),e.jsx(ne,{children:e.jsxs(q,{onClick:j,disabled:s,size:"lg",className:"w-full",children:[s?e.jsx(na,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ih,{className:"h-4 w-4 mr-2"}),i("seo.generateAll")]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Vs,{className:"h-5 w-5 text-green-500"}),i("seo.products").replace(":","")]}),e.jsx(Ce,{children:i("seo.generateProducts")})]}),e.jsx(ne,{className:"space-y-3",children:e.jsxs(q,{onClick:y,disabled:s,variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),i("seo.generateProducts")]})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Wx,{className:"h-5 w-5 text-blue-500"}),i("seo.categories").replace(":","")]}),e.jsx(Ce,{children:i("seo.generateCategories")})]}),e.jsx(ne,{className:"space-y-3",children:e.jsxs(q,{onClick:w,disabled:s,variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Wx,{className:"h-4 w-4 mr-2"}),i("seo.generateCategories")]})})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[e.jsx(Hi,{className:"h-5 w-5 text-purple-500"}),i("seo.pages").replace(":","")]}),e.jsx(Ce,{children:i("seo.generatePages")})]}),e.jsx(ne,{className:"space-y-3",children:e.jsxs(q,{onClick:A,disabled:s,variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Hi,{className:"h-4 w-4 mr-2"}),i("seo.generatePages")]})})]})]}),e.jsxs(ie,{children:[e.jsx(ge,{children:e.jsx(pe,{children:i("seo.featuresTitle")})}),e.jsx(ne,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:i("seo.productsTitle")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[" ",i("seo.optimizedTitle")]}),e.jsxs("li",{children:[" ",i("seo.autoDescription")]}),e.jsxs("li",{children:[" ",i("seo.keywords")]}),e.jsxs("li",{children:[" ",i("seo.socialLinks")]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:i("seo.othersTitle")}),e.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("li",{children:[" ",i("seo.optimizedTitles")]}),e.jsxs("li",{children:[" ",i("seo.autoDescriptions")]}),e.jsxs("li",{children:[" ",i("seo.socialCards")]}),e.jsxs("li",{children:[" ",i("seo.canonicalUrls")]})]})]})]})})]}),e.jsx(h,{results:g})]})};function _E(){const{logout:i,currentUser:s}=Ws(),n=s,{t:o,i18n:u}=Me(),{pendingCount:c}=Zh(),[m,g]=_.useState("overview"),[x,j]=_.useState(!1),y=u.language==="ar",w=_.useRef(null);_.useEffect(()=>{const H=setTimeout(()=>{const W=w.current;W&&W.scrollTo({top:0,behavior:"smooth"})},100);return()=>clearTimeout(H)},[m]);const[A,h]=_.useState([]),[p,E]=_.useState([]),[b,v]=_.useState([]),[U,C]=_.useState(0),[R,S]=_.useState(!0);_.useEffect(()=>{n&&(async()=>{try{if(S(!0),n?.id){const W=await we.orders.list(n.id);h(W.items)}const H=await x4.getFeaturedProducts(10);if(E(H.map(W=>({...W,stock:W.stock??0,low_stock_threshold:W.low_stock_threshold??0,featured:W.featured??!1,bestseller:W.bestseller??!1,price_omr:W.price_omr??0,price_usd:W.price_usd??0,price_sar:W.price_sar??0,name_ar:W.name_ar??""}))),n?.role==="admin"){const W=await we.users.list();v(W.items),await N()}}catch(H){console.error("Error fetching dashboard data:",H)}finally{S(!1)}})()},[n]);const N=async()=>{try{const H=(await we.reviews.list()).items.filter(W=>!W.is_approved).length;C(H)}catch(I){console.error("Error loading pending reviews count:",I)}},z=()=>{i(),window.location.href="/"},L=I=>{v(I)},T=[{category:y?" ":"Personal",icon:Ds,items:[{id:"overview",label:y?" ":"Overview",icon:Qx,show:!0},{id:"profile",label:y?" ":"Profile",icon:Ds,show:!0},{id:"orders",label:y?"":"My Orders",icon:Bn,show:!0}]},...n&&n.role==="admin"?[{category:y?" ":"Store Management",icon:fN,items:[{id:"categories",label:y?"":"Categories",icon:hN,show:!0},{id:"products",label:y?"":"Products",icon:Vs,show:!0},{id:"admin-orders",label:y?" ":"All Orders",icon:Bn,show:!0,badge:c>0?c:void 0},{id:"inventory",label:y?" ":"Inventory & Reports",icon:Qx,show:!0},{id:"reviews",label:y?"":"Reviews",icon:ro,show:!0,badge:U>0?U:void 0}]},{category:y?" ":"Analytics & Reports",icon:Wc,items:[{id:"analytics",label:y?"":"Analytics",icon:Wc,show:!0}]},{category:y?"  ":"Website Design & Content",icon:Qc,items:[{id:"hero-slider",label:y?"  ":"Hero Slider",icon:gN,show:!0},{id:"homepage-settings",label:y?"  ":"Homepage Settings",icon:Jv,show:!0},{id:"footer",label:o("dashboard.admin.footerSettings"),icon:mo,show:!0},{id:"pages",label:y?" ":"Pages Management",icon:Hi,show:!0},{id:"contact",label:o("dashboard.tabs.contact"),icon:jr,show:!0},{id:"about",label:o("dashboard.tabs.about"),icon:Hi,show:!0},{id:"seo-management",label:y?" ":"SEO Management",icon:mo,show:!0}]},{category:y?" ":"Configuration & Settings",icon:pN,items:[{id:"users",label:y?"":"Users",icon:go,show:!0},{id:"checkout-settings",label:y?"  ":"Checkout Settings",icon:my,show:!0},{id:"newsletter",label:y?" ":"Newsletter",icon:gs,show:!0}]},{category:y?" ":"System & Maintenance",icon:xN,items:[{id:"cache-management",label:y?"  ":"Cache Management",icon:zn,show:!0}]}]:[]],O=()=>{switch(m){case"overview":return e.jsx(Hv,{orders:A,products:p});case"orders":return e.jsx(y4,{orders:A});case"profile":return n&&e.jsx(b4,{user:n});case"users":return n?.role==="admin"&&e.jsx(j4,{users:b,onUsersUpdate:L,loading:R});case"hero-slider":return n?.role==="admin"&&e.jsx(nE,{});case"categories":return n?.role==="admin"&&e.jsx(z4,{});case"homepage-settings":return n?.role==="admin"&&e.jsx(mE,{});case"products":return n?.role==="admin"&&e.jsx(B4,{});case"admin-orders":return n?.role==="admin"&&e.jsx(aE,{});case"analytics":return n?.role==="admin"&&e.jsx(_4,{users:b,products:p});case"inventory":return n?.role==="admin"&&e.jsx(sE,{});case"reviews":return n?.role==="admin"&&e.jsx(F4,{});case"footer":return n?.role==="admin"&&e.jsx(rE,{});case"pages":return n?.role==="admin"&&e.jsx(dE,{});case"checkout-settings":return n?.role==="admin"&&e.jsx(Aj,{});case"cache-management":return n?.role==="admin"&&e.jsx(yE,{});case"contact":return n?.role==="admin"&&e.jsx(hE,{});case"about":return n?.role==="admin"&&e.jsx(fE,{});case"newsletter":return n?.role==="admin"&&e.jsx(xE,{});case"seo-management":return n?.role==="admin"&&e.jsx(jE,{});default:return e.jsx(Hv,{orders:A,products:p})}};return n?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx("aside",{className:"w-64 bg-card border-r border-border flex-shrink-0 hidden xl:flex xl:flex-col",children:e.jsxs("div",{className:"p-6 flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold mb-6",children:y?" ":"Dashboard"}),e.jsx("nav",{className:"space-y-6 pb-6",children:T.map((I,H)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"px-1 py-2",children:e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:I.category})}),e.jsx("div",{className:"space-y-1",children:I.items.map(W=>{const he=W.icon;return e.jsxs("button",{onClick:()=>{g(W.id),j(!1)},className:_e("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",m===W.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"flex-1 text-left",children:W.label}),W.badge&&e.jsx(Se,{variant:"destructive",className:"h-5 min-w-[20px] text-xs flex items-center justify-center",children:W.badge})]},W.id)})})]},H))})]})}),e.jsxs("div",{className:_e("fixed inset-0 z-[100] xl:hidden",x?"block":"hidden"),children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>j(!1)}),e.jsx("aside",{className:"fixed top-0 left-0 h-full w-64 bg-card border-r border-border z-[110]",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-border flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold",children:y?" ":"Dashboard"}),e.jsx(q,{variant:"ghost",size:"sm",onClick:()=>j(!1),children:e.jsx(St,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsx("nav",{className:"space-y-6 pb-6",children:T.map((I,H)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"px-1 py-2",children:e.jsx("h3",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:I.category})}),e.jsx("div",{className:"space-y-1",children:I.items.map(W=>{const he=W.icon;return e.jsxs("button",{onClick:()=>{g(W.id),j(!1)},className:_e("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",m===W.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[e.jsx(he,{className:"h-4 w-4"}),e.jsx("span",{className:"flex-1 text-left",children:W.label}),W.badge&&e.jsx(Se,{variant:"destructive",className:"h-5 min-w-[20px] text-xs flex items-center justify-center",children:W.badge})]},W.id)})})]},H))})})]})})]}),e.jsx("main",{ref:w,className:"flex-1 min-w-0 bg-background",children:e.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 max-w-none",children:[e.jsx("div",{className:"mb-6 lg:mb-8",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 lg:gap-4 min-w-0 flex-1",children:[e.jsx(q,{variant:"outline",size:"sm",className:"xl:hidden flex-shrink-0",onClick:()=>j(!0),children:e.jsx(Yv,{className:"h-4 w-4"})}),e.jsxs(lo,{className:"h-12 w-12 lg:h-16 lg:w-16 flex-shrink-0",children:[e.jsx(oo,{src:n.avatar,alt:n.full_name}),e.jsx(co,{children:n.full_name.split(" ").map(I=>I[0]).join("")})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-xl lg:text-3xl font-bold truncate",children:y?` ${n.full_name}`:`Welcome ${n.full_name}`}),e.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:n.role==="admin"?y?" ":"System Administrator":n.role==="employee"?y?"":"Employee":y?"":"Member"})]})]}),e.jsxs(q,{variant:"outline",onClick:z,className:"flex-shrink-0",children:[e.jsx(ah,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:y?" ":"Logout"}),e.jsx("span",{className:"sm:hidden",children:y?"":"Exit"})]})]})}),O()]})})]})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ds,{className:"h-16 w-16 text-muted-foreground mx-auto"}),e.jsx("h1",{className:"text-2xl font-bold",children:y?"  ":"Please login"}),e.jsx(q,{onClick:()=>window.location.href="/login",children:y?" ":"Login"})]})})})})}function wE(){const{i18n:i}=Me(),{formatPrice:s}=Fa(),{addToCart:n}=di(),{wishlist:o,removeFromWishlist:u,loading:c}=jo(),[m,g]=_.useState([]),[x,j]=_.useState(!0),y=i.language==="ar";Rs(),_.useEffect(()=>{(async()=>{if(o.length===0){g([]),j(!1);return}try{j(!0);const p=o.map(v=>we.products.get(v.product_id)),b=(await Promise.all(p)).filter(v=>v!==null);g(b)}catch(p){console.error("Error loading wishlist products:",p)}finally{j(!1)}})()},[o]);const w=async h=>{await n(h,1)},A=async h=>{await u(h)};return x||c?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((h,p)=>e.jsx(ie,{className:"animate-pulse",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-6 bg-muted rounded w-20 mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-9 bg-muted rounded flex-1"}),e.jsx("div",{className:"h-9 bg-muted rounded w-9"})]})]})},p))})})}):e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:y?" ":"My Wishlist"}),e.jsx("p",{className:"text-muted-foreground",children:y?`${m.length}    `:`${m.length} item${m.length!==1?"s":""} in your wishlist`})]}),m.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(ii,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:y?"  ":"Your wishlist is empty"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:y?"    ":"Start adding products you love to your wishlist"}),e.jsx(Ge,{to:"/shop",children:e.jsx(q,{children:y?" ":"Shop Now"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(h=>{const p=h.is_on_sale&&h.sale_price_omr?h.sale_price_omr:h.price_omr,E=[];return h.is_featured&&E.push({text:y?"":"Featured",color:"bg-blue-500"}),h.is_bestseller&&E.push({text:y?" ":"Bestseller",color:"bg-green-500"}),h.is_new_arrival&&E.push({text:y?" ":"New",color:"bg-purple-500"}),h.is_on_sale&&E.push({text:y?"":"Sale",color:"bg-red-500"}),e.jsx(ie,{className:"group hover:shadow-lg transition-shadow h-full flex flex-col",children:e.jsxs(ne,{className:"p-4 flex-1 flex flex-col",children:[e.jsxs(Ge,{to:`/product/${h.slug||h.id}`,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-100",children:e.jsx("img",{src:h.image||h.image_url||"/api/placeholder/300/300",alt:y&&h.name_ar||h.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsx(q,{onClick:b=>{b.preventDefault(),b.stopPropagation(),A(h.id)},size:"icon",variant:"destructive",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Zt,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:E.map((b,v)=>e.jsx(Se,{className:`text-xs text-white ${b.color}`,children:b.text},v))})]}),e.jsxs("div",{className:"space-y-2 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-semibold line-clamp-2 min-h-[3rem]",children:y&&h.name_ar||h.name}),e.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-amber-600",children:s(p)}),h.is_on_sale&&h.sale_price_omr&&h.sale_price_omr<h.price_omr&&e.jsx("span",{className:"text-sm text-muted-foreground line-through",children:s(h.price_omr)})]}),e.jsx(bo,{stock:h.stock_quantity||h.stock||0,variant:"compact",lowStockThreshold:5})]})]})]}),e.jsx("div",{className:"flex gap-2 mt-4",children:e.jsxs(q,{onClick:()=>w(h),className:"flex-1 btn-coffee",size:"sm",disabled:h.stock_quantity<=0,children:[e.jsx(ri,{className:"h-4 w-4 mr-2"}),y?" ":"Add to Cart"]})})]})},h.id)})})]})})}function Vv(){Rs();const{i18n:i}=Me(),s=li(),{id:n}=Lh(),o=i.language==="ar",u=!!n,[c,m]=_.useState(!1),[g,x]=_.useState(!1),[j,y]=_.useState(!1),[w,A]=_.useState(null),[h,p]=_.useState({title:"",title_ar:"",subtitle:"",subtitle_ar:"",description:"",description_ar:"",media_type:"image",media_url:"",media_thumbnail:"",blur_intensity:6,brightness:100,contrast:100,saturation:100,duration:5,button_text:"",button_text_ar:"",button_link:"",button_variant:"primary",secondary_button_text:"",secondary_button_text_ar:"",secondary_button_link:"",text_position:"center",text_alignment:"center",overlay_opacity:70,overlay_color:"#000000",is_active:!0}),E=_.useCallback(async R=>{try{x(!0);const N=(await ms.getHeroSettings()).slides.find(z=>z.id===R);N?(p({title:N.title,title_ar:N.title_ar||"",subtitle:N.subtitle||"",subtitle_ar:N.subtitle_ar||"",description:N.description||"",description_ar:N.description_ar||"",media_type:N.media_type,media_url:N.media_url,media_thumbnail:N.media_thumbnail||"",blur_intensity:N.blur_intensity||6,brightness:N.brightness||100,contrast:N.contrast||100,saturation:N.saturation||100,duration:N.duration||5,button_text:N.button_text||"",button_text_ar:N.button_text_ar||"",button_link:N.button_link||"",button_variant:N.button_variant||"primary",secondary_button_text:N.secondary_button_text||"",secondary_button_text_ar:N.secondary_button_text_ar||"",secondary_button_link:N.secondary_button_link||"",text_position:N.text_position||"center",text_alignment:N.text_alignment||"center",overlay_opacity:N.overlay_opacity||70,overlay_color:N.overlay_color||"#000000",is_active:N.is_active!==void 0?N.is_active:!0}),N.media_url&&A(N.media_url)):(te.error(o?"  ":"Slide not found"),s("/dashboard?section=hero-slider"))}catch(S){console.error("Error loading slide:",S),te.error(o?"   ":"Error loading slide")}finally{x(!1)}},[o,s]);_.useEffect(()=>{u&&n&&E(n)},[n,u,E]),_.useEffect(()=>()=>{w&&w.startsWith("blob:")&&URL.revokeObjectURL(w)},[w]);const b=async R=>{const S=R.target.files?.[0];if(!S)return;const N=S.type.startsWith("image/"),z=S.type.startsWith("video/");if(!N&&!z){te.error(o?"     ":"Please select only image or video files");return}const L=z?50*1024*1024:10*1024*1024;if(S.size>L){const T=z?"50MB":"10MB";te.error(o?`    (  ${T})`:`File size too large (max ${T})`);return}try{y(!0);const T=URL.createObjectURL(S);if(A(T),!Na.getCurrentUser()){te.error(o?"   ":"Please login first to upload files");return}const I=Date.now(),H=S.name.split(".").pop(),W=`hero-slides/${I}.${H}`;try{const he=await Ja.upload(W,S);U("media_url",he),U("media_type",z?"video":"image"),A(he),te.success(o?"   ":"File uploaded successfully")}catch(he){console.error("Firebase Storage upload failed:",he);try{const ee=await Ja.uploadAsDataURL(S);U("media_url",ee),U("media_type",z?"video":"image"),A(ee),te.error(o?"    .     Firebase":"File saved locally only. Please check Firebase settings")}catch(ee){console.error("Fallback upload failed:",ee),te.error(o?"   ":"Error uploading file"),w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),A(null)}}}catch(T){console.error("Error uploading file:",T),te.error(o?"   ":"Error uploading file"),w&&w.startsWith("blob:")&&URL.revokeObjectURL(w),A(null)}finally{y(!1)}},v=()=>{w&&(URL.revokeObjectURL(w),A(null)),U("media_url","")},U=(R,S)=>{if(p(N=>({...N,[R]:S})),R==="media_url")if(S&&typeof S=="string"&&S!==w)try{const N=new URL(S);(N.protocol==="http:"||N.protocol==="https:"||N.protocol==="blob:"||S.includes("firebasestorage.googleapis.com"))&&A(S)}catch{(S.startsWith("/")||S.includes("firebasestorage")||S.includes("appspot.com"))&&A(S)}else S||A(null)},C=async()=>{if(!h.title||!h.media_url){te.error(o?"   ":"Please fill required fields");return}m(!0);try{if(u&&n){const R={id:n,...h,sort_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await ms.updateSlide(n,R),te.success(o?"   ":"Slide updated successfully")}else{const R={...h,sort_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await ms.addSlide(R),te.success(o?"   ":"Slide added successfully")}s("/dashboard?section=hero-slider")}catch(R){console.error("Error saving slide:",R),te.error(o?"   ":"Failed to save slide")}finally{m(!1)}};return g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-amber-600"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:o?" ...":"Loading..."})]})}):e.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(q,{variant:"outline",onClick:()=>s("/dashboard?section=hero-slider"),className:"flex items-center gap-2",children:[e.jsx(_r,{className:"h-4 w-4"}),o?"":"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold flex items-center gap-2",children:u?e.jsxs(e.Fragment,{children:[o?" ":"Edit Slide",h.is_active?e.jsx($t,{className:"h-5 w-5 text-green-600"}):e.jsx(qs,{className:"h-5 w-5 text-muted-foreground"})]}):o?"  ":"Add New Slide"}),e.jsx("p",{className:"text-muted-foreground",children:u?o?"      ":"Edit an existing slide in the hero slider":o?"     ":"Create a new slide for the hero slider"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?" ":"Basic Information"}),e.jsx(Ce,{children:o?"   ":"Basic text and content for the slide"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title",children:o?" () *":"Title (English) *"}),e.jsx($,{id:"title",value:h.title,onChange:R=>U("title",R.target.value),placeholder:o?"  ":"Enter title in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"title_ar",children:o?" ()":"Title (Arabic)"}),e.jsx($,{id:"title_ar",value:h.title_ar,onChange:R=>U("title_ar",R.target.value),placeholder:o?"  ":"Enter title in Arabic",dir:"rtl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle",children:o?"  ()":"Subtitle (English)"}),e.jsx($,{id:"subtitle",value:h.subtitle,onChange:R=>U("subtitle",R.target.value),placeholder:o?"   ":"Enter subtitle in English"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"subtitle_ar",children:o?"  ()":"Subtitle (Arabic)"}),e.jsx($,{id:"subtitle_ar",value:h.subtitle_ar,onChange:R=>U("subtitle_ar",R.target.value),placeholder:o?"   ":"Enter subtitle in Arabic",dir:"rtl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description",children:o?" ()":"Description (English)"}),e.jsx(ct,{id:"description",value:h.description,onChange:R=>U("description",R.target.value),placeholder:o?"  ":"Enter description in English",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"description_ar",children:o?" ()":"Description (Arabic)"}),e.jsx(ct,{id:"description_ar",value:h.description_ar,onChange:R=>U("description_ar",R.target.value),placeholder:o?"  ":"Enter description in Arabic",dir:"rtl",rows:3})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?" ":"Media Settings"}),e.jsx(Ce,{children:o?"   ":"Images, videos, and visual effects"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ":"Media Type"}),e.jsxs(Ue,{value:h.media_type,onValueChange:R=>U("media_type",R),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"image",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-4 w-4"}),o?"":"Image"]})}),e.jsx(Q,{value:"video",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(to,{className:"h-4 w-4"}),o?"":"Video"]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ":"Upload File"}),e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-muted-foreground/25 rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",children:[w?e.jsxs("div",{className:"relative w-full h-full p-2",children:[h.media_type==="video"?e.jsx("video",{src:w,className:"w-full h-full object-cover rounded",controls:!0,muted:!0}):e.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-cover rounded"}),e.jsx("button",{type:"button",onClick:R=>{R.preventDefault(),v()},className:"absolute top-1 right-1 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",children:e.jsx(St,{className:"h-3 w-3"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(hs,{className:"w-6 h-6 mb-2 text-muted-foreground"}),e.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:e.jsx("span",{className:"font-semibold",children:o?" ":"Click to upload"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:o?"PNG JPG MP4 ( 10MB)":"PNG, JPG, MP4 (MAX. 10MB)"}),j&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-600"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o?" ...":"Uploading..."})]})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*,video/*",onChange:b,disabled:j})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"media_url",children:o?"  *":"Media URL *"}),e.jsx($,{id:"media_url",value:h.media_url,onChange:R=>U("media_url",R.target.value),placeholder:o?"       ":"Enter image/video URL or upload a file",type:"url"})]}),h.media_type==="video"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"media_thumbnail",children:o?"  ":"Video Thumbnail"}),e.jsx($,{id:"media_thumbnail",value:h.media_thumbnail,onChange:R=>U("media_thumbnail",R.target.value),placeholder:o?"   ":"Enter thumbnail URL",type:"url"})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium",children:o?" ":"Visual Effects"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"blur_intensity",children:o?` : ${h.blur_intensity}px`:`Blur Intensity: ${h.blur_intensity}px`}),e.jsx("input",{type:"range",id:"blur_intensity",min:"0",max:"20",value:h.blur_intensity,onChange:R=>U("blur_intensity",parseInt(R.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",title:o?` : ${h.blur_intensity}px`:`Blur Intensity: ${h.blur_intensity}px`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"brightness",children:o?`: ${h.brightness}%`:`Brightness: ${h.brightness}%`}),e.jsx("input",{type:"range",id:"brightness",min:"50",max:"150",value:h.brightness,onChange:R=>U("brightness",parseInt(R.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",title:o?`: ${h.brightness}%`:`Brightness: ${h.brightness}%`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"contrast",children:o?`: ${h.contrast}%`:`Contrast: ${h.contrast}%`}),e.jsx("input",{type:"range",id:"contrast",min:"50",max:"150",value:h.contrast,onChange:R=>U("contrast",parseInt(R.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",title:o?`: ${h.contrast}%`:`Contrast: ${h.contrast}%`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"saturation",children:o?`: ${h.saturation}%`:`Saturation: ${h.saturation}%`}),e.jsx("input",{type:"range",id:"saturation",min:"0",max:"200",value:h.saturation,onChange:R=>U("saturation",parseInt(R.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",title:o?`: ${h.saturation}%`:`Saturation: ${h.saturation}%`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"duration",children:o?` : ${h.duration} `:`Display Duration: ${h.duration} seconds`}),e.jsx("input",{type:"range",id:"duration",min:"2",max:"15",value:h.duration,onChange:R=>U("duration",parseInt(R.target.value)),className:"w-full h-2 bg-amber-200 rounded-lg appearance-none cursor-pointer",title:o?` : ${h.duration} `:`Display Duration: ${h.duration} seconds`}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:o?" (2 )":"Fast (2s)"}),e.jsx("span",{children:o?" (15 )":"Slow (15s)"})]})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?" ":"Button Configuration"}),e.jsx(Ce,{children:o?"  ":"Action buttons and links"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"button_text",children:o?"   ()":"Primary Button Text (English)"}),e.jsx($,{id:"button_text",value:h.button_text,onChange:R=>U("button_text",R.target.value),placeholder:o?":  ":"e.g., Shop Now"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"button_text_ar",children:o?"   ()":"Primary Button Text (Arabic)"}),e.jsx($,{id:"button_text_ar",value:h.button_text_ar,onChange:R=>U("button_text_ar",R.target.value),placeholder:o?":  ":"e.g.,  ",dir:"rtl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"button_link",children:o?"  ":"Primary Button Link"}),e.jsx($,{id:"button_link",value:h.button_link,onChange:R=>U("button_link",R.target.value),placeholder:"/shop"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?"  ":"Primary Button Style"}),e.jsxs(Ue,{value:h.button_variant,onValueChange:R=>U("button_variant",R),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"primary",children:o?"":"Primary"}),e.jsx(Q,{value:"secondary",children:o?"":"Secondary"}),e.jsx(Q,{value:"outline",children:o?"":"Outline"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t space-y-4",children:[e.jsx("h4",{className:"font-medium",children:o?"  ()":"Secondary Button (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary_button_text",children:o?"   ()":"Secondary Button Text (English)"}),e.jsx($,{id:"secondary_button_text",value:h.secondary_button_text,onChange:R=>U("secondary_button_text",R.target.value),placeholder:o?":  ":"e.g., Learn More"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary_button_text_ar",children:o?"   ()":"Secondary Button Text (Arabic)"}),e.jsx($,{id:"secondary_button_text_ar",value:h.secondary_button_text_ar,onChange:R=>U("secondary_button_text_ar",R.target.value),placeholder:o?":  ":"e.g.,  ",dir:"rtl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"secondary_button_link",children:o?"  ":"Secondary Button Link"}),e.jsx($,{id:"secondary_button_link",value:h.secondary_button_link,onChange:R=>U("secondary_button_link",R.target.value),placeholder:"/about"})]})]})]})]}),e.jsxs(ie,{children:[e.jsxs(ge,{children:[e.jsx(pe,{children:o?" ":"Layout & Style"}),e.jsx(Ce,{children:o?"   ":"Text position, background, and display settings"})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ":"Text Position"}),e.jsxs(Ue,{value:h.text_position,onValueChange:R=>U("text_position",R),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"left",children:o?"":"Left"}),e.jsx(Q,{value:"center",children:o?"":"Center"}),e.jsx(Q,{value:"right",children:o?"":"Right"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:o?" ":"Text Alignment"}),e.jsxs(Ue,{value:h.text_alignment,onValueChange:R=>U("text_alignment",R),children:[e.jsx(Fe,{children:e.jsx(Be,{})}),e.jsxs(He,{children:[e.jsx(Q,{value:"left",children:o?"":"Left"}),e.jsx(Q,{value:"center",children:o?"":"Center"}),e.jsx(Q,{value:"right",children:o?"":"Right"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"overlay_opacity",children:o?` : ${h.overlay_opacity}%`:`Overlay Opacity: ${h.overlay_opacity}%`}),e.jsx("input",{type:"range",id:"overlay_opacity",min:"0",max:"100",value:h.overlay_opacity,onChange:R=>U("overlay_opacity",parseInt(R.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",title:o?` : ${h.overlay_opacity}%`:`Overlay Opacity: ${h.overlay_opacity}%`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"overlay_color",children:o?" ":"Overlay Color"}),e.jsx($,{id:"overlay_color",type:"color",value:h.overlay_color,onChange:R=>U("overlay_color",R.target.value),className:"h-10 w-full"})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(it,{id:"is_active",checked:h.is_active,onCheckedChange:R=>U("is_active",R)}),e.jsx(M,{htmlFor:"is_active",children:o?"":"Active"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[e.jsx(q,{variant:"outline",onClick:()=>s("/dashboard?section=hero-slider"),disabled:c,children:o?"":"Cancel"}),e.jsxs(q,{onClick:C,disabled:c,className:"flex items-center gap-2",children:[e.jsx(Gs,{className:"h-4 w-4"}),c?o?" ...":"Saving...":u?o?" ":"Update Slide":o?" ":"Save Slide"]})]})]})}function NE({content:i,className:s="",dir:n="ltr"}){const o=j=>j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),u=j=>/<\/?[a-z][\s\S]*>/i.test(j),c=j=>j.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/__(.+?)__/g,"<strong>$1</strong>").replace(/(?<!\*)\*(?!\s)(.+?)(?<!\s)\*(?!\*)/g,"<em>$1</em>").replace(/_(?!\s)(.+?)(?<!\s)_/g,"<em>$1</em>"),m=j=>j.replace(/<p>\s*<\/p>/gi,"").replace(/(?:<br\s*\/?>\s*){2,}/gi,"<br>").replace(/\n{2,}/g,`
`),g=j=>{const y=j.replace(/\r\n?/g,`
`).trim().split(`
`),w=[];let A=0;const h=p=>{if(!p.length)return;const E=p.join("<br>");w.push(`<p>${c(E)}</p>`),p.length=0};for(;A<y.length;){const p=y[A].trim();if(!p){A++;continue}const E=/^(#{1,6})\s+(.+)$/.exec(p);if(E){const v=Math.min(E[1].length,3),U=c(o(E[2]));w.push(`<h${v+1} class="rt-h">${U}</h${v+1}>`),A++;continue}if(/^\d+\.\s+/.test(p)){const v=[];for(;A<y.length&&/^\d+\.\s+/.test(y[A].trim());){const U=y[A].trim().match(/^\d+\.\s+(.+)$/);v.push(`<li>${c(o(U[1]))}</li>`),A++}w.push(`<ol class="rt-ol">${v.join("")}</ol>`);continue}if(/^[-*]\s+/.test(p)){const v=[];for(;A<y.length&&/^[-*]\s+/.test(y[A].trim());){const U=y[A].trim().match(/^[-*]\s+(.+)$/);v.push(`<li>${c(o(U[1]))}</li>`),A++}w.push(`<ul class="rt-ul">${v.join("")}</ul>`);continue}const b=[];for(;A<y.length;){const v=y[A].trim();if(!v||/^(#{1,6})\s+/.test(v)||/^\d+\.\s+/.test(v)||/^[-*]\s+/.test(v))break;b.push(c(o(v))),A++}h(b)}return w.join("")},x=u(i)?m(i):g(i);return e.jsx("div",{dir:n,className:`rich-text-content ${s}`,dangerouslySetInnerHTML:{__html:x}})}function Rn(){const{slug:i}=Lh(),s=li(),n=qn(),{i18n:o}=Me(),[u,c]=_.useState(null),[m,g]=_.useState(!0),[x,j]=_.useState(null),y=o.language==="ar";_.useEffect(()=>{const p=()=>{if(i)return i;const b=n.pathname;return b.startsWith("/page/")?b.replace("/page/",""):b.replace("/","")};(async()=>{const b=p();if(!b){j(y?"    ":"Page not found"),g(!1);return}try{g(!0),j(null);const v=await we.pages.getBySlug(b);if(!v)j(y?"    ":"Page not found");else{c(v);const U=y?v.title_ar:v.title;document.title=`${U} - SpiritHub Cafe`;const C=y?v.meta_description_ar||v.meta_description:v.meta_description||v.meta_description_ar;if(C){const R=document.querySelector('meta[name="description"]');if(R)R.setAttribute("content",C);else{const S=document.createElement("meta");S.name="description",S.content=C,document.head.appendChild(S)}}}}catch(v){console.error("Error loading page:",v),j(y?"   ":"Error loading page"),te.error(y?"   ":"Error loading page")}finally{g(!1)}})()},[i,y,n.pathname]),_.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[n.pathname]);const w=()=>{s(-1)};if(m)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})});if(x||!u)return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx(Ph,{className:"h-16 w-16 text-muted-foreground mx-auto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:y?"  ":"Page Not Found"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:x||(y?"     ":"The requested page could not be found")})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsxs(q,{onClick:w,variant:"outline",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),y?"":"Go Back"]}),e.jsx(q,{onClick:()=>s("/"),children:y?" ":"Home Page"})]})]})})})});const A=y?u.title_ar:u.title,h=y?u.content_ar:u.content;return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(q,{onClick:w,variant:"outline",className:"mb-6",children:[e.jsx(_r,{className:"h-4 w-4 mr-2"}),y?"":"Back"]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(Hi,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight",children:A}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[e.jsx(uy,{className:"h-4 w-4"}),e.jsxs("span",{children:[y?" : ":"Last updated: ",u.updated.toLocaleDateString(y?"ar-SA":"en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]})]})})]}),e.jsx(ie,{className:"max-w-6xl mx-auto",children:e.jsx(ne,{className:"p-8 md:p-12",children:e.jsx(NE,{content:h,dir:y?"rtl":"ltr",className:"max-w-none"})})}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx(q,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),variant:"outline",children:y?" ":"Back to Top"})})]})})}const SE=_.memo(()=>{const i=qn();return["/hero-slide"].some(o=>i.pathname.startsWith(o))?null:e.jsx(ak,{})}),CE=_.memo(()=>{const i=qn();return["/dashboard","/hero-slide"].some(o=>i.pathname.startsWith(o))?null:e.jsx(rk,{})});function kE(){return e.jsx(y2,{defaultTheme:"system",storageKey:"spirithub-ui-theme",children:e.jsx(j2,{defaultCurrency:"OMR",storageKey:"spirithub-currency",children:e.jsx(a1,{children:e.jsx(s1,{children:e.jsx(o1,{children:e.jsx(qN,{children:e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(SE,{}),e.jsx("main",{className:"flex-1 relative",children:e.jsxs($N,{children:[e.jsx(It,{path:"/",element:e.jsx(Ok,{})}),e.jsx(It,{path:"/shop",element:e.jsx(yA,{})}),e.jsx(It,{path:"/product/:slug",element:e.jsx(kA,{})}),e.jsx(It,{path:"/about",element:e.jsx(MA,{})}),e.jsx(It,{path:"/contact",element:e.jsx(LA,{})}),e.jsx(It,{path:"/login",element:e.jsx(UA,{})}),e.jsx(It,{path:"/register",element:e.jsx(BA,{})}),e.jsx(It,{path:"/forgot-password",element:e.jsx(FA,{})}),e.jsx(It,{path:"/checkout",element:e.jsx(ZA,{})}),e.jsx(It,{path:"/checkout-success",element:e.jsx(JA,{})}),e.jsx(It,{path:"/wishlist",element:e.jsx(On,{children:e.jsx(wE,{})})}),e.jsx(It,{path:"/dashboard",element:e.jsx(On,{children:e.jsx(_E,{})})}),e.jsx(It,{path:"/cache-management",element:e.jsx(On,{children:e.jsx(OA,{})})}),e.jsx(It,{path:"/dashboard/checkout-settings",element:e.jsx(On,{children:e.jsx(Aj,{})})}),e.jsx(It,{path:"/hero-slide/add",element:e.jsx(On,{children:e.jsx(Vv,{})})}),e.jsx(It,{path:"/hero-slide/edit/:id",element:e.jsx(On,{children:e.jsx(Vv,{})})}),e.jsx(It,{path:"/page/:slug",element:e.jsx(Rn,{})}),e.jsx(It,{path:"/privacy-policy",element:e.jsx(Rn,{})}),e.jsx(It,{path:"/terms-and-conditions",element:e.jsx(Rn,{})}),e.jsx(It,{path:"/refund-policy",element:e.jsx(Rn,{})}),e.jsx(It,{path:"/delivery-policy",element:e.jsx(Rn,{})}),e.jsx(It,{path:"/faq",element:e.jsx(Rn,{})})]})}),e.jsx(CE,{}),e.jsx(x2,{position:"bottom-right",toastOptions:{duration:3e3,className:"coffee-toast",style:{background:"linear-gradient(135deg, hsl(var(--card)) 0%, hsl(var(--muted)) 100%)",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",backdropFilter:"blur(10px)",fontSize:"14px",fontWeight:"500",padding:"16px"},success:{style:{background:"linear-gradient(135deg, oklch(0.95 0.05 85) 0%, oklch(0.92 0.08 75) 100%)",border:"1px solid oklch(0.8 0.1 80)",color:"oklch(0.3 0.15 85)"},iconTheme:{primary:"oklch(0.55 0.15 85)",secondary:"oklch(0.95 0.05 85)"}},error:{style:{background:"linear-gradient(135deg, oklch(0.95 0.05 25) 0%, oklch(0.92 0.08 15) 100%)",border:"1px solid oklch(0.8 0.1 20)",color:"oklch(0.3 0.15 25)"},iconTheme:{primary:"oklch(0.55 0.15 25)",secondary:"oklch(0.95 0.05 25)"}}}})]})})})})})})})}function AE(){return e.jsx(ik,{children:e.jsx(kE,{})})}TA();QN.createRoot(document.getElementById("root")).render(e.jsx(_.StrictMode,{children:e.jsx(AE,{})}));
